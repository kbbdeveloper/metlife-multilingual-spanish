function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a){(function(b){"use strict";function c(a,b,c){a[b]||Object[d](a,b,{writable:!0,configurable:!0,value:c})}if(a(296),a(2),a(3),b._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");b._babelPolyfill=!0;var d="defineProperty";c(String.prototype,"padLeft","".padStart),c(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(a){[][a]&&c(Array,a,Function.call.bind([][a]))})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2,296:296,3:3}],2:[function(a,b){b.exports=a(297)},{297:297}],3:[function(a,b){a(121),b.exports=a(24).RegExp.escape},{121:121,24:24}],4:[function(a,b){b.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},{}],5:[function(a,b){var c=a(19);b.exports=function(a,b){if("number"!=typeof a&&"Number"!=c(a))throw TypeError(b);return+a}},{19:19}],6:[function(a,b){var c=a(118)("unscopables"),d=Array.prototype;void 0==d[c]&&a(41)(d,c,{}),b.exports=function(a){d[c][a]=!0}},{118:118,41:41}],7:[function(a,b){b.exports=function(a,b,c,d){if(!(a instanceof b)||void 0!==d&&d in a)throw TypeError(c+": incorrect invocation!");return a}},{}],8:[function(a,b){var c=a(50);b.exports=function(a){if(!c(a))throw TypeError(a+" is not an object!");return a}},{50:50}],9:[function(a,b){"use strict";var c=a(110),d=a(106),e=a(109);b.exports=[].copyWithin||function(a,b){var f=c(this),g=e(f.length),h=d(a,g),i=d(b,g),j=arguments.length>2?arguments[2]:void 0,k=Math.min((void 0===j?g:d(j,g))-i,g-h),l=1;for(h>i&&i+k>h&&(l=-1,i+=k-1,h+=k-1);k-- >0;)i in f?f[h]=f[i]:delete f[h],h+=l,i+=l;return f}},{106:106,109:109,110:110}],10:[function(a,b){"use strict";var c=a(110),d=a(106),e=a(109);b.exports=function(a){for(var b=c(this),f=e(b.length),g=arguments.length,h=d(g>1?arguments[1]:void 0,f),i=g>2?arguments[2]:void 0,j=void 0===i?f:d(i,f);j>h;)b[h++]=a;return b}},{106:106,109:109,110:110}],11:[function(a,b){var c=a(38);b.exports=function(a,b){var d=[];return c(a,!1,d.push,d,b),d}},{38:38}],12:[function(a,b){var c=a(108),d=a(109),e=a(106);b.exports=function(a){return function(b,f,g){var h,i=c(b),j=d(i.length),k=e(g,j);if(a&&f!=f){for(;j>k;)if(h=i[k++],h!=h)return!0}else for(;j>k;k++)if((a||k in i)&&i[k]===f)return a||k||0;return!a&&-1}}},{106:106,108:108,109:109}],13:[function(a,b){var c=a(26),d=a(46),e=a(110),f=a(109),g=a(16);b.exports=function(a,b){var h=1==a,i=2==a,j=3==a,k=4==a,l=6==a,m=5==a||l,n=b||g;return function(b,g,o){for(var p,q,r=e(b),s=d(r),t=c(g,o,3),u=f(s.length),v=0,w=h?n(b,u):i?n(b,0):void 0;u>v;v++)if((m||v in s)&&(p=s[v],q=t(p,v,r),a))if(h)w[v]=q;else if(q)switch(a){case 3:return!0;case 5:return p;case 6:return v;case 2:w.push(p)}else if(k)return!1;return l?-1:j||k?k:w}}},{109:109,110:110,16:16,26:26,46:46}],14:[function(a,b){var c=a(4),d=a(110),e=a(46),f=a(109);b.exports=function(a,b,g,h,i){c(b);var j=d(a),k=e(j),l=f(j.length),m=i?l-1:0,n=i?-1:1;if(2>g)for(;;){if(m in k){h=k[m],m+=n;break}if(m+=n,i?0>m:m>=l)throw TypeError("Reduce of empty array with no initial value")}for(;i?m>=0:l>m;m+=n)m in k&&(h=b(h,k[m],m,j));return h}},{109:109,110:110,4:4,46:46}],15:[function(a,b){var c=a(50),d=a(48),e=a(118)("species");b.exports=function(a){var b;return d(a)&&(b=a.constructor,"function"!=typeof b||b!==Array&&!d(b.prototype)||(b=void 0),c(b)&&(b=b[e],null===b&&(b=void 0))),void 0===b?Array:b}},{118:118,48:48,50:50}],16:[function(a,b){var c=a(15);b.exports=function(a,b){return new(c(a))(b)}},{15:15}],17:[function(a,b){"use strict";var c=a(4),d=a(50),e=a(45),f=[].slice,g={},h=function(a,b,c){if(!(b in g)){for(var d=[],e=0;b>e;e++)d[e]="a["+e+"]";g[b]=Function("F,a","return new F("+d.join(",")+")")}return g[b](a,c)};b.exports=Function.bind||function(a){var b=c(this),g=f.call(arguments,1),i=function(){var c=g.concat(f.call(arguments));return this instanceof i?h(b,c.length,c):e(b,c,a)};return d(b.prototype)&&(i.prototype=b.prototype),i}},{4:4,45:45,50:50}],18:[function(a,b){var c=a(19),d=a(118)("toStringTag"),e="Arguments"==c(function(){return arguments}()),f=function(a,b){try{return a[b]}catch(a){}};b.exports=function(a){var b,g,h;return void 0===a?"Undefined":null===a?"Null":"string"==typeof(g=f(b=Object(a),d))?g:e?c(b):"Object"==(h=c(b))&&"function"==typeof b.callee?"Arguments":h}},{118:118,19:19}],19:[function(a,b){var c={}.toString;b.exports=function(a){return c.call(a).slice(8,-1)}},{}],20:[function(a,b){"use strict";var c=a(68).f,d=a(67),e=(a(41),a(87)),f=a(26),g=a(7),h=a(28),i=a(38),j=a(54),k=a(56),l=a(92),m=a(29),n=a(63).fastKey,o=m?"_s":"size",p=function(a,b){var c,d=n(b);if("F"!==d)return a._i[d];for(c=a._f;c;c=c.n)if(c.k==b)return c};b.exports={getConstructor:function(a,b,j,k){var l=a(function(a,c){g(a,l,b,"_i"),a._i=d(null),a._f=void 0,a._l=void 0,a[o]=0,void 0!=c&&i(c,j,a[k],a)});return e(l.prototype,{clear:function(){for(var a=this,b=a._i,c=a._f;c;c=c.n)c.r=!0,c.p&&(c.p=c.p.n=void 0),delete b[c.i];a._f=a._l=void 0,a[o]=0},delete:function(a){var b=this,c=p(b,a);if(c){var d=c.n,e=c.p;delete b._i[c.i],c.r=!0,e&&(e.n=d),d&&(d.p=e),b._f==c&&(b._f=d),b._l==c&&(b._l=e),b[o]--}return!!c},forEach:function(a){g(this,l,"forEach");for(var b,c=f(a,arguments.length>1?arguments[1]:void 0,3);b=b?b.n:this._f;)for(c(b.v,b.k,this);b&&b.r;)b=b.p},has:function(a){return!!p(this,a)}}),m&&c(l.prototype,"size",{get:function(){return h(this[o])}}),l},def:function(a,b,c){var d,e,f=p(a,b);return f?f.v=c:(a._l=f={i:e=n(b,!0),k:b,v:c,p:d=a._l,n:void 0,r:!1},a._f||(a._f=f),d&&(d.n=f),a[o]++,"F"!==e&&(a._i[e]=f)),a},getEntry:p,setStrong:function(a,b,c){j(a,b,function(a,b){this._t=a,this._k=b,this._l=void 0},function(){for(var a=this,b=a._k,c=a._l;c&&c.r;)c=c.p;return a._t&&(a._l=c=c?c.n:a._t._f)?"keys"==b?k(0,c.k):"values"==b?k(0,c.v):k(0,[c.k,c.v]):(a._t=void 0,k(1))},c?"entries":"values",!c,!0),l(b)}}},{26:26,28:28,29:29,38:38,41:41,54:54,56:56,63:63,67:67,68:68,7:7,87:87,92:92}],21:[function(a,b){var c=a(18),d=a(11);b.exports=function(a){return function(){if(c(this)!=a)throw TypeError(a+"#toJSON isn't generic");return d(this)}}},{11:11,18:18}],22:[function(a,b){"use strict";var c=a(87),d=a(63).getWeak,e=a(8),f=a(50),g=a(7),h=a(38),i=a(13),j=a(40),k=i(5),l=i(6),m=0,n=function(a){return a._l||(a._l=new o)},o=function(){this.a=[]},p=function(a,b){return k(a.a,function(a){return a[0]===b})};o.prototype={get:function(a){var b=p(this,a);return b?b[1]:void 0},has:function(a){return!!p(this,a)},set:function(a,b){var c=p(this,a);c?c[1]=b:this.a.push([a,b])},delete:function(a){var b=l(this.a,function(b){return b[0]===a});return~b&&this.a.splice(b,1),!!~b}},b.exports={getConstructor:function(a,b,e,i){var k=a(function(a,c){g(a,k,b,"_i"),a._i=m++,a._l=void 0,void 0!=c&&h(c,e,a[i],a)});return c(k.prototype,{delete:function(a){if(!f(a))return!1;var b=d(a);return b===!0?n(this).delete(a):b&&j(b,this._i)&&delete b[this._i]},has:function(a){if(!f(a))return!1;var b=d(a);return b===!0?n(this).has(a):b&&j(b,this._i)}}),k},def:function(a,b,c){var f=d(e(b),!0);return f===!0?n(a).set(b,c):f[a._i]=c,a},ufstore:n}},{13:13,38:38,40:40,50:50,63:63,7:7,8:8,87:87}],23:[function(a,b){"use strict";var c=a(39),d=a(33),e=a(88),f=a(87),g=a(63),h=a(38),i=a(7),j=a(50),k=a(35),l=a(55),m=a(93),n=a(44);b.exports=function(a,b,o,p,q,r){var s=c[a],t=s,u=q?"set":"add",v=t&&t.prototype,w={},x=function(a){var b=v[a];e(v,a,"delete"==a?function(a){return!(r&&!j(a))&&b.call(this,0===a?0:a)}:"has"==a?function(a){return!(r&&!j(a))&&b.call(this,0===a?0:a)}:"get"==a?function(a){return r&&!j(a)?void 0:b.call(this,0===a?0:a)}:"add"==a?function(a){return b.call(this,0===a?0:a),this}:function(a,c){return b.call(this,0===a?0:a,c),this})};if("function"==typeof t&&(r||v.forEach&&!k(function(){(new t).entries().next()}))){var y=new t,z=y[u](r?{}:-0,1)!=y,A=k(function(){y.has(1)}),B=l(function(a){new t(a)}),C=!r&&k(function(){for(var a=new t,b=5;b--;)a[u](b,b);return!a.has(-0)});B||(t=b(function(b,c){i(b,t,a);var d=n(new s,b,t);return void 0!=c&&h(c,q,d[u],d),d}),t.prototype=v,v.constructor=t),(A||C)&&(x("delete"),x("has"),q&&x("get")),(C||z)&&x(u),r&&v.clear&&delete v.clear}else t=p.getConstructor(b,a,q,u),f(t.prototype,o),g.NEED=!0;return m(t,a),w[a]=t,d(d.G+d.W+d.F*(t!=s),w),r||p.setStrong(t,a,q),t}},{33:33,35:35,38:38,39:39,44:44,50:50,55:55,63:63,7:7,87:87,88:88,93:93}],24:[function(a,b){var c=b.exports={version:"2.3.0"};"number"==typeof __e&&(__e=c)},{}],25:[function(a,b){"use strict";var c=a(68),d=a(86);b.exports=function(a,b,e){b in a?c.f(a,b,d(0,e)):a[b]=e}},{68:68,86:86}],26:[function(a,b){var c=a(4);b.exports=function(a,b,d){if(c(a),void 0===b)return a;switch(d){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}}},{4:4}],27:[function(a,b){"use strict";var c=a(8),d=a(111),e="number";b.exports=function(a){if("string"!==a&&a!==e&&"default"!==a)throw TypeError("Incorrect hint");return d(c(this),a!=e)}},{111:111,8:8}],28:[function(a,b){b.exports=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a}},{}],29:[function(a,b){b.exports=!a(35)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{35:35}],30:[function(a,b){var c=a(50),d=a(39).document,e=c(d)&&c(d.createElement);b.exports=function(a){return e?d.createElement(a):{}}},{39:39,50:50}],31:[function(a,b){b.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],32:[function(a,b){var c=a(77),d=a(74),e=a(78);b.exports=function(a){var b=c(a),f=d.f;if(f)for(var g,h=f(a),i=e.f,j=0;h.length>j;)i.call(a,g=h[j++])&&b.push(g);return b}},{74:74,77:77,78:78}],33:[function(a,b){var c=a(39),d=a(24),e=a(41),f=a(88),g=a(26),h="prototype",i=function(a,b,j){var k,l,m,n,o=a&i.F,p=a&i.G,q=a&i.S,r=a&i.P,s=a&i.B,t=p?c:q?c[b]||(c[b]={}):(c[b]||{})[h],u=p?d:d[b]||(d[b]={}),v=u[h]||(u[h]={});p&&(j=b);for(k in j)l=!o&&t&&void 0!==t[k],m=(l?t:j)[k],n=s&&l?g(m,c):r&&"function"==typeof m?g(Function.call,m):m,t&&f(t,k,m,a&i.U),u[k]!=m&&e(u,k,n),r&&v[k]!=m&&(v[k]=m)};c.core=d,i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,i.U=64,i.R=128,b.exports=i},{24:24,26:26,39:39,41:41,88:88}],34:[function(a,b){var c=a(118)("match");b.exports=function(a){var b=/./;try{"/./"[a](b)}catch(d){try{return b[c]=!1,!"/./"[a](b)}catch(a){}}return!0}},{118:118}],35:[function(a,b){b.exports=function(a){try{return!!a()}catch(a){return!0}}},{}],36:[function(a,b){"use strict";var c=a(41),d=a(88),e=a(35),f=a(28),g=a(118);b.exports=function(a,b,h){var i=g(a),j=h(f,i,""[a]),k=j[0],l=j[1];e(function(){var b={};return b[i]=function(){return 7},7!=""[a](b)})&&(d(String.prototype,a,k),c(RegExp.prototype,i,2==b?function(a,b){return l.call(a,this,b)}:function(a){return l.call(a,this)}))}},{118:118,28:28,35:35,41:41,88:88}],37:[function(a,b){"use strict";var c=a(8);b.exports=function(){var a=c(this),b="";return a.global&&(b+="g"),a.ignoreCase&&(b+="i"),a.multiline&&(b+="m"),a.unicode&&(b+="u"),a.sticky&&(b+="y"),b}},{8:8}],38:[function(a,b){var c=a(26),d=a(52),e=a(47),f=a(8),g=a(109),h=a(119);b.exports=function(a,b,i,j,k){var l,m,n,o=k?function(){return a}:h(a),p=c(i,j,b?2:1),q=0;if("function"!=typeof o)throw TypeError(a+" is not iterable!");if(e(o))for(l=g(a.length);l>q;q++)b?p(f(m=a[q])[0],m[1]):p(a[q]);else for(n=o.call(a);!(m=n.next()).done;)d(n,p,m.value,b)}},{109:109,119:119,26:26,47:47,52:52,8:8}],39:[function(a,b){var c=b.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=c)},{}],40:[function(a,b){var c={}.hasOwnProperty;b.exports=function(a,b){return c.call(a,b)}},{}],41:[function(a,b){var c=a(68),d=a(86);b.exports=a(29)?function(a,b,e){return c.f(a,b,d(1,e))}:function(a,b,c){return a[b]=c,a}},{29:29,68:68,86:86}],42:[function(a,b){b.exports=a(39).document&&document.documentElement},{39:39}],43:[function(a,b){b.exports=!a(29)&&!a(35)(function(){return 7!=Object.defineProperty(a(30)("div"),"a",{get:function(){return 7}}).a})},{29:29,30:30,35:35}],44:[function(a,b){var c=a(50),d=a(91).set;b.exports=function(a,b,e){var f,g=b.constructor;return g!==e&&"function"==typeof g&&(f=g.prototype)!==e.prototype&&c(f)&&d&&d(a,f),a}},{50:50,91:91}],45:[function(a,b){b.exports=function(a,b,c){var d=void 0===c;switch(b.length){case 0:return d?a():a.call(c);case 1:return d?a(b[0]):a.call(c,b[0]);case 2:return d?a(b[0],b[1]):a.call(c,b[0],b[1]);case 3:return d?a(b[0],b[1],b[2]):a.call(c,b[0],b[1],b[2]);case 4:return d?a(b[0],b[1],b[2],b[3]):a.call(c,b[0],b[1],b[2],b[3])}return a.apply(c,b)}},{}],46:[function(a,b){var c=a(19);b.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==c(a)?a.split(""):Object(a)}},{19:19}],47:[function(a,b){var c=a(57),d=a(118)("iterator"),e=Array.prototype;b.exports=function(a){return void 0!==a&&(c.Array===a||e[d]===a)}},{118:118,57:57}],48:[function(a,b){var c=a(19);b.exports=Array.isArray||function(a){return"Array"==c(a)}},{19:19}],49:[function(a,b){var c=a(50),d=Math.floor;b.exports=function(a){return!c(a)&&isFinite(a)&&d(a)===a}},{50:50}],50:[function(a,b){b.exports=function(a){return"object"==typeof a?null!==a:"function"==typeof a}},{}],51:[function(a,b){var c=a(50),d=a(19),e=a(118)("match");b.exports=function(a){var b;return c(a)&&(void 0!==(b=a[e])?!!b:"RegExp"==d(a))}},{118:118,19:19,50:50}],52:[function(a,b){var c=a(8);b.exports=function(a,b,d,e){try{return e?b(c(d)[0],d[1]):b(d)}catch(b){var f=a.return;throw void 0!==f&&c(f.call(a)),b}}},{8:8}],53:[function(a,b){"use strict";var c=a(67),d=a(86),e=a(93),f={};a(41)(f,a(118)("iterator"),function(){return this}),b.exports=function(a,b,g){a.prototype=c(f,{next:d(1,g)}),e(a,b+" Iterator")}},{118:118,41:41,67:67,86:86,93:93}],54:[function(a,b){"use strict";var c=a(59),d=a(33),e=a(88),f=a(41),g=a(40),h=a(57),i=a(53),j=a(93),k=a(75),l=a(118)("iterator"),m=!([].keys&&"next"in[].keys()),n="@@iterator",o="keys",p="values",q=function(){return this};b.exports=function(a,b,r,s,t,u,v){i(r,b,s);var w,x,y,z=function(a){if(!m&&a in D)return D[a];switch(a){case o:return function(){return new r(this,a)};case p:return function(){return new r(this,a)}}return function(){return new r(this,a)}},A=b+" Iterator",B=t==p,C=!1,D=a.prototype,E=D[l]||D[n]||t&&D[t],F=E||z(t),G=t?B?z("entries"):F:void 0,H="Array"==b?D.entries||E:E;if(H&&(y=k(H.call(new a)),y!==Object.prototype&&(j(y,A,!0),c||g(y,l)||f(y,l,q))),B&&E&&E.name!==p&&(C=!0,F=function(){return E.call(this)}),c&&!v||!m&&!C&&D[l]||f(D,l,F),h[b]=F,h[A]=q,t)if(w={values:B?F:z(p),keys:u?F:z(o),entries:G},v)for(x in w)x in D||e(D,x,w[x]);else d(d.P+d.F*(m||C),b,w);return w}},{118:118,33:33,40:40,41:41,53:53,57:57,59:59,75:75,88:88,93:93}],55:[function(a,b){var c=a(118)("iterator"),d=!1;try{var e=[7][c]();e.return=function(){d=!0},Array.from(e,function(){throw 2})}catch(a){}b.exports=function(a,b){if(!b&&!d)return!1;var e=!1;try{var f=[7],g=f[c]();g.next=function(){return{done:e=!0}},f[c]=function(){return g},a(f)}catch(a){}return e}},{118:118}],56:[function(a,b){b.exports=function(a,b){return{value:b,done:!!a}}},{}],57:[function(a,b){b.exports={}},{}],58:[function(a,b){var c=a(77),d=a(108);b.exports=function(a,b){for(var e,f=d(a),g=c(f),h=g.length,i=0;h>i;)if(f[e=g[i++]]===b)return e}},{108:108,77:77}],59:[function(a,b){b.exports=!1},{}],60:[function(a,b){var c=Math.expm1;b.exports=!c||c(10)>22025.465794806718||c(10)<22025.465794806718||-2e-17!=c(-2e-17)?function(a){return 0==(a=+a)?a:a>-1e-6&&1e-6>a?a+a*a/2:Math.exp(a)-1}:c},{}],61:[function(a,b){b.exports=Math.log1p||function(a){return(a=+a)>-1e-8&&1e-8>a?a-a*a/2:Math.log(1+a)}},{}],62:[function(a,b){b.exports=Math.sign||function(a){return 0==(a=+a)||a!=a?a:0>a?-1:1}},{}],63:[function(a,b){var c=a(115)("meta"),d=a(50),e=a(40),f=a(68).f,g=0,h=Object.isExtensible||function(){return!0},i=!a(35)(function(){return h(Object.preventExtensions({}))}),j=function(a){f(a,c,{value:{i:"O"+ ++g,w:{}}})},k=function(a,b){if(!d(a))return"symbol"==typeof a?a:("string"==typeof a?"S":"P")+a;if(!e(a,c)){if(!h(a))return"F";if(!b)return"E";j(a)}return a[c].i},l=function(a,b){if(!e(a,c)){if(!h(a))return!0;if(!b)return!1;j(a)}return a[c].w},m=function(a){return i&&n.NEED&&h(a)&&!e(a,c)&&j(a),a},n=b.exports={KEY:c,NEED:!1,fastKey:k,getWeak:l,onFreeze:m}},{115:115,35:35,40:40,50:50,68:68}],64:[function(a,b){var c=a(151),d=a(33),e=a(95)("metadata"),f=e.store||(e.store=new(a(257))),g=function(a,b,d){var e=f.get(a);if(!e){if(!d)return;f.set(a,e=new c)}var g=e.get(b);if(!g){if(!d)return;e.set(b,g=new c)}return g},h=function(a,b,c){var d=g(b,c,!1);return void 0!==d&&d.has(a)},i=function(a,b,c){var d=g(b,c,!1);return void 0===d?void 0:d.get(a)},j=function(a,b,c,d){g(c,d,!0).set(a,b)},k=function(a,b){var c=g(a,b,!1),d=[];return c&&c.forEach(function(a,b){d.push(b)}),d},l=function(a){return void 0===a||"symbol"==typeof a?a:String(a)},m=function(a){d(d.S,"Reflect",a)};b.exports={store:f,map:g,has:h,get:i,set:j,keys:k,key:l,exp:m}},{151:151,257:257,33:33,95:95}],65:[function(a,b){var c=a(39),d=a(105).set,e=c.MutationObserver||c.WebKitMutationObserver,f=c.process,g=c.Promise,h="process"==a(19)(f);b.exports=function(){var a,b,i,j=function(){var c,d;for(h&&(c=f.domain)&&c.exit();a;){d=a.fn,a=a.next;try{d()}catch(c){throw a?i():b=void 0,c}}b=void 0,c&&c.enter()};if(h)i=function(){f.nextTick(j)};else if(e){var k=!0,l=document.createTextNode("");new e(j).observe(l,{characterData:!0}),i=function(){l.data=k=!k}}else if(g&&g.resolve){var m=g.resolve();i=function(){m.then(j)}}else i=function(){d.call(c,j)};return function(c){var d={fn:c,next:void 0};b&&(b.next=d),a||(a=d,i()),b=d}}},{105:105,19:19,39:39}],66:[function(a,b){"use strict";var c=a(77),d=a(74),e=a(78),f=a(110),g=a(46),h=Object.assign;b.exports=!h||a(35)(function(){var a={},b={},c=Symbol(),d="abcdefghijklmnopqrst";return a[c]=7,d.split("").forEach(function(a){b[a]=a}),7!=h({},a)[c]||Object.keys(h({},b)).join("")!=d})?function(a){for(var b=f(a),h=arguments.length,i=1,j=d.f,k=e.f;h>i;)for(var l,m=g(arguments[i++]),n=j?c(m).concat(j(m)):c(m),o=n.length,p=0;o>p;)k.call(m,l=n[p++])&&(b[l]=m[l]);return b}:h},{110:110,35:35,46:46,74:74,77:77,78:78}],67:[function(a,b){var c=a(8),d=a(69),e=a(31),f=a(94)("IE_PROTO"),g=function(){},h="prototype",i=function(){var b,c=a(30)("iframe"),d=e.length,f=">";for(c.style.display="none",a(42).appendChild(c),c.src="javascript:",b=c.contentWindow.document,b.open(),b.write("<script>document.F=Object</script"+f),b.close(),i=b.F;d--;)delete i[h][e[d]];return i()};b.exports=Object.create||function(a,b){var e;return null!==a?(g[h]=c(a),e=new g,g[h]=null,e[f]=a):e=i(),void 0===b?e:d(e,b)}},{30:30,31:31,42:42,69:69,8:8,94:94}],68:[function(a,b,c){var d=a(8),e=a(43),f=a(111),g=Object.defineProperty;c.f=a(29)?Object.defineProperty:function(a,b,c){if(d(a),b=f(b,!0),d(c),e)try{return g(a,b,c)}catch(a){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(a[b]=c.value),a}},{111:111,29:29,43:43,8:8}],69:[function(a,b){var c=a(68),d=a(8),e=a(77);b.exports=a(29)?Object.defineProperties:function(a,b){d(a);for(var f,g=e(b),h=g.length,i=0;h>i;)c.f(a,f=g[i++],b[f]);return a}},{29:29,68:68,77:77,8:8}],70:[function(a,b){b.exports=a(59)||!a(35)(function(){var b=Math.random();__defineSetter__.call(null,b,function(){}),delete a(39)[b]})},{35:35,39:39,59:59}],71:[function(a,b,c){var d=a(78),e=a(86),f=a(108),g=a(111),h=a(40),i=a(43),j=Object.getOwnPropertyDescriptor;c.f=a(29)?j:function(a,b){if(a=f(a),b=g(b,!0),i)try{return j(a,b)}catch(a){}return h(a,b)?e(!d.f.call(a,b),a[b]):void 0}},{108:108,111:111,29:29,40:40,43:43,78:78,86:86}],72:[function(a,b){var c=a(108),d=a(73).f,e={}.toString,f="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],g=function(a){try{return d(a)}catch(a){return f.slice()}};b.exports.f=function(a){return f&&"[object Window]"==e.call(a)?g(a):d(c(a))}},{108:108,73:73}],73:[function(a,b,c){var d=a(76),e=a(31).concat("length","prototype");c.f=Object.getOwnPropertyNames||function(a){return d(a,e)}},{31:31,76:76}],74:[function(a,b,c){c.f=Object.getOwnPropertySymbols},{}],75:[function(a,b){var c=a(40),d=a(110),e=a(94)("IE_PROTO"),f=Object.prototype;b.exports=Object.getPrototypeOf||function(a){return a=d(a),c(a,e)?a[e]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?f:null}},{110:110,40:40,94:94}],76:[function(a,b){var c=a(40),d=a(108),e=a(12)(!1),f=a(94)("IE_PROTO");b.exports=function(a,b){var g,h=d(a),i=0,j=[];for(g in h)g!=f&&c(h,g)&&j.push(g);for(;b.length>i;)c(h,g=b[i++])&&(~e(j,g)||j.push(g));return j}},{108:108,12:12,40:40,94:94}],77:[function(a,b){var c=a(76),d=a(31);b.exports=Object.keys||function(a){return c(a,d)}},{31:31,76:76}],78:[function(a,b,c){c.f={}.propertyIsEnumerable},{}],79:[function(a,b){var c=a(33),d=a(24),e=a(35);b.exports=function(a,b){var f=(d.Object||{})[a]||Object[a],g={};g[a]=b(f),c(c.S+c.F*e(function(){f(1)}),"Object",g)}},{24:24,33:33,35:35}],80:[function(a,b){var c=a(77),d=a(108),e=a(78).f;b.exports=function(a){return function(b){for(var f,g=d(b),h=c(g),i=h.length,j=0,k=[];i>j;)e.call(g,f=h[j++])&&k.push(a?[f,g[f]]:g[f]);return k}}},{108:108,77:77,78:78}],81:[function(a,b){var c=a(73),d=a(74),e=a(8),f=a(39).Reflect;b.exports=f&&f.ownKeys||function(a){var b=c.f(e(a)),f=d.f;return f?b.concat(f(a)):b}},{39:39,73:73,74:74,8:8}],82:[function(a,b){var c=a(39).parseFloat,d=a(103).trim;b.exports=1/c(a(104)+"-0")!==-(1/0)?function(a){var b=d(String(a),3),e=c(b);return 0===e&&"-"==b.charAt(0)?-0:e}:c},{103:103,104:104,39:39}],83:[function(a,b){var c=a(39).parseInt,d=a(103).trim,e=a(104),f=/^[\-+]?0[xX]/;b.exports=8!==c(e+"08")||22!==c(e+"0x16")?function(a,b){var e=d(String(a),3);return c(e,b>>>0||(f.test(e)?16:10))}:c},{103:103,104:104,39:39}],84:[function(a,b){"use strict";var c=a(85),d=a(45),e=a(4);b.exports=function(){for(var a=e(this),b=arguments.length,f=Array(b),g=0,h=c._,i=!1;b>g;)(f[g]=arguments[g++])===h&&(i=!0);return function(){var c,e=this,g=arguments.length,j=0,k=0;if(!i&&!g)return d(a,f,e);if(c=f.slice(),i)for(;b>j;j++)c[j]===h&&(c[j]=arguments[k++]);for(;g>k;)c.push(arguments[k++]);return d(a,c,e)}}},{4:4,45:45,85:85}],85:[function(a,b){b.exports=a(39)},{39:39}],86:[function(a,b){b.exports=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}}},{}],87:[function(a,b){var c=a(88);b.exports=function(a,b,d){for(var e in b)c(a,e,b[e],d);return a}},{88:88}],88:[function(a,b){var c=a(39),d=a(41),e=a(40),f=a(115)("src"),g="toString",h=Function[g],i=(""+h).split(g);a(24).inspectSource=function(a){return h.call(a)},(b.exports=function(a,b,g,h){var j="function"==typeof g;j&&(e(g,"name")||d(g,"name",b)),a[b]!==g&&(j&&(e(g,f)||d(g,f,a[b]?""+a[b]:i.join(String(b)))),a===c?a[b]=g:h?a[b]?a[b]=g:d(a,b,g):(delete a[b],d(a,b,g)))})(Function.prototype,g,function(){return"function"==typeof this&&this[f]||h.call(this)})},{115:115,24:24,39:39,40:40,41:41}],89:[function(a,b){b.exports=function(a,b){var c=b===Object(b)?function(a){return b[a]}:b;return function(b){return String(b).replace(a,c)}}},{}],90:[function(a,b){b.exports=Object.is||function(a,b){return a===b?0!==a||1/a===1/b:a!=a&&b!=b}},{}],91:[function(a,b){var c=a(50),d=a(8),e=function(a,b){if(d(a),!c(b)&&null!==b)throw TypeError(b+": can't set as prototype!")};b.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(b,c,d){try{d=a(26)(Function.call,a(71).f(Object.prototype,"__proto__").set,2),d(b,[]),c=!(b instanceof Array)}catch(a){c=!0}return function(a,b){return e(a,b),c?a.__proto__=b:d(a,b),a}}({},!1):void 0),check:e}},{26:26,50:50,71:71,8:8}],92:[function(a,b){"use strict";var c=a(39),d=a(68),e=a(29),f=a(118)("species");b.exports=function(a){var b=c[a];e&&b&&!b[f]&&d.f(b,f,{configurable:!0,get:function(){return this}})}},{118:118,29:29,39:39,68:68}],93:[function(a,b){var c=a(68).f,d=a(40),e=a(118)("toStringTag");b.exports=function(a,b,f){a&&!d(a=f?a:a.prototype,e)&&c(a,e,{configurable:!0,value:b})}},{118:118,40:40,68:68}],94:[function(a,b){var c=a(95)("keys"),d=a(115);b.exports=function(a){return c[a]||(c[a]=d(a))}},{115:115,95:95}],95:[function(a,b){var c=a(39),d="__core-js_shared__",e=c[d]||(c[d]={});b.exports=function(a){return e[a]||(e[a]={})}},{39:39}],96:[function(a,b){var c=a(8),d=a(4),e=a(118)("species");b.exports=function(a,b){var f,g=c(a).constructor;return void 0===g||void 0==(f=c(g)[e])?b:d(f)}},{118:118,4:4,8:8}],97:[function(a,b){var c=a(35);b.exports=function(a,b){return!!a&&c(function(){b?a.call(null,function(){},1):a.call(null)})}},{35:35}],98:[function(a,b){var c=a(107),d=a(28);b.exports=function(a){return function(b,e){var f,g,h=String(d(b)),i=c(e),j=h.length;return 0>i||i>=j?a?"":void 0:(f=h.charCodeAt(i),55296>f||f>56319||i+1===j||(g=h.charCodeAt(i+1))<56320||g>57343?a?h.charAt(i):f:a?h.slice(i,i+2):(f-55296<<10)+(g-56320)+65536)}}},{107:107,28:28}],99:[function(a,b){var c=a(51),d=a(28);b.exports=function(a,b,e){if(c(b))throw TypeError("String#"+e+" doesn't accept regex!");return String(d(a))}},{28:28,51:51}],100:[function(a,b){var c=a(33),d=a(35),e=a(28),f=/"/g,g=function(a,b,c,d){var g=String(e(a)),h="<"+b;return""!==c&&(h+=" "+c+'="'+String(d).replace(f,"&quot;")+'"'),h+">"+g+"</"+b+">"};b.exports=function(a,b){var e={};e[a]=b(g),c(c.P+c.F*d(function(){var b=""[a]('"');return b!==b.toLowerCase()||b.split('"').length>3}),"String",e)}},{28:28,33:33,35:35}],101:[function(a,b){var c=a(109),d=a(102),e=a(28);b.exports=function(a,b,f,g){var h=String(e(a)),i=h.length,j=void 0===f?" ":String(f),k=c(b);if(i>=k||""==j)return h;var l=k-i,m=d.call(j,Math.ceil(l/j.length));return m.length>l&&(m=m.slice(0,l)),g?m+h:h+m}},{102:102,109:109,28:28}],102:[function(a,b){"use strict";var c=a(107),d=a(28);b.exports=function(a){var b=String(d(this)),e="",f=c(a);if(0>f||f==1/0)throw RangeError("Count can't be negative");for(;f>0;(f>>>=1)&&(b+=b))1&f&&(e+=b);return e}},{107:107,28:28}],103:[function(a,b){var c=a(33),d=a(28),e=a(35),f=a(104),g="["+f+"]",h="​",i=RegExp("^"+g+g+"*"),j=RegExp(g+g+"*$"),k=function(a,b,d){var g={},i=e(function(){return!!f[a]()||h[a]()!=h}),j=g[a]=i?b(l):f[a];
d&&(g[d]=j),c(c.P+c.F*i,"String",g)},l=k.trim=function(a,b){return a=String(d(a)),1&b&&(a=a.replace(i,"")),2&b&&(a=a.replace(j,"")),a};b.exports=k},{104:104,28:28,33:33,35:35}],104:[function(a,b){b.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},{}],105:[function(a,b){var c,d,e,f=a(26),g=a(45),h=a(42),i=a(30),j=a(39),k=j.process,l=j.setImmediate,m=j.clearImmediate,n=j.MessageChannel,o=0,p={},q="onreadystatechange",r=function(){var a=+this;if(p.hasOwnProperty(a)){var b=p[a];delete p[a],b()}},s=function(a){r.call(a.data)};l&&m||(l=function(a){for(var b=[],d=1;arguments.length>d;)b.push(arguments[d++]);return p[++o]=function(){g("function"==typeof a?a:Function(a),b)},c(o),o},m=function(a){delete p[a]},"process"==a(19)(k)?c=function(a){k.nextTick(f(r,a,1))}:n?(d=new n,e=d.port2,d.port1.onmessage=s,c=f(e.postMessage,e,1)):j.addEventListener&&"function"==typeof postMessage&&!j.importScripts?(c=function(a){j.postMessage(a+"","*")},j.addEventListener("message",s,!1)):c=q in i("script")?function(a){h.appendChild(i("script"))[q]=function(){h.removeChild(this),r.call(a)}}:function(a){setTimeout(f(r,a,1),0)}),b.exports={set:l,clear:m}},{19:19,26:26,30:30,39:39,42:42,45:45}],106:[function(a,b){var c=a(107),d=Math.max,e=Math.min;b.exports=function(a,b){return a=c(a),0>a?d(a+b,0):e(a,b)}},{107:107}],107:[function(a,b){var c=Math.ceil,d=Math.floor;b.exports=function(a){return isNaN(a=+a)?0:(a>0?d:c)(a)}},{}],108:[function(a,b){var c=a(46),d=a(28);b.exports=function(a){return c(d(a))}},{28:28,46:46}],109:[function(a,b){var c=a(107),d=Math.min;b.exports=function(a){return a>0?d(c(a),9007199254740991):0}},{107:107}],110:[function(a,b){var c=a(28);b.exports=function(a){return Object(c(a))}},{28:28}],111:[function(a,b){var c=a(50);b.exports=function(a,b){if(!c(a))return a;var d,e;if(b&&"function"==typeof(d=a.toString)&&!c(e=d.call(a)))return e;if("function"==typeof(d=a.valueOf)&&!c(e=d.call(a)))return e;if(!b&&"function"==typeof(d=a.toString)&&!c(e=d.call(a)))return e;throw TypeError("Can't convert object to primitive value")}},{50:50}],112:[function(a,b){"use strict";if(a(29)){var c=a(59),d=a(39),e=a(35),f=a(33),g=a(114),h=a(113),i=a(26),j=a(7),k=a(86),l=a(41),m=a(87),n=(a(49),a(107)),o=a(109),p=a(106),q=a(111),r=a(40),s=a(90),t=a(18),u=a(50),v=a(110),w=a(47),x=a(67),y=a(75),z=a(73).f,A=(a(120),a(119)),B=a(115),C=a(118),D=a(13),E=a(12),F=a(96),G=a(132),H=a(57),I=a(55),J=a(92),K=a(10),L=a(9),M=a(68),N=a(71),O=M.f,P=N.f,Q=d.RangeError,R=d.TypeError,S=d.Uint8Array,T="ArrayBuffer",U="Shared"+T,V="BYTES_PER_ELEMENT",W="prototype",X=Array[W],Y=h.ArrayBuffer,Z=h.DataView,$=D(0),_=D(2),aa=D(3),ba=D(4),ca=D(5),da=D(6),ea=E(!0),fa=E(!1),ga=G.values,ha=G.keys,ia=G.entries,ja=X.lastIndexOf,ka=X.reduce,la=X.reduceRight,ma=X.join,na=X.sort,oa=X.slice,pa=X.toString,qa=X.toLocaleString,ra=C("iterator"),sa=C("toStringTag"),ta=B("typed_constructor"),ua=B("def_constructor"),va=g.CONSTR,wa=g.TYPED,xa=g.VIEW,ya="Wrong length!",za=D(1,function(a,b){return Fa(F(a,a[ua]),b)}),Aa=e(function(){return 1===new S(new Uint16Array([1]).buffer)[0]}),Ba=!!S&&!!S[W].set&&e(function(){new S(1).set({})}),Ca=function(a,b){if(void 0===a)throw R(ya);var c=+a,d=o(a);if(b&&!s(c,d))throw Q(ya);return d},Da=function(a,b){var c=n(a);if(0>c||c%b)throw Q("Wrong offset!");return c},Ea=function(a){if(u(a)&&wa in a)return a;throw R(a+" is not a typed array!")},Fa=function(a,b){if(!(u(a)&&ta in a))throw R("It is not a typed array constructor!");return new a(b)},Ga=function(a,b){return Ha(F(a,a[ua]),b)},Ha=function(a,b){for(var c=0,d=b.length,e=Fa(a,d);d>c;)e[c]=b[c++];return e},Ia=function(a,b,c){O(a,b,{get:function(){return this._d[c]}})},Ja=function(a){var b,c,d,e,f,g,h=v(a),j=arguments.length,k=j>1?arguments[1]:void 0,l=void 0!==k,m=A(h);if(void 0!=m&&!w(m)){for(g=m.call(h),d=[],b=0;!(f=g.next()).done;b++)d.push(f.value);h=d}for(l&&j>2&&(k=i(k,arguments[2],2)),b=0,c=o(h.length),e=Fa(this,c);c>b;b++)e[b]=l?k(h[b],b):h[b];return e},Ka=function(){for(var a=0,b=arguments.length,c=Fa(this,b);b>a;)c[a]=arguments[a++];return c},La=!!S&&e(function(){qa.call(new S(1))}),Ma=function(){return qa.apply(La?oa.call(Ea(this)):Ea(this),arguments)},Na={copyWithin:function(a,b){return L.call(Ea(this),a,b,arguments.length>2?arguments[2]:void 0)},every:function(a){return ba(Ea(this),a,arguments.length>1?arguments[1]:void 0)},fill:function(){return K.apply(Ea(this),arguments)},filter:function(a){return Ga(this,_(Ea(this),a,arguments.length>1?arguments[1]:void 0))},find:function(a){return ca(Ea(this),a,arguments.length>1?arguments[1]:void 0)},findIndex:function(a){return da(Ea(this),a,arguments.length>1?arguments[1]:void 0)},forEach:function(a){$(Ea(this),a,arguments.length>1?arguments[1]:void 0)},indexOf:function(a){return fa(Ea(this),a,arguments.length>1?arguments[1]:void 0)},includes:function(a){return ea(Ea(this),a,arguments.length>1?arguments[1]:void 0)},join:function(){return ma.apply(Ea(this),arguments)},lastIndexOf:function(){return ja.apply(Ea(this),arguments)},map:function(a){return za(Ea(this),a,arguments.length>1?arguments[1]:void 0)},reduce:function(){return ka.apply(Ea(this),arguments)},reduceRight:function(){return la.apply(Ea(this),arguments)},reverse:function(){for(var a,b=this,c=Ea(b).length,d=Math.floor(c/2),e=0;d>e;)a=b[e],b[e++]=b[--c],b[c]=a;return b},some:function(a){return aa(Ea(this),a,arguments.length>1?arguments[1]:void 0)},sort:function(a){return na.call(Ea(this),a)},subarray:function(a,b){var c=Ea(this),d=c.length,e=p(a,d);return new(F(c,c[ua]))(c.buffer,c.byteOffset+e*c.BYTES_PER_ELEMENT,o((void 0===b?d:p(b,d))-e))}},Oa=function(a,b){return Ga(this,oa.call(Ea(this),a,b))},Pa=function(a){Ea(this);var b=Da(arguments[1],1),c=this.length,d=v(a),e=o(d.length),f=0;if(e+b>c)throw Q(ya);for(;e>f;)this[b+f]=d[f++]},Qa={entries:function(){return ia.call(Ea(this))},keys:function(){return ha.call(Ea(this))},values:function(){return ga.call(Ea(this))}},Ra=function(a,b){return u(a)&&a[wa]&&"symbol"!=typeof b&&b in a&&String(+b)==String(b)},Sa=function(a,b){return Ra(a,b=q(b,!0))?k(2,a[b]):P(a,b)},Ta=function(a,b,c){return!(Ra(a,b=q(b,!0))&&u(c)&&r(c,"value"))||r(c,"get")||r(c,"set")||c.configurable||r(c,"writable")&&!c.writable||r(c,"enumerable")&&!c.enumerable?O(a,b,c):(a[b]=c.value,a)};va||(N.f=Sa,M.f=Ta),f(f.S+f.F*!va,"Object",{getOwnPropertyDescriptor:Sa,defineProperty:Ta}),e(function(){pa.call({})})&&(pa=qa=function(){return ma.call(this)});var Ua=m({},Na);m(Ua,Qa),l(Ua,ra,Qa.values),m(Ua,{slice:Oa,set:Pa,constructor:function(){},toString:pa,toLocaleString:Ma}),Ia(Ua,"buffer","b"),Ia(Ua,"byteOffset","o"),Ia(Ua,"byteLength","l"),Ia(Ua,"length","e"),O(Ua,sa,{get:function(){return this[wa]}}),b.exports=function(a,b,h,i){i=!!i;var k=a+(i?"Clamped":"")+"Array",m="Uint8Array"!=k,n="get"+a,p="set"+a,q=d[k],r=q||{},s=q&&y(q),v=!q||!g.ABV,w={},A=q&&q[W],B=function(a,c){var d=a._d;return d.v[n](c*b+d.o,Aa)},C=function(a,c,d){var e=a._d;i&&(d=(d=Math.round(d))<0?0:d>255?255:255&d),e.v[p](c*b+e.o,d,Aa)},D=function(a,b){O(a,b,{get:function(){return B(this,b)},set:function(a){return C(this,b,a)},enumerable:!0})};v?(q=h(function(a,c,d,e){j(a,q,k,"_d");var f,g,h,i,m=0,n=0;if(u(c)){if(!(c instanceof Y||(i=t(c))==T||i==U))return wa in c?Ha(q,c):Ja.call(q,c);f=c,n=Da(d,b);var p=c.byteLength;if(void 0===e){if(p%b)throw Q(ya);if(g=p-n,0>g)throw Q(ya)}else if(g=o(e)*b,g+n>p)throw Q(ya);h=g/b}else h=Ca(c,!0),g=h*b,f=new Y(g);for(l(a,"_d",{b:f,o:n,l:g,e:h,v:new Z(f)});h>m;)D(a,m++)}),A=q[W]=x(Ua),l(A,"constructor",q)):I(function(a){new q(null),new q(a)},!0)||(q=h(function(a,c,d,e){j(a,q,k);var f;return u(c)?c instanceof Y||(f=t(c))==T||f==U?void 0!==e?new r(c,Da(d,b),e):void 0!==d?new r(c,Da(d,b)):new r(c):wa in c?Ha(q,c):Ja.call(q,c):new r(Ca(c,m))}),$(s!==Function.prototype?z(r).concat(z(s)):z(r),function(a){a in q||l(q,a,r[a])}),q[W]=A,c||(A.constructor=q));var E=A[ra],F=!!E&&("values"==E.name||void 0==E.name),G=Qa.values;l(q,ta,!0),l(A,wa,k),l(A,xa,!0),l(A,ua,q),(i?new q(1)[sa]==k:sa in A)||O(A,sa,{get:function(){return k}}),w[k]=q,f(f.G+f.W+f.F*(q!=r),w),f(f.S,k,{BYTES_PER_ELEMENT:b,from:Ja,of:Ka}),V in A||l(A,V,b),f(f.P,k,Na),J(k),f(f.P+f.F*Ba,k,{set:Pa}),f(f.P+f.F*!F,k,Qa),f(f.P+f.F*(A.toString!=pa),k,{toString:pa}),f(f.P+f.F*e(function(){new q(1).slice()}),k,{slice:Oa}),f(f.P+f.F*(e(function(){return[1,2].toLocaleString()!=new q([1,2]).toLocaleString()})||!e(function(){A.toLocaleString.call([1,2])})),k,{toLocaleString:Ma}),H[k]=F?E:G,c||F||l(A,ra,G)}}else b.exports=function(){}},{10:10,106:106,107:107,109:109,110:110,111:111,113:113,114:114,115:115,118:118,119:119,12:12,120:120,13:13,132:132,18:18,26:26,29:29,33:33,35:35,39:39,40:40,41:41,47:47,49:49,50:50,55:55,57:57,59:59,67:67,68:68,7:7,71:71,73:73,75:75,86:86,87:87,9:9,90:90,92:92,96:96}],113:[function(a,b,c){"use strict";var d=a(39),e=a(29),f=a(59),g=a(114),h=a(41),i=a(87),j=a(35),k=a(7),l=a(107),m=a(109),n=a(73).f,o=a(68).f,p=a(10),q=a(93),r="ArrayBuffer",s="DataView",t="prototype",u="Wrong length!",v="Wrong index!",w=d[r],x=d[s],y=d.Math,z=(d.parseInt,d.RangeError),A=d.Infinity,B=w,C=y.abs,D=y.pow,E=(y.min,y.floor),F=y.log,G=y.LN2,H="buffer",I="byteLength",J="byteOffset",K=e?"_b":H,L=e?"_l":I,M=e?"_o":J,N=function(a,b,c){var d,e,f,g=Array(c),h=8*c-b-1,i=(1<<h)-1,j=i>>1,k=23===b?D(2,-24)-D(2,-77):0,l=0,m=0>a||0===a&&0>1/a?1:0;for(a=C(a),a!=a||a===A?(e=a!=a?1:0,d=i):(d=E(F(a)/G),a*(f=D(2,-d))<1&&(d--,f*=2),a+=d+j>=1?k/f:k*D(2,1-j),a*f>=2&&(d++,f/=2),d+j>=i?(e=0,d=i):d+j>=1?(e=(a*f-1)*D(2,b),d+=j):(e=a*D(2,j-1)*D(2,b),d=0));b>=8;g[l++]=255&e,e/=256,b-=8);for(d=d<<b|e,h+=b;h>0;g[l++]=255&d,d/=256,h-=8);return g[--l]|=128*m,g},O=function(a,b,c){var d,e=8*c-b-1,f=(1<<e)-1,g=f>>1,h=e-7,i=c-1,j=a[i--],k=127&j;for(j>>=7;h>0;k=256*k+a[i],i--,h-=8);for(d=k&(1<<-h)-1,k>>=-h,h+=b;h>0;d=256*d+a[i],i--,h-=8);if(0===k)k=1-g;else{if(k===f)return d?NaN:j?-A:A;d+=D(2,b),k-=g}return(j?-1:1)*d*D(2,k-b)},P=function(a){return a[3]<<24|a[2]<<16|a[1]<<8|a[0]},Q=function(a){return[255&a]},R=function(a){return[255&a,a>>8&255]},S=function(a){return[255&a,a>>8&255,a>>16&255,a>>24&255]},T=function(a){return N(a,52,8)},U=function(a){return N(a,23,4)},V=function(a,b,c){o(a[t],b,{get:function(){return this[c]}})},W=function(a,b,c,d){var e=+c,f=l(e);if(e!=f||0>f||f+b>a[L])throw z(v);var g=a[K]._b,h=f+a[M],i=g.slice(h,h+b);return d?i:i.reverse()},X=function(a,b,c,d,e,f){var g=+c,h=l(g);if(g!=h||0>h||h+b>a[L])throw z(v);for(var i=a[K]._b,j=h+a[M],k=d(+e),m=0;b>m;m++)i[j+m]=k[f?m:b-m-1]},Y=function(a,b){k(a,w,r);var c=+b,d=m(c);if(c!=d)throw z(u);return d};if(g.ABV){if(!j(function(){new w})||!j(function(){new w(.5)})){w=function(a){return new B(Y(this,a))};for(var Z,$=w[t]=B[t],_=n(B),aa=0;_.length>aa;)(Z=_[aa++])in w||h(w,Z,B[Z]);f||($.constructor=w)}var ba=new x(new w(2)),ca=x[t].setInt8;ba.setInt8(0,2147483648),ba.setInt8(1,2147483649),!ba.getInt8(0)&&ba.getInt8(1)||i(x[t],{setInt8:function(a,b){ca.call(this,a,b<<24>>24)},setUint8:function(a,b){ca.call(this,a,b<<24>>24)}},!0)}else w=function(a){var b=Y(this,a);this._b=p.call(Array(b),0),this[L]=b},x=function(a,b,c){k(this,x,s),k(a,w,s);var d=a[L],e=l(b);if(0>e||e>d)throw z("Wrong offset!");if(c=void 0===c?d-e:m(c),e+c>d)throw z(u);this[K]=a,this[M]=e,this[L]=c},e&&(V(w,I,"_l"),V(x,H,"_b"),V(x,I,"_l"),V(x,J,"_o")),i(x[t],{getInt8:function(a){return W(this,1,a)[0]<<24>>24},getUint8:function(a){return W(this,1,a)[0]},getInt16:function(a){var b=W(this,2,a,arguments[1]);return(b[1]<<8|b[0])<<16>>16},getUint16:function(a){var b=W(this,2,a,arguments[1]);return b[1]<<8|b[0]},getInt32:function(a){return P(W(this,4,a,arguments[1]))},getUint32:function(a){return P(W(this,4,a,arguments[1]))>>>0},getFloat32:function(a){return O(W(this,4,a,arguments[1]),23,4)},getFloat64:function(a){return O(W(this,8,a,arguments[1]),52,8)},setInt8:function(a,b){X(this,1,a,Q,b)},setUint8:function(a,b){X(this,1,a,Q,b)},setInt16:function(a,b){X(this,2,a,R,b,arguments[2])},setUint16:function(a,b){X(this,2,a,R,b,arguments[2])},setInt32:function(a,b){X(this,4,a,S,b,arguments[2])},setUint32:function(a,b){X(this,4,a,S,b,arguments[2])},setFloat32:function(a,b){X(this,4,a,U,b,arguments[2])},setFloat64:function(a,b){X(this,8,a,T,b,arguments[2])}});q(w,r),q(x,s),h(x[t],g.VIEW,!0),c[r]=w,c[s]=x},{10:10,107:107,109:109,114:114,29:29,35:35,39:39,41:41,59:59,68:68,7:7,73:73,87:87,93:93}],114:[function(a,b){for(var c,d=a(39),e=a(41),f=a(115),g=f("typed_array"),h=f("view"),i=!(!d.ArrayBuffer||!d.DataView),j=i,k=0,l=9,m="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l>k;)(c=d[m[k++]])?(e(c.prototype,g,!0),e(c.prototype,h,!0)):j=!1;b.exports={ABV:i,CONSTR:j,TYPED:g,VIEW:h}},{115:115,39:39,41:41}],115:[function(a,b){var c=0,d=Math.random();b.exports=function(a){return"Symbol(".concat(void 0===a?"":a,")_",(++c+d).toString(36))}},{}],116:[function(a,b){var c=a(39),d=a(24),e=a(59),f=a(117),g=a(68).f;b.exports=function(a){var b=d.Symbol||(d.Symbol=e?{}:c.Symbol||{});"_"==a.charAt(0)||a in b||g(b,a,{value:f.f(a)})}},{117:117,24:24,39:39,59:59,68:68}],117:[function(a,b,c){c.f=a(118)},{118:118}],118:[function(a,b){var c=a(95)("wks"),d=a(115),e=a(39).Symbol,f="function"==typeof e,g=b.exports=function(a){return c[a]||(c[a]=f&&e[a]||(f?e:d)("Symbol."+a))};g.store=c},{115:115,39:39,95:95}],119:[function(a,b){var c=a(18),d=a(118)("iterator"),e=a(57);b.exports=a(24).getIteratorMethod=function(a){return void 0!=a?a[d]||a["@@iterator"]||e[c(a)]:void 0}},{118:118,18:18,24:24,57:57}],120:[function(a,b){var c=a(18),d=a(118)("iterator"),e=a(57);b.exports=a(24).isIterable=function(a){var b=Object(a);return void 0!==b[d]||"@@iterator"in b||e.hasOwnProperty(c(b))}},{118:118,18:18,24:24,57:57}],121:[function(a){var b=a(33),c=a(89)(/[\\^$*+?.()|[\]{}]/g,"\\$&");b(b.S,"RegExp",{escape:function(a){return c(a)}})},{33:33,89:89}],122:[function(a){var b=a(33);b(b.P,"Array",{copyWithin:a(9)}),a(6)("copyWithin")},{33:33,6:6,9:9}],123:[function(a){"use strict";var b=a(33),c=a(13)(4);b(b.P+b.F*!a(97)([].every,!0),"Array",{every:function(a){return c(this,a,arguments[1])}})},{13:13,33:33,97:97}],124:[function(a){var b=a(33);b(b.P,"Array",{fill:a(10)}),a(6)("fill")},{10:10,33:33,6:6}],125:[function(a){"use strict";var b=a(33),c=a(13)(2);b(b.P+b.F*!a(97)([].filter,!0),"Array",{filter:function(a){return c(this,a,arguments[1])}})},{13:13,33:33,97:97}],126:[function(a){"use strict";var b=a(33),c=a(13)(6),d="findIndex",e=!0;d in[]&&Array(1)[d](function(){e=!1}),b(b.P+b.F*e,"Array",{findIndex:function(a){return c(this,a,arguments.length>1?arguments[1]:void 0)}}),a(6)(d)},{13:13,33:33,6:6}],127:[function(a){"use strict";var b=a(33),c=a(13)(5),d="find",e=!0;d in[]&&Array(1)[d](function(){e=!1}),b(b.P+b.F*e,"Array",{find:function(a){return c(this,a,arguments.length>1?arguments[1]:void 0)}}),a(6)(d)},{13:13,33:33,6:6}],128:[function(a){"use strict";var b=a(33),c=a(13)(0),d=a(97)([].forEach,!0);b(b.P+b.F*!d,"Array",{forEach:function(a){return c(this,a,arguments[1])}})},{13:13,33:33,97:97}],129:[function(a){"use strict";var b=a(26),c=a(33),d=a(110),e=a(52),f=a(47),g=a(109),h=a(25),i=a(119);c(c.S+c.F*!a(55)(function(a){Array.from(a)}),"Array",{from:function(a){var c,j,k,l,m=d(a),n="function"==typeof this?this:Array,o=arguments.length,p=o>1?arguments[1]:void 0,q=void 0!==p,r=0,s=i(m);if(q&&(p=b(p,o>2?arguments[2]:void 0,2)),void 0==s||n==Array&&f(s))for(c=g(m.length),j=new n(c);c>r;r++)h(j,r,q?p(m[r],r):m[r]);else for(l=s.call(m),j=new n;!(k=l.next()).done;r++)h(j,r,q?e(l,p,[k.value,r],!0):k.value);return j.length=r,j}})},{109:109,110:110,119:119,25:25,26:26,33:33,47:47,52:52,55:55}],130:[function(a){"use strict";var b=a(33),c=a(12)(!1),d=[].indexOf,e=!!d&&1/[1].indexOf(1,-0)<0;b(b.P+b.F*(e||!a(97)(d)),"Array",{indexOf:function(a){return e?d.apply(this,arguments)||0:c(this,a,arguments[1])}})},{12:12,33:33,97:97}],131:[function(a){var b=a(33);b(b.S,"Array",{isArray:a(48)})},{33:33,48:48}],132:[function(a,b){"use strict";var c=a(6),d=a(56),e=a(57),f=a(108);b.exports=a(54)(Array,"Array",function(a,b){this._t=f(a),this._i=0,this._k=b},function(){var a=this._t,b=this._k,c=this._i++;return!a||c>=a.length?(this._t=void 0,d(1)):"keys"==b?d(0,c):"values"==b?d(0,a[c]):d(0,[c,a[c]])},"values"),e.Arguments=e.Array,c("keys"),c("values"),c("entries")},{108:108,54:54,56:56,57:57,6:6}],133:[function(a){"use strict";var b=a(33),c=a(108),d=[].join;b(b.P+b.F*(a(46)!=Object||!a(97)(d)),"Array",{join:function(a){return d.call(c(this),void 0===a?",":a)}})},{108:108,33:33,46:46,97:97}],134:[function(a){"use strict";var b=a(33),c=a(108),d=a(107),e=a(109),f=[].lastIndexOf,g=!!f&&1/[1].lastIndexOf(1,-0)<0;b(b.P+b.F*(g||!a(97)(f)),"Array",{lastIndexOf:function(a){if(g)return f.apply(this,arguments)||0;var b=c(this),h=e(b.length),i=h-1;for(arguments.length>1&&(i=Math.min(i,d(arguments[1]))),0>i&&(i=h+i);i>=0;i--)if(i in b&&b[i]===a)return i||0;return-1}})},{107:107,108:108,109:109,33:33,97:97}],135:[function(a){"use strict";var b=a(33),c=a(13)(1);b(b.P+b.F*!a(97)([].map,!0),"Array",{map:function(a){return c(this,a,arguments[1])}})},{13:13,33:33,97:97}],136:[function(a){"use strict";var b=a(33),c=a(25);b(b.S+b.F*a(35)(function(){function a(){}return!(Array.of.call(a)instanceof a)}),"Array",{of:function(){for(var a=0,b=arguments.length,d=new("function"==typeof this?this:Array)(b);b>a;)c(d,a,arguments[a++]);return d.length=b,d}})},{25:25,33:33,35:35}],137:[function(a){"use strict";var b=a(33),c=a(14);b(b.P+b.F*!a(97)([].reduceRight,!0),"Array",{reduceRight:function(a){return c(this,a,arguments.length,arguments[1],!0)}})},{14:14,33:33,97:97}],138:[function(a){"use strict";var b=a(33),c=a(14);b(b.P+b.F*!a(97)([].reduce,!0),"Array",{reduce:function(a){return c(this,a,arguments.length,arguments[1],!1)}})},{14:14,33:33,97:97}],139:[function(a){"use strict";var b=a(33),c=a(42),d=a(19),e=a(106),f=a(109),g=[].slice;b(b.P+b.F*a(35)(function(){c&&g.call(c)}),"Array",{slice:function(a,b){var c=f(this.length),h=d(this);if(b=void 0===b?c:b,"Array"==h)return g.call(this,a,b);for(var i=e(a,c),j=e(b,c),k=f(j-i),l=Array(k),m=0;k>m;m++)l[m]="String"==h?this.charAt(i+m):this[i+m];return l}})},{106:106,109:109,19:19,33:33,35:35,42:42}],140:[function(a){"use strict";var b=a(33),c=a(13)(3);b(b.P+b.F*!a(97)([].some,!0),"Array",{some:function(a){return c(this,a,arguments[1])}})},{13:13,33:33,97:97}],141:[function(a){"use strict";var b=a(33),c=a(4),d=a(110),e=a(35),f=[].sort,g=[1,2,3];b(b.P+b.F*(e(function(){g.sort(void 0)})||!e(function(){g.sort(null)})||!a(97)(f)),"Array",{sort:function(a){return void 0===a?f.call(d(this)):f.call(d(this),c(a))}})},{110:110,33:33,35:35,4:4,97:97}],142:[function(a){a(92)("Array")},{92:92}],143:[function(a){var b=a(33);b(b.S,"Date",{now:function(){return(new Date).getTime()}})},{33:33}],144:[function(a){"use strict";var b=a(33),c=a(35),d=Date.prototype.getTime,e=function(a){return a>9?a:"0"+a};b(b.P+b.F*(c(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-5e13-1).toISOString()})||!c(function(){new Date(NaN).toISOString()})),"Date",{toISOString:function(){if(!isFinite(d.call(this)))throw RangeError("Invalid time value");var a=this,b=a.getUTCFullYear(),c=a.getUTCMilliseconds(),f=0>b?"-":b>9999?"+":"";return f+("00000"+Math.abs(b)).slice(f?-6:-4)+"-"+e(a.getUTCMonth()+1)+"-"+e(a.getUTCDate())+"T"+e(a.getUTCHours())+":"+e(a.getUTCMinutes())+":"+e(a.getUTCSeconds())+"."+(c>99?c:"0"+e(c))+"Z"}})},{33:33,35:35}],145:[function(a){"use strict";var b=a(33),c=a(110),d=a(111);b(b.P+b.F*a(35)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(){var a=c(this),b=d(a);return"number"!=typeof b||isFinite(b)?a.toISOString():null}})},{110:110,111:111,33:33,35:35}],146:[function(a){var b=a(118)("toPrimitive"),c=Date.prototype;b in c||a(41)(c,b,a(27))},{118:118,27:27,41:41}],147:[function(a){var b=Date.prototype,c="Invalid Date",d="toString",e=b[d],f=b.getTime;new Date(NaN)+""!=c&&a(88)(b,d,function(){var a=f.call(this);return a===a?e.call(this):c})},{88:88}],148:[function(a){var b=a(33);b(b.P,"Function",{bind:a(17)})},{17:17,33:33}],149:[function(a){"use strict";var b=a(50),c=a(75),d=a(118)("hasInstance"),e=Function.prototype;d in e||a(68).f(e,d,{value:function(a){if("function"!=typeof this||!b(a))return!1;if(!b(this.prototype))return a instanceof this;for(;a=c(a);)if(this.prototype===a)return!0;return!1}})},{118:118,50:50,68:68,75:75}],150:[function(a){var b=a(68).f,c=a(86),d=a(40),e=Function.prototype,f=/^\s*function ([^ (]*)/,g="name",h=Object.isExtensible||function(){return!0};g in e||a(29)&&b(e,g,{configurable:!0,get:function(){try{var a=this,e=(""+a).match(f)[1];return d(a,g)||!h(a)||b(a,g,c(5,e)),e}catch(a){return""}}})},{29:29,40:40,68:68,86:86}],151:[function(a,b){"use strict";var c=a(20);b.exports=a(23)("Map",function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},{get:function(a){var b=c.getEntry(this,a);return b&&b.v},set:function(a,b){return c.def(this,0===a?0:a,b)}},c,!0)},{20:20,23:23}],152:[function(a){var b=a(33),c=a(61),d=Math.sqrt,e=Math.acosh;b(b.S+b.F*!(e&&710==Math.floor(e(Number.MAX_VALUE))&&e(1/0)==1/0),"Math",{acosh:function(a){return(a=+a)<1?NaN:a>94906265.62425156?Math.log(a)+Math.LN2:c(a-1+d(a-1)*d(a+1))}})},{33:33,61:61}],153:[function(a){function b(a){return isFinite(a=+a)&&0!=a?0>a?-b(-a):Math.log(a+Math.sqrt(a*a+1)):a}var c=a(33),d=Math.asinh;c(c.S+c.F*!(d&&1/d(0)>0),"Math",{asinh:b})},{33:33}],154:[function(a){var b=a(33),c=Math.atanh;b(b.S+b.F*!(c&&1/c(-0)<0),"Math",{atanh:function(a){return 0==(a=+a)?a:Math.log((1+a)/(1-a))/2}})},{33:33}],155:[function(a){var b=a(33),c=a(62);b(b.S,"Math",{cbrt:function(a){return c(a=+a)*Math.pow(Math.abs(a),1/3)}})},{33:33,62:62}],156:[function(a){var b=a(33);b(b.S,"Math",{clz32:function(a){return(a>>>=0)?31-Math.floor(Math.log(a+.5)*Math.LOG2E):32}})},{33:33}],157:[function(a){var b=a(33),c=Math.exp;b(b.S,"Math",{cosh:function(a){return(c(a=+a)+c(-a))/2}})},{33:33}],158:[function(a){var b=a(33),c=a(60);b(b.S+b.F*(c!=Math.expm1),"Math",{expm1:c})},{33:33,60:60}],159:[function(a){var b=a(33),c=a(62),d=Math.pow,e=d(2,-52),f=d(2,-23),g=d(2,127)*(2-f),h=d(2,-126),i=function(a){return a+1/e-1/e};b(b.S,"Math",{fround:function(a){var b,d,j=Math.abs(a),k=c(a);return h>j?k*i(j/h/f)*h*f:(b=(1+f/e)*j,d=b-(b-j),d>g||d!=d?k*(1/0):k*d)}})},{33:33,62:62}],160:[function(a){var b=a(33),c=Math.abs;b(b.S,"Math",{hypot:function(){for(var a,b,d=0,e=0,f=arguments.length,g=0;f>e;)a=c(arguments[e++]),a>g?(b=g/a,d=d*b*b+1,g=a):a>0?(b=a/g,d+=b*b):d+=a;return g===1/0?1/0:g*Math.sqrt(d)}})},{33:33}],161:[function(a){var b=a(33),c=Math.imul;b(b.S+b.F*a(35)(function(){return-5!=c(4294967295,5)||2!=c.length}),"Math",{imul:function(a,b){var c=65535,d=+a,e=+b,f=c&d,g=c&e;return 0|f*g+((c&d>>>16)*g+f*(c&e>>>16)<<16>>>0)}})},{33:33,35:35}],162:[function(a){var b=a(33);b(b.S,"Math",{log10:function(a){return Math.log(a)/Math.LN10}})},{33:33}],163:[function(a){var b=a(33);b(b.S,"Math",{log1p:a(61)})},{33:33,61:61}],164:[function(a){var b=a(33);b(b.S,"Math",{log2:function(a){return Math.log(a)/Math.LN2}})},{33:33}],165:[function(a){var b=a(33);b(b.S,"Math",{sign:a(62)})},{33:33,62:62}],166:[function(a){var b=a(33),c=a(60),d=Math.exp;b(b.S+b.F*a(35)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(a){return Math.abs(a=+a)<1?(c(a)-c(-a))/2:(d(a-1)-d(-a-1))*(Math.E/2)}})},{33:33,35:35,60:60}],167:[function(a){var b=a(33),c=a(60),d=Math.exp;b(b.S,"Math",{tanh:function(a){var b=c(a=+a),e=c(-a);return b==1/0?1:e==1/0?-1:(b-e)/(d(a)+d(-a))}})},{33:33,60:60}],168:[function(a){var b=a(33);b(b.S,"Math",{trunc:function(a){return(a>0?Math.floor:Math.ceil)(a)}})},{33:33}],169:[function(a){"use strict";var b=a(39),c=a(40),d=a(19),e=a(44),f=a(111),g=a(35),h=a(73).f,i=a(71).f,j=a(68).f,k=a(103).trim,l="Number",m=b[l],n=m,o=m.prototype,p=d(a(67)(o))==l,q="trim"in String.prototype,r=function(a){var b=f(a,!1);if("string"==typeof b&&b.length>2){b=q?b.trim():k(b,3);var c,d,e,g=b.charCodeAt(0);if(43===g||45===g){if(c=b.charCodeAt(2),88===c||120===c)return NaN}else if(48===g){switch(b.charCodeAt(1)){case 66:case 98:d=2,e=49;break;case 79:case 111:d=8,e=55;break;default:return+b}for(var h,i=b.slice(2),j=0,l=i.length;l>j;j++)if(h=i.charCodeAt(j),48>h||h>e)return NaN;return parseInt(i,d)}}return+b};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(a){var b=arguments.length<1?0:a,c=this;return c instanceof m&&(p?g(function(){o.valueOf.call(c)}):d(c)!=l)?e(new n(r(b)),c,m):r(b)};for(var s,t=a(29)?h(n):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),u=0;t.length>u;u++)c(n,s=t[u])&&!c(m,s)&&j(m,s,i(n,s));m.prototype=o,o.constructor=m,a(88)(b,l,m)}},{103:103,111:111,19:19,29:29,35:35,39:39,40:40,44:44,67:67,68:68,71:71,73:73,88:88}],170:[function(a){var b=a(33);b(b.S,"Number",{EPSILON:Math.pow(2,-52)})},{33:33}],171:[function(a){var b=a(33),c=a(39).isFinite;b(b.S,"Number",{isFinite:function(a){return"number"==typeof a&&c(a)}})},{33:33,39:39}],172:[function(a){var b=a(33);b(b.S,"Number",{isInteger:a(49)})},{33:33,49:49}],173:[function(a){var b=a(33);b(b.S,"Number",{isNaN:function(a){return a!=a}})},{33:33}],174:[function(a){var b=a(33),c=a(49),d=Math.abs;b(b.S,"Number",{isSafeInteger:function(a){return c(a)&&d(a)<=9007199254740991}})},{33:33,49:49}],175:[function(a){var b=a(33);b(b.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{33:33}],176:[function(a){var b=a(33);b(b.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{33:33}],177:[function(a){var b=a(33),c=a(82);b(b.S+b.F*(Number.parseFloat!=c),"Number",{parseFloat:c})},{33:33,82:82}],178:[function(a){var b=a(33),c=a(83);b(b.S+b.F*(Number.parseInt!=c),"Number",{parseInt:c})},{33:33,83:83}],179:[function(a){"use strict";var b=a(33),c=(a(7),a(107)),d=a(5),e=a(102),f=1..toFixed,g=Math.floor,h=[0,0,0,0,0,0],i="Number.toFixed: incorrect invocation!",j="0",k=function(a,b){for(var c=-1,d=b;++c<6;)d+=a*h[c],h[c]=d%1e7,d=g(d/1e7)},l=function(a){for(var b=6,c=0;--b>=0;)c+=h[b],h[b]=g(c/a),c=c%a*1e7},m=function(){for(var a=6,b="";--a>=0;)if(""!==b||0===a||0!==h[a]){var c=String(h[a]);b=""===b?c:b+e.call(j,7-c.length)+c}return b},n=function(a,b,c){return 0===b?c:b%2===1?n(a,b-1,c*a):n(a*a,b/2,c)},o=function(a){for(var b=0,c=a;c>=4096;)b+=12,c/=4096;for(;c>=2;)b+=1,c/=2;return b};b(b.P+b.F*(!!f&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!a(35)(function(){f.call({})})),"Number",{toFixed:function(a){var b,f,g,h,p=d(this,i),q=c(a),r="",s=j;if(0>q||q>20)throw RangeError(i);if(p!=p)return"NaN";if(-1e21>=p||p>=1e21)return String(p);if(0>p&&(r="-",p=-p),p>1e-21)if(b=o(p*n(2,69,1))-69,f=0>b?p*n(2,-b,1):p/n(2,b,1),f*=4503599627370496,b=52-b,b>0){for(k(0,f),g=q;g>=7;)k(1e7,0),g-=7;for(k(n(10,g,1),0),g=b-1;g>=23;)l(1<<23),g-=23;l(1<<g),k(1,1),l(2),s=m()}else k(0,f),k(1<<-b,0),s=m()+e.call(j,q);return q>0?(h=s.length,s=r+(q>=h?"0."+e.call(j,q-h)+s:s.slice(0,h-q)+"."+s.slice(h-q))):s=r+s,s}})},{102:102,107:107,33:33,35:35,5:5,7:7}],180:[function(a){"use strict";var b=a(33),c=a(35),d=a(5),e=1..toPrecision;b(b.P+b.F*(c(function(){return"1"!==e.call(1,void 0)})||!c(function(){e.call({})})),"Number",{toPrecision:function(a){var b=d(this,"Number#toPrecision: incorrect invocation!");return void 0===a?e.call(b):e.call(b,a)}})},{33:33,35:35,5:5}],181:[function(a){var b=a(33);b(b.S+b.F,"Object",{assign:a(66)})},{33:33,66:66}],182:[function(a){var b=a(33);b(b.S,"Object",{create:a(67)})},{33:33,67:67}],183:[function(a){var b=a(33);b(b.S+b.F*!a(29),"Object",{defineProperties:a(69)})},{29:29,33:33,69:69}],184:[function(a){var b=a(33);b(b.S+b.F*!a(29),"Object",{defineProperty:a(68).f})},{29:29,33:33,68:68}],185:[function(a){var b=a(50),c=a(63).onFreeze;a(79)("freeze",function(a){return function(d){return a&&b(d)?a(c(d)):d}})},{50:50,63:63,79:79}],186:[function(a){var b=a(108),c=a(71).f;a(79)("getOwnPropertyDescriptor",function(){return function(a,d){return c(b(a),d)}})},{108:108,71:71,79:79}],187:[function(a){a(79)("getOwnPropertyNames",function(){return a(72).f})},{72:72,79:79}],188:[function(a){var b=a(110),c=a(75);a(79)("getPrototypeOf",function(){return function(a){return c(b(a))}})},{110:110,75:75,79:79}],189:[function(a){var b=a(50);a(79)("isExtensible",function(a){return function(c){return!!b(c)&&(!a||a(c))}})},{50:50,79:79}],190:[function(a){var b=a(50);a(79)("isFrozen",function(a){return function(c){return!b(c)||!!a&&a(c)}})},{50:50,79:79}],191:[function(a){var b=a(50);a(79)("isSealed",function(a){return function(c){return!b(c)||!!a&&a(c)}})},{50:50,79:79}],192:[function(a){var b=a(33);b(b.S,"Object",{is:a(90)})},{33:33,90:90}],193:[function(a){var b=a(110),c=a(77);a(79)("keys",function(){return function(a){return c(b(a))}})},{110:110,77:77,79:79}],194:[function(a){var b=a(50),c=a(63).onFreeze;a(79)("preventExtensions",function(a){return function(d){return a&&b(d)?a(c(d)):d}})},{50:50,63:63,79:79}],195:[function(a){var b=a(50),c=a(63).onFreeze;a(79)("seal",function(a){return function(d){return a&&b(d)?a(c(d)):d}})},{50:50,63:63,79:79}],196:[function(a){var b=a(33);b(b.S,"Object",{setPrototypeOf:a(91).set})},{33:33,91:91}],197:[function(a){"use strict";var b=a(18),c={};c[a(118)("toStringTag")]="z",c+""!="[object z]"&&a(88)(Object.prototype,"toString",function(){return"[object "+b(this)+"]"},!0)},{118:118,18:18,88:88}],198:[function(a){var b=a(33),c=a(82);b(b.G+b.F*(parseFloat!=c),{parseFloat:c})},{33:33,82:82}],199:[function(a){var b=a(33),c=a(83);b(b.G+b.F*(parseInt!=c),{parseInt:c})},{33:33,83:83}],200:[function(a){"use strict";var b,c,d,e=a(59),f=a(39),g=a(26),h=a(18),i=a(33),j=a(50),k=(a(8),a(4)),l=a(7),m=a(38),n=(a(91).set,a(96)),o=a(105).set,p=a(65)(),q="Promise",r=f.TypeError,s=f.process,t=f[q],s=f.process,u="process"==h(s),v=function(){},w=!!function(){try{var b=t.resolve(1),c=(b.constructor={})[a(118)("species")]=function(a){a(v,v)};return(u||"function"==typeof PromiseRejectionEvent)&&b.then(v)instanceof c}catch(a){}}(),x=function(a,b){return a===b||a===t&&b===d},y=function(a){var b;return!(!j(a)||"function"!=typeof(b=a.then))&&b},z=function(a){return x(t,a)?new A(a):new c(a)},A=c=function(a){var b,c;this.promise=new a(function(a,d){if(void 0!==b||void 0!==c)throw r("Bad Promise constructor");b=a,c=d}),this.resolve=k(b),this.reject=k(c)},B=function(a){try{a()}catch(a){return{error:a}}},C=function(a,b){if(!a._n){a._n=!0;var c=a._c;p(function(){for(var d=a._v,e=1==a._s,f=0,g=function(b){var c,f,g=e?b.ok:b.fail,h=b.resolve,i=b.reject,j=b.domain;try{g?(e||(2==a._h&&F(a),a._h=1),g===!0?c=d:(j&&j.enter(),c=g(d),j&&j.exit()),c===b.promise?i(r("Promise-chain cycle")):(f=y(c))?f.call(c,h,i):h(c)):i(d)}catch(a){i(a)}};c.length>f;)g(c[f++]);a._c=[],a._n=!1,b&&!a._h&&D(a)})}},D=function(a){o.call(f,function(){var b,c,d,e=a._v;if(E(a)&&(b=B(function(){u?s.emit("unhandledRejection",e,a):(c=f.onunhandledrejection)?c({promise:a,reason:e}):(d=f.console)&&d.error&&d.error("Unhandled promise rejection",e)}),a._h=u||E(a)?2:1),a._a=void 0,b)throw b.error})},E=function(a){if(1==a._h)return!1;for(var b,c=a._a||a._c,d=0;c.length>d;)if(b=c[d++],b.fail||!E(b.promise))return!1;return!0},F=function(a){o.call(f,function(){var b;u?s.emit("rejectionHandled",a):(b=f.onrejectionhandled)&&b({promise:a,reason:a._v})})},G=function(a){var b=this;b._d||(b._d=!0,b=b._w||b,b._v=a,b._s=2,b._a||(b._a=b._c.slice()),C(b,!0))},H=function(a){var b,c=this;if(!c._d){c._d=!0,c=c._w||c;try{if(c===a)throw r("Promise can't be resolved itself");(b=y(a))?p(function(){var d={_w:c,_d:!1};try{b.call(a,g(H,d,1),g(G,d,1))}catch(a){G.call(d,a)}}):(c._v=a,c._s=1,C(c,!1))}catch(a){G.call({_w:c,_d:!1},a)}}};w||(t=function(a){l(this,t,q,"_h"),k(a),b.call(this);try{a(g(H,this,1),g(G,this,1))}catch(a){G.call(this,a)}},b=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},b.prototype=a(87)(t.prototype,{then:function(a,b){var c=z(n(this,t));return c.ok="function"!=typeof a||a,c.fail="function"==typeof b&&b,
c.domain=u?s.domain:void 0,this._c.push(c),this._a&&this._a.push(c),this._s&&C(this,!1),c.promise},catch:function(a){return this.then(void 0,a)}}),A=function(){var a=new b;this.promise=a,this.resolve=g(H,a,1),this.reject=g(G,a,1)}),i(i.G+i.W+i.F*!w,{Promise:t}),a(93)(t,q),a(92)(q),d=a(24)[q],i(i.S+i.F*!w,q,{reject:function(a){var b=z(this),c=b.reject;return c(a),b.promise}}),i(i.S+i.F*(e||!w),q,{resolve:function(a){if(a instanceof t&&x(a.constructor,this))return a;var b=z(this),c=b.resolve;return c(a),b.promise}}),i(i.S+i.F*!(w&&a(55)(function(a){t.all(a).catch(v)})),q,{all:function(a){var b=this,c=z(b),d=c.resolve,e=c.reject,f=B(function(){var c=[],f=0,g=1;m(a,!1,function(a){var h=f++,i=!1;c.push(void 0),g++,b.resolve(a).then(function(a){i||(i=!0,c[h]=a,--g||d(c))},e)}),--g||d(c)});return f&&e(f.error),c.promise},race:function(a){var b=this,c=z(b),d=c.reject,e=B(function(){m(a,!1,function(a){b.resolve(a).then(c.resolve,d)})});return e&&d(e.error),c.promise}})},{105:105,118:118,18:18,24:24,26:26,33:33,38:38,39:39,4:4,50:50,55:55,59:59,65:65,7:7,8:8,87:87,91:91,92:92,93:93,96:96}],201:[function(a){var b=a(33),c=Function.apply;b(b.S,"Reflect",{apply:function(a,b,d){return c.call(a,b,d)}})},{33:33}],202:[function(a){var b=a(33),c=a(67),d=a(4),e=a(8),f=a(50),g=a(17);b(b.S+b.F*a(35)(function(){function a(){}return!(Reflect.construct(function(){},[],a)instanceof a)}),"Reflect",{construct:function(a,b){d(a);var h=arguments.length<3?a:d(arguments[2]);if(a==h){if(void 0!=b)switch(e(b).length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3])}var i=[null];return i.push.apply(i,b),new(g.apply(a,i))}var j=h.prototype,k=c(f(j)?j:Object.prototype),l=Function.apply.call(a,k,b);return f(l)?l:k}})},{17:17,33:33,35:35,4:4,50:50,67:67,8:8}],203:[function(a){var b=a(68),c=a(33),d=a(8),e=a(111);c(c.S+c.F*a(35)(function(){Reflect.defineProperty(b.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(a,c,f){d(a),c=e(c,!0),d(f);try{return b.f(a,c,f),!0}catch(a){return!1}}})},{111:111,33:33,35:35,68:68,8:8}],204:[function(a){var b=a(33),c=a(71).f,d=a(8);b(b.S,"Reflect",{deleteProperty:function(a,b){var e=c(d(a),b);return!(e&&!e.configurable)&&delete a[b]}})},{33:33,71:71,8:8}],205:[function(a){"use strict";var b=a(33),c=a(8),d=function(a){this._t=c(a),this._i=0;var b,d=this._k=[];for(b in a)d.push(b)};a(53)(d,"Object",function(){var a,b=this,c=b._k;do if(b._i>=c.length)return{value:void 0,done:!0};while(!((a=c[b._i++])in b._t));return{value:a,done:!1}}),b(b.S,"Reflect",{enumerate:function(a){return new d(a)}})},{33:33,53:53,8:8}],206:[function(a){var b=a(71),c=a(33),d=a(8);c(c.S,"Reflect",{getOwnPropertyDescriptor:function(a,c){return b.f(d(a),c)}})},{33:33,71:71,8:8}],207:[function(a){var b=a(33),c=a(75),d=a(8);b(b.S,"Reflect",{getPrototypeOf:function(a){return c(d(a))}})},{33:33,75:75,8:8}],208:[function(a){function b(a,f){var i,j,k=arguments.length<3?a:arguments[2];return h(a)===k?a[f]:(i=c.f(a,f))?e(i,"value")?i.value:void 0!==i.get?i.get.call(k):void 0:g(j=d(a))?b(j,f,k):void 0}var c=a(71),d=a(75),e=a(40),f=a(33),g=a(50),h=a(8);f(f.S,"Reflect",{get:b})},{33:33,40:40,50:50,71:71,75:75,8:8}],209:[function(a){var b=a(33);b(b.S,"Reflect",{has:function(a,b){return b in a}})},{33:33}],210:[function(a){var b=a(33),c=a(8),d=Object.isExtensible;b(b.S,"Reflect",{isExtensible:function(a){return c(a),!d||d(a)}})},{33:33,8:8}],211:[function(a){var b=a(33);b(b.S,"Reflect",{ownKeys:a(81)})},{33:33,81:81}],212:[function(a){var b=a(33),c=a(8),d=Object.preventExtensions;b(b.S,"Reflect",{preventExtensions:function(a){c(a);try{return d&&d(a),!0}catch(a){return!1}}})},{33:33,8:8}],213:[function(a){var b=a(33),c=a(91);c&&b(b.S,"Reflect",{setPrototypeOf:function(a,b){c.check(a,b);try{return c.set(a,b),!0}catch(a){return!1}}})},{33:33,91:91}],214:[function(a){function b(a,g,k){var l,m,n=arguments.length<4?a:arguments[3],o=d.f(i(a),g);if(!o){if(j(m=e(a)))return b(m,g,k,n);o=h(0)}return f(o,"value")?!(o.writable===!1||!j(n)||(l=d.f(n,g)||h(0),l.value=k,c.f(n,g,l),0)):void 0!==o.set&&(o.set.call(n,k),!0)}var c=a(68),d=a(71),e=a(75),f=a(40),g=a(33),h=a(86),i=a(8),j=a(50);g(g.S,"Reflect",{set:b})},{33:33,40:40,50:50,68:68,71:71,75:75,8:8,86:86}],215:[function(a){var b=a(39),c=a(44),d=a(68).f,e=a(73).f,f=a(51),g=a(37),h=b.RegExp,i=h,j=h.prototype,k=/a/g,l=/a/g,m=new h(k)!==k;if(a(29)&&(!m||a(35)(function(){return l[a(118)("match")]=!1,h(k)!=k||h(l)==l||"/a/i"!=h(k,"i")}))){h=function(a,b){var d=this instanceof h,e=f(a),k=void 0===b;return!d&&e&&a.constructor===h&&k?a:c(m?new i(e&&!k?a.source:a,b):i((e=a instanceof h)?a.source:a,e&&k?g.call(a):b),d?this:j,h)};for(var n=(function(a){a in h||d(h,a,{configurable:!0,get:function(){return i[a]},set:function(b){i[a]=b}})}),o=e(i),p=0;o.length>p;)n(o[p++]);j.constructor=h,h.prototype=j,a(88)(b,"RegExp",h)}a(92)("RegExp")},{118:118,29:29,35:35,37:37,39:39,44:44,51:51,68:68,73:73,88:88,92:92}],216:[function(a){a(29)&&"g"!=/./g.flags&&a(68).f(RegExp.prototype,"flags",{configurable:!0,get:a(37)})},{29:29,37:37,68:68}],217:[function(a){a(36)("match",1,function(a,b,c){return[function(c){"use strict";var d=a(this),e=void 0==c?void 0:c[b];return void 0!==e?e.call(c,d):new RegExp(c)[b](String(d))},c]})},{36:36}],218:[function(a){a(36)("replace",2,function(a,b,c){return[function(d,e){"use strict";var f=a(this),g=void 0==d?void 0:d[b];return void 0!==g?g.call(d,f,e):c.call(String(f),d,e)},c]})},{36:36}],219:[function(a){a(36)("search",1,function(a,b,c){return[function(c){"use strict";var d=a(this),e=void 0==c?void 0:c[b];return void 0!==e?e.call(c,d):new RegExp(c)[b](String(d))},c]})},{36:36}],220:[function(a){a(36)("split",2,function(b,c,d){"use strict";var e=a(51),f=d,g=[].push,h="split",i="length",j="lastIndex";if("c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[i]||2!="ab"[h](/(?:ab)*/)[i]||4!="."[h](/(.?)(.?)/)[i]||"."[h](/()()/)[i]>1||""[h](/.?/)[i]){var k=void 0===/()??/.exec("")[1];d=function(a,b){var c=String(this);if(void 0===a&&0===b)return[];if(!e(a))return f.call(c,a,b);var d,h,l,m,n,o=[],p=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(a.sticky?"y":""),q=0,r=void 0===b?4294967295:b>>>0,s=new RegExp(a.source,p+"g");for(k||(d=new RegExp("^"+s.source+"$(?!\\s)",p));(h=s.exec(c))&&(l=h.index+h[0][i],!(l>q&&(o.push(c.slice(q,h.index)),!k&&h[i]>1&&h[0].replace(d,function(){for(n=1;n<arguments[i]-2;n++)void 0===arguments[n]&&(h[n]=void 0)}),h[i]>1&&h.index<c[i]&&g.apply(o,h.slice(1)),m=h[0][i],q=l,o[i]>=r)));)s[j]===h.index&&s[j]++;return q===c[i]?!m&&s.test("")||o.push(""):o.push(c.slice(q)),o[i]>r?o.slice(0,r):o}}else"0"[h](void 0,0)[i]&&(d=function(a,b){return void 0===a&&0===b?[]:f.call(this,a,b)});return[function(a,e){var f=b(this),g=void 0==a?void 0:a[c];return void 0!==g?g.call(a,f,e):d.call(String(f),a,e)},d]})},{36:36,51:51}],221:[function(a){"use strict";a(216);var b=a(8),c=a(37),d=a(29),e="toString",f=/./[e],g=function(b){a(88)(RegExp.prototype,e,b,!0)};a(35)(function(){return"/a/b"!=f.call({source:"a",flags:"b"})})?g(function(){var a=b(this);return"/".concat(a.source,"/","flags"in a?a.flags:!d&&a instanceof RegExp?c.call(a):void 0)}):f.name!=e&&g(function(){return f.call(this)})},{216:216,29:29,35:35,37:37,8:8,88:88}],222:[function(a,b){"use strict";var c=a(20);b.exports=a(23)("Set",function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},{add:function(a){return c.def(this,a=0===a?0:a,a)}},c)},{20:20,23:23}],223:[function(a){"use strict";a(100)("anchor",function(a){return function(b){return a(this,"a","name",b)}})},{100:100}],224:[function(a){"use strict";a(100)("big",function(a){return function(){return a(this,"big","","")}})},{100:100}],225:[function(a){"use strict";a(100)("blink",function(a){return function(){return a(this,"blink","","")}})},{100:100}],226:[function(a){"use strict";a(100)("bold",function(a){return function(){return a(this,"b","","")}})},{100:100}],227:[function(a){"use strict";var b=a(33),c=a(98)(!1);b(b.P,"String",{codePointAt:function(a){return c(this,a)}})},{33:33,98:98}],228:[function(a){"use strict";var b=a(33),c=a(109),d=a(99),e="endsWith",f=""[e];b(b.P+b.F*a(34)(e),"String",{endsWith:function(a){var b=d(this,a,e),g=arguments.length>1?arguments[1]:void 0,h=c(b.length),i=void 0===g?h:Math.min(c(g),h),j=String(a);return f?f.call(b,j,i):b.slice(i-j.length,i)===j}})},{109:109,33:33,34:34,99:99}],229:[function(a){"use strict";a(100)("fixed",function(a){return function(){return a(this,"tt","","")}})},{100:100}],230:[function(a){"use strict";a(100)("fontcolor",function(a){return function(b){return a(this,"font","color",b)}})},{100:100}],231:[function(a){"use strict";a(100)("fontsize",function(a){return function(b){return a(this,"font","size",b)}})},{100:100}],232:[function(a){var b=a(33),c=a(106),d=String.fromCharCode,e=String.fromCodePoint;b(b.S+b.F*(!!e&&1!=e.length),"String",{fromCodePoint:function(){for(var a,b=[],e=arguments.length,f=0;e>f;){if(a=+arguments[f++],c(a,1114111)!==a)throw RangeError(a+" is not a valid code point");b.push(65536>a?d(a):d(((a-=65536)>>10)+55296,a%1024+56320))}return b.join("")}})},{106:106,33:33}],233:[function(a){"use strict";var b=a(33),c=a(99),d="includes";b(b.P+b.F*a(34)(d),"String",{includes:function(a){return!!~c(this,a,d).indexOf(a,arguments.length>1?arguments[1]:void 0)}})},{33:33,34:34,99:99}],234:[function(a){"use strict";a(100)("italics",function(a){return function(){return a(this,"i","","")}})},{100:100}],235:[function(a){"use strict";var b=a(98)(!0);a(54)(String,"String",function(a){this._t=String(a),this._i=0},function(){var a,c=this._t,d=this._i;return d>=c.length?{value:void 0,done:!0}:(a=b(c,d),this._i+=a.length,{value:a,done:!1})})},{54:54,98:98}],236:[function(a){"use strict";a(100)("link",function(a){return function(b){return a(this,"a","href",b)}})},{100:100}],237:[function(a){var b=a(33),c=a(108),d=a(109);b(b.S,"String",{raw:function(a){for(var b=c(a.raw),e=d(b.length),f=arguments.length,g=[],h=0;e>h;)g.push(String(b[h++])),f>h&&g.push(String(arguments[h]));return g.join("")}})},{108:108,109:109,33:33}],238:[function(a){var b=a(33);b(b.P,"String",{repeat:a(102)})},{102:102,33:33}],239:[function(a){"use strict";a(100)("small",function(a){return function(){return a(this,"small","","")}})},{100:100}],240:[function(a){"use strict";var b=a(33),c=a(109),d=a(99),e="startsWith",f=""[e];b(b.P+b.F*a(34)(e),"String",{startsWith:function(a){var b=d(this,a,e),g=c(Math.min(arguments.length>1?arguments[1]:void 0,b.length)),h=String(a);return f?f.call(b,h,g):b.slice(g,g+h.length)===h}})},{109:109,33:33,34:34,99:99}],241:[function(a){"use strict";a(100)("strike",function(a){return function(){return a(this,"strike","","")}})},{100:100}],242:[function(a){"use strict";a(100)("sub",function(a){return function(){return a(this,"sub","","")}})},{100:100}],243:[function(a){"use strict";a(100)("sup",function(a){return function(){return a(this,"sup","","")}})},{100:100}],244:[function(a){"use strict";a(103)("trim",function(a){return function(){return a(this,3)}})},{103:103}],245:[function(a){"use strict";var b=a(39),c=a(40),d=a(29),e=a(33),f=a(88),g=a(63).KEY,h=a(35),i=a(95),j=a(93),k=a(115),l=a(118),m=a(117),n=a(116),o=a(58),p=a(32),q=a(48),r=a(8),s=a(108),t=a(111),u=a(86),v=a(67),w=a(72),x=a(71),y=a(68),z=a(77),A=x.f,B=y.f,C=w.f,D=b.Symbol,E=b.JSON,F=E&&E.stringify,G="prototype",H=l("_hidden"),I=l("toPrimitive"),J={}.propertyIsEnumerable,K=i("symbol-registry"),L=i("symbols"),M=Object[G],N="function"==typeof D,O=b.QObject,P=!O||!O[G]||!O[G].findChild,Q=d&&h(function(){return 7!=v(B({},"a",{get:function(){return B(this,"a",{value:7}).a}})).a})?function(a,b,c){var d=A(M,b);d&&delete M[b],B(a,b,c),d&&a!==M&&B(M,b,d)}:B,R=function(a){var b=L[a]=v(D[G]);return b._k=a,b},S=N&&"symbol"==typeof D.iterator?function(a){return"symbol"==typeof a}:function(a){return a instanceof D},T=function(a,b,d){return r(a),b=t(b,!0),r(d),c(L,b)?(d.enumerable?(c(a,H)&&a[H][b]&&(a[H][b]=!1),d=v(d,{enumerable:u(0,!1)})):(c(a,H)||B(a,H,u(1,{})),a[H][b]=!0),Q(a,b,d)):B(a,b,d)},U=function(a,b){r(a);for(var c,d=p(b=s(b)),e=0,f=d.length;f>e;)T(a,c=d[e++],b[c]);return a},V=function(a,b){return void 0===b?v(a):U(v(a),b)},W=function(a){var b=J.call(this,a=t(a,!0));return!(b||!c(this,a)||!c(L,a)||c(this,H)&&this[H][a])||b},X=function(a,b){var d=A(a=s(a),b=t(b,!0));return!d||!c(L,b)||c(a,H)&&a[H][b]||(d.enumerable=!0),d},Y=function(a){for(var b,d=C(s(a)),e=[],f=0;d.length>f;)c(L,b=d[f++])||b==H||b==g||e.push(b);return e},Z=function(a){for(var b,d=C(s(a)),e=[],f=0;d.length>f;)c(L,b=d[f++])&&e.push(L[b]);return e};N||(D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var a=k(arguments.length>0?arguments[0]:void 0);return d&&P&&Q(M,a,{configurable:!0,set:function(b){c(this,H)&&c(this[H],a)&&(this[H][a]=!1),Q(this,a,u(1,b))}}),R(a)},f(D[G],"toString",function(){return this._k}),x.f=X,y.f=T,a(73).f=w.f=Y,a(78).f=W,a(74).f=Z,d&&!a(59)&&f(M,"propertyIsEnumerable",W,!0),m.f=function(a){return R(l(a))}),e(e.G+e.W+e.F*!N,{Symbol:D});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),_=0;$.length>_;)l($[_++]);for(var $=z(l.store),_=0;$.length>_;)n($[_++]);e(e.S+e.F*!N,"Symbol",{for:function(a){return c(K,a+="")?K[a]:K[a]=D(a)},keyFor:function(a){if(S(a))return o(K,a);throw TypeError(a+" is not a symbol!")},useSetter:function(){P=!0},useSimple:function(){P=!1}}),e(e.S+e.F*!N,"Object",{create:V,defineProperty:T,defineProperties:U,getOwnPropertyDescriptor:X,getOwnPropertyNames:Y,getOwnPropertySymbols:Z}),E&&e(e.S+e.F*(!N||h(function(){var a=D();return"[null]"!=F([a])||"{}"!=F({a:a})||"{}"!=F(Object(a))})),"JSON",{stringify:function(a){if(void 0!==a&&!S(a)){for(var b,c,d=[a],e=1;arguments.length>e;)d.push(arguments[e++]);return b=d[1],"function"==typeof b&&(c=b),!c&&q(b)||(b=function(a,b){return c&&(b=c.call(this,a,b)),S(b)?void 0:b}),d[1]=b,F.apply(E,d)}}}),D[G][I]||a(41)(D[G],I,D[G].valueOf),j(D,"Symbol"),j(Math,"Math",!0),j(b.JSON,"JSON",!0)},{108:108,111:111,115:115,116:116,117:117,118:118,29:29,32:32,33:33,35:35,39:39,40:40,41:41,48:48,58:58,59:59,63:63,67:67,68:68,71:71,72:72,73:73,74:74,77:77,78:78,8:8,86:86,88:88,93:93,95:95}],246:[function(a){"use strict";var b=a(33),c=a(114),d=a(113),e=a(8),f=a(106),g=a(109),h=a(50),i=(a(118)("typed_array"),a(39).ArrayBuffer),j=a(96),k=d.ArrayBuffer,l=d.DataView,m=c.ABV&&i.isView,n=k.prototype.slice,o=c.VIEW,p="ArrayBuffer";b(b.G+b.W+b.F*(i!==k),{ArrayBuffer:k}),b(b.S+b.F*!c.CONSTR,p,{isView:function(a){return m&&m(a)||h(a)&&o in a}}),b(b.P+b.U+b.F*a(35)(function(){return!new k(2).slice(1,void 0).byteLength}),p,{slice:function(a,b){if(void 0!==n&&void 0===b)return n.call(e(this),a);for(var c=e(this).byteLength,d=f(a,c),h=f(void 0===b?c:b,c),i=new(j(this,k))(g(h-d)),m=new l(this),o=new l(i),p=0;h>d;)o.setUint8(p++,m.getUint8(d++));return i}}),a(92)(p)},{106:106,109:109,113:113,114:114,118:118,33:33,35:35,39:39,50:50,8:8,92:92,96:96}],247:[function(a){var b=a(33);b(b.G+b.W+b.F*!a(114).ABV,{DataView:a(113).DataView})},{113:113,114:114,33:33}],248:[function(a){a(112)("Float32",4,function(a){return function(b,c,d){return a(this,b,c,d)}})},{112:112}],249:[function(a){a(112)("Float64",8,function(a){return function(b,c,d){return a(this,b,c,d)}})},{112:112}],250:[function(a){a(112)("Int16",2,function(a){return function(b,c,d){return a(this,b,c,d)}})},{112:112}],251:[function(a){a(112)("Int32",4,function(a){return function(b,c,d){return a(this,b,c,d)}})},{112:112}],252:[function(a){a(112)("Int8",1,function(a){return function(b,c,d){return a(this,b,c,d)}})},{112:112}],253:[function(a){a(112)("Uint16",2,function(a){return function(b,c,d){return a(this,b,c,d)}})},{112:112}],254:[function(a){a(112)("Uint32",4,function(a){return function(b,c,d){return a(this,b,c,d)}})},{112:112}],255:[function(a){a(112)("Uint8",1,function(a){return function(b,c,d){return a(this,b,c,d)}})},{112:112}],256:[function(a){a(112)("Uint8",1,function(a){return function(b,c,d){return a(this,b,c,d)}},!0)},{112:112}],257:[function(a,b){"use strict";var c,d=a(13)(0),e=a(88),f=a(63),g=a(66),h=a(22),i=a(50),j=(a(40),f.getWeak),k=Object.isExtensible,l=h.ufstore,m={},n=function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},o={get:function(a){if(i(a)){var b=j(a);return b===!0?l(this).get(a):b?b[this._i]:void 0}},set:function(a,b){return h.def(this,a,b)}},p=b.exports=a(23)("WeakMap",n,o,h,!0,!0);7!=(new p).set((Object.freeze||Object)(m),7).get(m)&&(c=h.getConstructor(n),g(c.prototype,o),f.NEED=!0,d(["delete","has","get","set"],function(a){var b=p.prototype,d=b[a];e(b,a,function(b,e){if(i(b)&&!k(b)){this._f||(this._f=new c);var f=this._f[a](b,e);return"set"==a?this:f}return d.call(this,b,e)})}))},{13:13,22:22,23:23,40:40,50:50,63:63,66:66,88:88}],258:[function(a){"use strict";var b=a(22);a(23)("WeakSet",function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},{add:function(a){return b.def(this,a,!0)}},b,!1,!0)},{22:22,23:23}],259:[function(a){"use strict";var b=a(33),c=a(12)(!0);b(b.P,"Array",{includes:function(a){return c(this,a,arguments.length>1?arguments[1]:void 0)}}),a(6)("includes")},{12:12,33:33,6:6}],260:[function(a){var b=a(33),c=a(65)(),d=a(39).process,e="process"==a(19)(d);b(b.G,{asap:function(a){var b=e&&d.domain;c(b?b.bind(a):a)}})},{19:19,33:33,39:39,65:65}],261:[function(a){var b=a(33),c=a(19);b(b.S,"Error",{isError:function(a){return"Error"===c(a)}})},{19:19,33:33}],262:[function(a){var b=a(33);b(b.P+b.R,"Map",{toJSON:a(21)("Map")})},{21:21,33:33}],263:[function(a){var b=a(33);b(b.S,"Math",{iaddh:function(a,b,c,d){var e=a>>>0,f=b>>>0,g=c>>>0;return f+(d>>>0)+((e&g|(e|g)&~(e+g>>>0))>>>31)|0}})},{33:33}],264:[function(a){var b=a(33);b(b.S,"Math",{imulh:function(a,b){var c=65535,d=+a,e=+b,f=d&c,g=e&c,h=d>>16,i=e>>16,j=(h*g>>>0)+(f*g>>>16);return h*i+(j>>16)+((f*i>>>0)+(j&c)>>16)}})},{33:33}],265:[function(a){var b=a(33);b(b.S,"Math",{isubh:function(a,b,c,d){var e=a>>>0,f=b>>>0,g=c>>>0;return f-(d>>>0)-((~e&g|~(e^g)&e-g>>>0)>>>31)|0}})},{33:33}],266:[function(a){var b=a(33);b(b.S,"Math",{umulh:function(a,b){var c=65535,d=+a,e=+b,f=d&c,g=e&c,h=d>>>16,i=e>>>16,j=(h*g>>>0)+(f*g>>>16);return h*i+(j>>>16)+((f*i>>>0)+(j&c)>>>16)}})},{33:33}],267:[function(a){"use strict";var b=a(33),c=a(110),d=a(4),e=a(68);a(29)&&b(b.P+a(70),"Object",{__defineGetter__:function(a,b){e.f(c(this),a,{get:d(b),enumerable:!0,configurable:!0})}})},{110:110,29:29,33:33,4:4,68:68,70:70}],268:[function(a){"use strict";var b=a(33),c=a(110),d=a(4),e=a(68);a(29)&&b(b.P+a(70),"Object",{__defineSetter__:function(a,b){e.f(c(this),a,{set:d(b),enumerable:!0,configurable:!0})}})},{110:110,29:29,33:33,4:4,68:68,70:70}],269:[function(a){var b=a(33),c=a(80)(!0);b(b.S,"Object",{entries:function(a){return c(a)}})},{33:33,80:80}],270:[function(a){var b=a(33),c=a(81),d=a(108),e=a(71),f=a(25);b(b.S,"Object",{getOwnPropertyDescriptors:function(a){for(var b,g=d(a),h=e.f,i=c(g),j={},k=0;i.length>k;)f(j,b=i[k++],h(g,b));return j}})},{108:108,25:25,33:33,71:71,81:81}],271:[function(a){"use strict";var b=a(33),c=a(110),d=a(111),e=a(75),f=a(71).f;a(29)&&b(b.P+a(70),"Object",{__lookupGetter__:function(a){var b,g=c(this),h=d(a,!0);do if(b=f(g,h))return b.get;while(g=e(g))}})},{110:110,111:111,29:29,33:33,70:70,71:71,75:75}],272:[function(a){"use strict";var b=a(33),c=a(110),d=a(111),e=a(75),f=a(71).f;a(29)&&b(b.P+a(70),"Object",{__lookupSetter__:function(a){var b,g=c(this),h=d(a,!0);do if(b=f(g,h))return b.set;while(g=e(g))}})},{110:110,111:111,29:29,33:33,70:70,71:71,75:75}],273:[function(a){var b=a(33),c=a(80)(!1);b(b.S,"Object",{values:function(a){return c(a)}})},{33:33,80:80}],274:[function(a){var b=a(64),c=a(8),d=b.key,e=b.set;b.exp({defineMetadata:function(a,b,f,g){e(a,b,c(f),d(g))}})},{64:64,8:8}],275:[function(a){var b=a(64),c=a(8),d=b.key,e=b.map,f=b.store;b.exp({deleteMetadata:function(a,b){var g=arguments.length<3?void 0:d(arguments[2]),h=e(c(b),g,!1);if(void 0===h||!h.delete(a))return!1;if(h.size)return!0;var i=f.get(b);return i.delete(g),!!i.size||f.delete(b)}})},{64:64,8:8}],276:[function(a){var b=a(222),c=a(11),d=a(64),e=a(8),f=a(75),g=d.keys,h=d.key,i=function(a,d){var e=g(a,d),h=f(a);if(null===h)return e;var j=i(h,d);return j.length?e.length?c(new b(e.concat(j))):j:e};d.exp({getMetadataKeys:function(a){return i(e(a),arguments.length<2?void 0:h(arguments[1]))}})},{11:11,222:222,64:64,75:75,8:8}],277:[function(a){var b=a(64),c=a(8),d=a(75),e=b.has,f=b.get,g=b.key,h=function(a,b,c){var g=e(a,b,c);if(g)return f(a,b,c);var i=d(b);return null!==i?h(a,i,c):void 0};b.exp({getMetadata:function(a,b){return h(a,c(b),arguments.length<3?void 0:g(arguments[2]))}})},{64:64,75:75,8:8}],278:[function(a){var b=a(64),c=a(8),d=b.keys,e=b.key;b.exp({getOwnMetadataKeys:function(a){return d(c(a),arguments.length<2?void 0:e(arguments[1]))}})},{64:64,8:8}],279:[function(a){var b=a(64),c=a(8),d=b.get,e=b.key;b.exp({getOwnMetadata:function(a,b){return d(a,c(b),arguments.length<3?void 0:e(arguments[2]))}})},{64:64,8:8}],280:[function(a){var b=a(64),c=a(8),d=a(75),e=b.has,f=b.key,g=function(a,b,c){var f=e(a,b,c);if(f)return!0;var h=d(b);return null!==h&&g(a,h,c)};b.exp({hasMetadata:function(a,b){return g(a,c(b),arguments.length<3?void 0:f(arguments[2]))}})},{64:64,75:75,8:8}],281:[function(a){var b=a(64),c=a(8),d=b.has,e=b.key;b.exp({hasOwnMetadata:function(a,b){return d(a,c(b),arguments.length<3?void 0:e(arguments[2]))}})},{64:64,8:8}],282:[function(a){var b=a(64),c=a(8),d=a(4),e=b.key,f=b.set;b.exp({metadata:function(a,b){return function(g,h){f(a,b,(void 0!==h?c:d)(g),e(h))}}})},{4:4,64:64,8:8}],283:[function(a){var b=a(33);b(b.P+b.R,"Set",{toJSON:a(21)("Set")})},{21:21,33:33}],284:[function(a){"use strict";var b=a(33),c=a(98)(!0);b(b.P,"String",{at:function(a){return c(this,a)}})},{33:33,98:98}],285:[function(a){"use strict";var b=a(33),c=a(28),d=a(109),e=a(51),f=a(37),g=RegExp.prototype,h=function(a,b){this._r=a,this._s=b};a(53)(h,"RegExp String",function(){var a=this._r.exec(this._s);return{value:a,done:null===a}}),b(b.P,"String",{matchAll:function(a){if(c(this),!e(a))throw TypeError(a+" is not a regexp!");var b=String(this),i="flags"in g?String(a.flags):f.call(a),j=new RegExp(a.source,~i.indexOf("g")?i:"g"+i);return j.lastIndex=d(a.lastIndex),new h(j,b)}})},{109:109,28:28,33:33,37:37,51:51,53:53}],286:[function(a){"use strict";var b=a(33),c=a(101);b(b.P,"String",{padEnd:function(a){return c(this,a,arguments.length>1?arguments[1]:void 0,!1)}})},{101:101,33:33}],287:[function(a){"use strict";var b=a(33),c=a(101);b(b.P,"String",{padStart:function(a){return c(this,a,arguments.length>1?arguments[1]:void 0,!0)}})},{101:101,33:33}],288:[function(a){"use strict";a(103)("trimLeft",function(a){return function(){return a(this,1)}},"trimStart")},{103:103}],289:[function(a){"use strict";a(103)("trimRight",function(a){return function(){return a(this,2)}},"trimEnd")},{103:103}],290:[function(a){a(116)("asyncIterator")},{116:116}],291:[function(a){a(116)("observable")},{116:116}],292:[function(a){var b=a(33);b(b.S,"System",{global:a(39)})},{33:33,39:39}],293:[function(a){for(var b=a(132),c=a(88),d=a(39),e=a(41),f=a(57),g=a(118),h=g("iterator"),i=g("toStringTag"),j=f.Array,k=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],l=0;5>l;l++){var m,n=k[l],o=d[n],p=o&&o.prototype;if(p){p[h]||e(p,h,j),p[i]||e(p,i,n),f[n]=j;for(m in b)p[m]||c(p,m,b[m],!0)}}},{118:118,132:132,39:39,41:41,57:57,88:88}],294:[function(a){var b=a(33),c=a(105);b(b.G+b.B,{setImmediate:c.set,clearImmediate:c.clear})},{105:105,33:33}],295:[function(a){var b=a(39),c=a(33),d=a(45),e=a(84),f=b.navigator,g=!!f&&/MSIE .\./.test(f.userAgent),h=function(a){return g?function(b,c){return a(d(e,[].slice.call(arguments,2),"function"==typeof b?b:Function(b)),c)}:a};c(c.G+c.B+c.F*g,{setTimeout:h(b.setTimeout),setInterval:h(b.setInterval)})},{33:33,39:39,45:45,84:84}],296:[function(a,b){a(245),a(182),a(184),a(183),a(186),a(188),a(193),a(187),a(185),a(195),a(194),a(190),a(191),a(189),a(181),a(192),a(196),a(197),a(148),a(150),a(149),a(199),a(198),a(169),a(179),a(180),a(170),a(171),a(172),a(173),a(174),a(175),a(176),a(177),a(178),a(152),a(153),a(154),a(155),a(156),a(157),a(158),a(159),a(160),a(161),a(162),a(163),a(164),a(165),a(166),a(167),a(168),a(232),a(237),a(244),a(235),a(227),a(228),a(233),a(238),a(240),a(223),a(224),a(225),a(226),a(229),a(230),a(231),a(234),a(236),a(239),a(241),a(242),a(243),a(143),a(145),a(144),a(147),a(146),a(131),a(129),a(136),a(133),a(139),a(141),a(128),a(135),a(125),a(140),a(123),a(138),a(137),a(130),a(134),a(122),a(124),a(127),a(126),a(142),a(132),a(215),a(221),a(216),a(217),a(218),a(219),a(220),a(200),a(151),a(222),a(257),a(258),a(246),a(247),a(252),a(255),a(256),a(250),a(253),a(251),a(254),a(248),a(249),a(201),a(202),a(203),a(204),a(205),a(208),a(206),a(207),a(209),a(210),a(211),a(212),a(214),a(213),a(259),a(284),a(287),a(286),a(288),a(289),a(285),a(290),a(291),a(270),a(273),a(269),a(267),a(268),a(271),a(272),a(262),a(283),a(292),a(261),a(263),a(265),a(264),a(266),a(274),a(275),a(277),a(276),a(279),a(278),a(280),a(281),a(282),a(260),a(295),a(294),a(293),b.exports=a(24)},{122:122,123:123,124:124,125:125,126:126,127:127,128:128,129:129,130:130,131:131,132:132,133:133,134:134,135:135,136:136,137:137,138:138,139:139,140:140,141:141,142:142,143:143,144:144,145:145,146:146,147:147,148:148,149:149,150:150,151:151,152:152,153:153,154:154,155:155,156:156,157:157,158:158,159:159,160:160,161:161,162:162,163:163,164:164,165:165,166:166,167:167,168:168,169:169,170:170,171:171,172:172,173:173,174:174,175:175,176:176,177:177,178:178,179:179,180:180,181:181,182:182,183:183,184:184,185:185,186:186,187:187,188:188,189:189,190:190,191:191,192:192,193:193,194:194,195:195,196:196,197:197,198:198,199:199,200:200,201:201,202:202,203:203,204:204,205:205,206:206,207:207,208:208,209:209,210:210,211:211,212:212,213:213,214:214,215:215,216:216,217:217,218:218,219:219,220:220,221:221,222:222,223:223,224:224,225:225,226:226,227:227,228:228,229:229,230:230,231:231,232:232,233:233,234:234,235:235,236:236,237:237,238:238,239:239,24:24,240:240,241:241,242:242,243:243,244:244,245:245,246:246,247:247,248:248,249:249,250:250,251:251,252:252,253:253,254:254,255:255,256:256,257:257,258:258,259:259,260:260,261:261,262:262,263:263,264:264,265:265,266:266,267:267,268:268,269:269,270:270,271:271,272:272,273:273,274:274,275:275,276:276,277:277,278:278,279:279,280:280,281:281,282:282,283:283,284:284,285:285,286:286,287:287,288:288,289:289,290:290,291:291,292:292,293:293,294:294,295:295}],297:[function(a,b){(function(a){!function(a){"use strict";function c(a,b,c,d){var f=Object.create((b||e).prototype),g=new n(d||[]);return f._invoke=k(a,c,g),f}function d(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(a){return{type:"throw",arg:a}}}function e(){}function f(){}function g(){}function h(a){["next","throw","return"].forEach(function(b){a[b]=function(a){return this._invoke(b,a)}})}function i(a){this.arg=a}function j(a){function b(b,c){var d=a[b](c),g=d.value;return g instanceof i?Promise.resolve(g.arg).then(e,f):Promise.resolve(g).then(function(a){return d.value=a,d})}function c(a,c){function e(){return b(a,c)}return d=d?d.then(e,e):new Promise(function(a){a(e())})}"object"==typeof process&&process.domain&&(b=process.domain.bind(b));var d,e=b.bind(a,"next"),f=b.bind(a,"throw");b.bind(a,"return"),this._invoke=c}function k(a,b,c){var e=v;return function(f,g){if(e===x)throw new Error("Generator is already running");if(e===y){if("throw"===f)throw g;return p()}for(;;){var h=c.delegate;if(h){if("return"===f||"throw"===f&&h.iterator[f]===q){c.delegate=null;var i=h.iterator.return;if(i){var j=d(i,h.iterator,g);if("throw"===j.type){f="throw",g=j.arg;continue}}if("return"===f)continue}var j=d(h.iterator[f],h.iterator,g);if("throw"===j.type){c.delegate=null,f="throw",g=j.arg;continue}f="next",g=q;var k=j.arg;if(!k.done)return e=w,k;c[h.resultName]=k.value,c.next=h.nextLoc,c.delegate=null}if("next"===f)c._sent=g,e===w?c.sent=g:c.sent=q;else if("throw"===f){if(e===v)throw e=y,g;c.dispatchException(g)&&(f="next",g=q)}else"return"===f&&c.abrupt("return",g);e=x;var j=d(a,b,c);if("normal"===j.type){e=c.done?y:w;var k={value:j.arg,done:c.done};if(j.arg!==z)return k;c.delegate&&"next"===f&&(g=q)}else"throw"===j.type&&(e=y,f="throw",g=j.arg)}}}function l(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]),2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]),this.tryEntries.push(b)}function m(a){var b=a.completion||{};b.type="normal",delete b.arg,a.completion=b}function n(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(l,this),this.reset(!0)}function o(a){if(a){var b=a[s];if(b)return b.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var c=-1,d=function b(){for(;++c<a.length;)if(r.call(a,c))return b.value=a[c],b.done=!1,b;return b.value=q,b.done=!0,b};return d.next=d}}return{next:p}}function p(){return{value:q,done:!0}}var q,r=Object.prototype.hasOwnProperty,s="function"==typeof Symbol&&Symbol.iterator||"@@iterator",t="object"==typeof b,u=a.regeneratorRuntime;if(u)return void(t&&(b.exports=u));u=a.regeneratorRuntime=t?b.exports:{},u.wrap=c;var v="suspendedStart",w="suspendedYield",x="executing",y="completed",z={},A=g.prototype=e.prototype;f.prototype=A.constructor=g,g.constructor=f,f.displayName="GeneratorFunction",u.isGeneratorFunction=function(a){var b="function"==typeof a&&a.constructor;return!!b&&(b===f||"GeneratorFunction"===(b.displayName||b.name))},u.mark=function(a){return Object.setPrototypeOf?Object.setPrototypeOf(a,g):a.__proto__=g,a.prototype=Object.create(A),a},u.awrap=function(a){return new i(a)},h(j.prototype),u.async=function(a,b,d,e){var f=new j(c(a,b,d,e));return u.isGeneratorFunction(b)?f:f.next().then(function(a){return a.done?a.value:f.next()})},h(A),A[s]=function(){return this},A.toString=function(){return"[object Generator]"},u.keys=function(a){var b=[];for(var c in a)b.push(c);return b.reverse(),function c(){for(;b.length;){var d=b.pop();if(d in a)return c.value=d,c.done=!1,c}return c.done=!0,c}},u.values=o,n.prototype={constructor:n,reset:function(a){if(this.prev=0,this.next=0,this.sent=q,this.done=!1,this.delegate=null,this.tryEntries.forEach(m),!a)for(var b in this)"t"===b.charAt(0)&&r.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=q)},stop:function(){this.done=!0;var a=this.tryEntries[0],b=a.completion;if("throw"===b.type)throw b.arg;return this.rval},dispatchException:function(a){function b(b,d){return f.type="throw",f.arg=a,c.next=b,!!d}if(this.done)throw a;for(var c=this,d=this.tryEntries.length-1;d>=0;--d){var e=this.tryEntries[d],f=e.completion;if("root"===e.tryLoc)return b("end");if(e.tryLoc<=this.prev){var g=r.call(e,"catchLoc"),h=r.call(e,"finallyLoc");if(g&&h){if(this.prev<e.catchLoc)return b(e.catchLoc,!0);if(this.prev<e.finallyLoc)return b(e.finallyLoc)}else if(g){if(this.prev<e.catchLoc)return b(e.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<e.finallyLoc)return b(e.finallyLoc)}}}},abrupt:function(a,b){for(var c=this.tryEntries.length-1;c>=0;--c){var d=this.tryEntries[c];if(d.tryLoc<=this.prev&&r.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var e=d;break}}e&&("break"===a||"continue"===a)&&e.tryLoc<=b&&b<=e.finallyLoc&&(e=null);var f=e?e.completion:{};return f.type=a,f.arg=b,e?this.next=e.finallyLoc:this.complete(f),z},complete:function(a,b){if("throw"===a.type)throw a.arg;"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=a.arg,this.next="end"):"normal"===a.type&&b&&(this.next=b)},finish:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.finallyLoc===a)return this.complete(c.completion,c.afterLoc),m(c),z}},catch:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.tryLoc===a){var d=c.completion;if("throw"===d.type){var e=d.arg;m(c)}return e}}throw new Error("illegal catch attempt")},delegateYield:function(a,b,c){
return this.delegate={iterator:o(a),resultName:b,nextLoc:c},z}}}("object"==typeof a?a:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1]),function(a){"use strict";function b(a){if("string"!=typeof a&&(a=String(a)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");return a.toLowerCase()}function c(a){return"string"!=typeof a&&(a=String(a)),a}function d(a){this.map={},a instanceof d?a.forEach(function(a,b){this.append(b,a)},this):a&&Object.getOwnPropertyNames(a).forEach(function(b){this.append(b,a[b])},this)}function e(a){return a.bodyUsed?Promise.reject(new TypeError("Already read")):void(a.bodyUsed=!0)}function f(a){return new Promise(function(b,c){a.onload=function(){b(a.result)},a.onerror=function(){c(a.error)}})}function g(a){var b=new FileReader;return b.readAsArrayBuffer(a),f(b)}function h(a){var b=new FileReader;return b.readAsText(a),f(b)}function i(){return this.bodyUsed=!1,this._initBody=function(a){if(this._bodyInit=a,"string"==typeof a)this._bodyText=a;else if(o.blob&&Blob.prototype.isPrototypeOf(a))this._bodyBlob=a;else if(o.formData&&FormData.prototype.isPrototypeOf(a))this._bodyFormData=a;else if(a){if(!o.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(a))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof a?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type&&this.headers.set("content-type",this._bodyBlob.type))},o.blob?(this.blob=function(){var a=e(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(g)},this.text=function(){var a=e(this);if(a)return a;if(this._bodyBlob)return h(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var a=e(this);return a?a:Promise.resolve(this._bodyText)},o.formData&&(this.formData=function(){return this.text().then(l)}),this.json=function(){return this.text().then(JSON.parse)},this}function j(a){var b=a.toUpperCase();return p.indexOf(b)>-1?b:a}function k(a,b){b=b||{};var c=b.body;if(k.prototype.isPrototypeOf(a)){if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url,this.credentials=a.credentials,b.headers||(this.headers=new d(a.headers)),this.method=a.method,this.mode=a.mode,c||(c=a._bodyInit,a.bodyUsed=!0)}else this.url=a;if(this.credentials=b.credentials||this.credentials||"omit",!b.headers&&this.headers||(this.headers=new d(b.headers)),this.method=j(b.method||this.method||"GET"),this.mode=b.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&c)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(c)}function l(a){var b=new FormData;return a.trim().split("&").forEach(function(a){if(a){var c=a.split("="),d=c.shift().replace(/\+/g," "),e=c.join("=").replace(/\+/g," ");b.append(decodeURIComponent(d),decodeURIComponent(e))}}),b}function m(a){var b=new d,c=(a.getAllResponseHeaders()||"").trim().split("\n");return c.forEach(function(a){var c=a.trim().split(":"),d=c.shift().trim(),e=c.join(":").trim();b.append(d,e)}),b}function n(a,b){b||(b={}),this.type="default",this.status=b.status,this.ok=this.status>=200&&this.status<300,this.statusText=b.statusText,this.headers=b.headers instanceof d?b.headers:new d(b.headers),this.url=b.url||"",this._initBody(a)}if(!a.fetch){d.prototype.append=function(a,d){a=b(a),d=c(d);var e=this.map[a];e||(e=[],this.map[a]=e),e.push(d)},d.prototype.delete=function(a){delete this.map[b(a)]},d.prototype.get=function(a){var c=this.map[b(a)];return c?c[0]:null},d.prototype.getAll=function(a){return this.map[b(a)]||[]},d.prototype.has=function(a){return this.map.hasOwnProperty(b(a))},d.prototype.set=function(a,d){this.map[b(a)]=[c(d)]},d.prototype.forEach=function(a,b){Object.getOwnPropertyNames(this.map).forEach(function(c){this.map[c].forEach(function(d){a.call(b,d,c,this)},this)},this)};var o={blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch(a){return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a},p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];k.prototype.clone=function(){return new k(this)},i.call(k.prototype),i.call(n.prototype),n.prototype.clone=function(){return new n(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},n.error=function(){var a=new n(null,{status:0,statusText:""});return a.type="error",a};var q=[301,302,303,307,308];n.redirect=function(a,b){if(q.indexOf(b)===-1)throw new RangeError("Invalid status code");return new n(null,{status:b,headers:{location:a}})},a.Headers=d,a.Request=k,a.Response=n,a.fetch=function(a,b){return new Promise(function(c,d){function e(){return"responseURL"in g?g.responseURL:/^X-Request-URL:/m.test(g.getAllResponseHeaders())?g.getResponseHeader("X-Request-URL"):void 0}var f;f=k.prototype.isPrototypeOf(a)&&!b?a:new k(a,b);var g=new XMLHttpRequest;g.onload=function(){var a=1223===g.status?204:g.status;if(a<100||a>599)return void d(new TypeError("Network request failed"));var b={status:a,statusText:g.statusText,headers:m(g),url:e()},f="response"in g?g.response:g.responseText;c(new n(f,b))},g.onerror=function(){d(new TypeError("Network request failed"))},g.ontimeout=function(){d(new TypeError("Network request failed"))},g.open(f.method,f.url,!0),"include"===f.credentials&&(g.withCredentials=!0),"responseType"in g&&o.blob&&(g.responseType="blob"),f.headers.forEach(function(a,b){g.setRequestHeader(b,a)}),g.send("undefined"==typeof f._bodyInit?null:f._bodyInit)})},a.fetch.polyfill=!0}}("undefined"!=typeof self?self:this);try{new window.CustomEvent("test")}catch(a){var CustomEvent=function(a,b){var c;return b=b||{bubbles:!1,cancelable:!1,detail:void 0},c=document.createEvent("CustomEvent"),c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c};CustomEvent.prototype=window.Event.prototype,window.CustomEvent=CustomEvent}(function(){(function(){(function(){this.Turbolinks={supported:function(){return null!=window.history.pushState&&null!=window.requestAnimationFrame}(),visit:function(b,c){return a.controller.visit(b,c)},clearCache:function(){return a.controller.clearCache()}}}).call(this)}).call(this);var a=this.Turbolinks;(function(){(function(){var b,c;a.copyObject=function(a){var b,c,d;c={};for(b in a)d=a[b],c[b]=d;return c},a.closest=function(a,c){return b.call(a,c)},b=function(){var a,b;return a=document.documentElement,null!=(b=a.closest)?b:function(a){var b;for(b=this;b;){if(b.nodeType===Node.ELEMENT_NODE&&c.call(b,a))return b;b=b.parentNode}}}(),a.defer=function(a){return setTimeout(a,1)},a.dispatch=function(a,b){var c,d,e,f,g;return f=null!=b?b:{},g=f.target,c=f.cancelable,d=f.data,e=document.createEvent("Events"),e.initEvent(a,!0,c===!0),e.data=null!=d?d:{},(null!=g?g:document).dispatchEvent(e),e},a.match=function(a,b){return c.call(a,b)},c=function(){var a,b,c,d;return a=document.documentElement,null!=(b=null!=(c=null!=(d=a.matchesSelector)?d:a.webkitMatchesSelector)?c:a.msMatchesSelector)?b:a.mozMatchesSelector}(),a.uuid=function(){var a,b,c;for(c="",a=b=1;36>=b;a=++b)c+=9===a||14===a||19===a||24===a?"-":15===a?"4":20===a?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return c}}).call(this),function(){a.Location=function(){function a(a){var b,c;null==a&&(a=""),c=document.createElement("a"),c.href=a.toString(),this.absoluteURL=c.href,b=c.hash.length,2>b?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-b),this.anchor=c.hash.slice(1))}var b,c,d,e;return a.wrap=function(a){return a instanceof this?a:new this(a)},a.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},a.prototype.getPath=function(){var a,b;return null!=(a=null!=(b=this.absoluteURL.match(/\/\/[^\/]*(\/[^?;]*)/))?b[1]:void 0)?a:"/"},a.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},a.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},a.prototype.getExtension=function(){var a,b;return null!=(a=null!=(b=this.getLastPathComponent().match(/\.[^.]*$/))?b[0]:void 0)?a:""},a.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},a.prototype.isPrefixedBy=function(a){var b;return b=c(a),this.isEqualTo(a)||e(this.absoluteURL,b)},a.prototype.isEqualTo=function(a){return this.absoluteURL===(null!=a?a.absoluteURL:void 0)},a.prototype.toCacheKey=function(){return this.requestURL},a.prototype.toJSON=function(){return this.absoluteURL},a.prototype.toString=function(){return this.absoluteURL},a.prototype.valueOf=function(){return this.absoluteURL},c=function(a){return b(a.getOrigin()+a.getPath())},b=function(a){return d(a,"/")?a:a+"/"},e=function(a,b){return a.slice(0,b.length)===b},d=function(a,b){return a.slice(-b.length)===b},a}()}.call(this),function(){var b=function(a,b){return function(){return a.apply(b,arguments)}};a.HttpRequest=function(){function c(c,d,e){this.delegate=c,this.requestCanceled=b(this.requestCanceled,this),this.requestTimedOut=b(this.requestTimedOut,this),this.requestFailed=b(this.requestFailed,this),this.requestLoaded=b(this.requestLoaded,this),this.requestProgressed=b(this.requestProgressed,this),this.url=a.Location.wrap(d).requestURL,this.referrer=a.Location.wrap(e).absoluteURL,this.createXHR()}return c.NETWORK_FAILURE=0,c.TIMEOUT_FAILURE=-1,c.timeout=60,c.prototype.send=function(){var a;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(a=this.delegate).requestStarted?a.requestStarted():void 0):void 0},c.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},c.prototype.requestProgressed=function(a){return a.lengthComputable?this.setProgress(a.loaded/a.total):void 0},c.prototype.requestLoaded=function(){return this.endRequest(function(a){return function(){var b;return 200<=(b=a.xhr.status)&&300>b?a.delegate.requestCompletedWithResponse(a.xhr.responseText,a.xhr.getResponseHeader("Turbolinks-Location")):(a.failed=!0,a.delegate.requestFailedWithStatusCode(a.xhr.status,a.xhr.responseText))}}(this))},c.prototype.requestFailed=function(){return this.endRequest(function(a){return function(){return a.failed=!0,a.delegate.requestFailedWithStatusCode(a.constructor.NETWORK_FAILURE)}}(this))},c.prototype.requestTimedOut=function(){return this.endRequest(function(a){return function(){return a.failed=!0,a.delegate.requestFailedWithStatusCode(a.constructor.TIMEOUT_FAILURE)}}(this))},c.prototype.requestCanceled=function(){return this.endRequest()},c.prototype.notifyApplicationBeforeRequestStart=function(){return a.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},c.prototype.notifyApplicationAfterRequestEnd=function(){return a.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},c.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},c.prototype.endRequest=function(a){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=a&&a.call(this),this.destroy()):void 0},c.prototype.setProgress=function(a){var b;return this.progress=a,"function"==typeof(b=this.delegate).requestProgressed?b.requestProgressed(this.progress):void 0},c.prototype.destroy=function(){var a;return this.setProgress(1),"function"==typeof(a=this.delegate).requestFinished&&a.requestFinished(),this.delegate=null,this.xhr=null},c}()}.call(this),function(){var b=function(a,b){return function(){return a.apply(b,arguments)}};a.ProgressBar=function(){function a(){this.trickle=b(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var c;return c=300,a.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+c+"ms ease-out, opacity "+c/2+"ms "+c/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",a.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},a.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement(function(a){return function(){return a.uninstallProgressElement(),a.stopTrickling(),a.visible=!1,a.hiding=!1}}(this))):void 0},a.prototype.setValue=function(a){return this.value=a,this.refresh()},a.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},a.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},a.prototype.fadeProgressElement=function(a){return this.progressElement.style.opacity=0,setTimeout(a,1.5*c)},a.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},a.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,c)},a.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},a.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},a.prototype.refresh=function(){return requestAnimationFrame(function(a){return function(){return a.progressElement.style.width=10+90*a.value+"%"}}(this))},a.prototype.createStylesheetElement=function(){var a;return a=document.createElement("style"),a.type="text/css",a.textContent=this.constructor.defaultCSS,a},a.prototype.createProgressElement=function(){var a;return a=document.createElement("div"),a.className="turbolinks-progress-bar",a},a}()}.call(this),function(){var b=function(a,b){return function(){return a.apply(b,arguments)}};a.BrowserAdapter=function(){function c(c){this.controller=c,this.showProgressBar=b(this.showProgressBar,this),this.progressBar=new a.ProgressBar}var d,e,f,g;return g=a.HttpRequest,d=g.NETWORK_FAILURE,f=g.TIMEOUT_FAILURE,e=500,c.prototype.visitProposedToLocationWithAction=function(a,b){return this.controller.startVisitToLocationWithAction(a,b)},c.prototype.visitStarted=function(a){return a.issueRequest(),a.changeHistory(),a.loadCachedSnapshot()},c.prototype.visitRequestStarted=function(a){return this.progressBar.setValue(0),a.hasCachedSnapshot()||"restore"!==a.action?this.showProgressBarAfterDelay():this.showProgressBar()},c.prototype.visitRequestProgressed=function(a){return this.progressBar.setValue(a.progress)},c.prototype.visitRequestCompleted=function(a){return a.loadResponse()},c.prototype.visitRequestFailedWithStatusCode=function(a,b){switch(b){case d:case f:return this.reload();default:return a.loadResponse()}},c.prototype.visitRequestFinished=function(){return this.hideProgressBar()},c.prototype.visitCompleted=function(a){return a.followRedirect()},c.prototype.pageInvalidated=function(){return this.reload()},c.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,e)},c.prototype.showProgressBar=function(){return this.progressBar.show()},c.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},c.prototype.reload=function(){return window.location.reload()},c}()}.call(this),function(){var b,c=function(a,b){return function(){return a.apply(b,arguments)}};b=!1,addEventListener("load",function(){return a.defer(function(){return b=!0})},!1),a.History=function(){function d(a){this.delegate=a,this.onPopState=c(this.onPopState,this)}return d.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),this.started=!0)},d.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),this.started=!1):void 0},d.prototype.push=function(b,c){return b=a.Location.wrap(b),this.update("push",b,c)},d.prototype.replace=function(b,c){return b=a.Location.wrap(b),this.update("replace",b,c)},d.prototype.onPopState=function(b){var c,d,e,f;return this.shouldHandlePopState()&&(f=null!=(d=b.state)?d.turbolinks:void 0)?(c=a.Location.wrap(window.location),e=f.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(c,e)):void 0},d.prototype.shouldHandlePopState=function(){return b===!0},d.prototype.update=function(a,b,c){var d;return d={turbolinks:{restorationIdentifier:c}},history[a+"State"](d,null,b)},d}()}.call(this),function(){a.Snapshot=function(){function b(a){var b,c;c=a.head,b=a.body,this.head=null!=c?c:document.createElement("head"),this.body=null!=b?b:document.createElement("body")}return b.wrap=function(a){return a instanceof this?a:this.fromHTML(a)},b.fromHTML=function(a){var b;return b=document.createElement("html"),b.innerHTML=a,this.fromElement(b)},b.fromElement=function(a){return new this({head:a.querySelector("head"),body:a.querySelector("body")})},b.prototype.clone=function(){return new b({head:this.head.cloneNode(!0),body:this.body.cloneNode(!0)})},b.prototype.getRootLocation=function(){var b,c;return c=null!=(b=this.getSetting("root"))?b:"/",new a.Location(c)},b.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},b.prototype.hasAnchor=function(a){try{return null!=this.body.querySelector("[id='"+a+"']")}catch(a){}},b.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},b.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},b.prototype.getSetting=function(a){var b,c;return c=this.head.querySelectorAll("meta[name='turbolinks-"+a+"']"),b=c[c.length-1],null!=b?b.getAttribute("content"):void 0},b}()}.call(this),function(){var b=[].slice;a.Renderer=function(){function a(){}var c;return a.render=function(){var a,c,d,e;return d=arguments[0],c=arguments[1],a=3<=arguments.length?b.call(arguments,2):[],e=function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(this,a,function(){}),e.delegate=d,e.render(c),e},a.prototype.renderView=function(a){return this.delegate.viewWillRender(this.newBody),a(),this.delegate.viewRendered(this.newBody)},a.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},a.prototype.createScriptElement=function(a){var b;return"false"===a.getAttribute("data-turbolinks-eval")?a:(b=document.createElement("script"),b.textContent=a.textContent,c(b,a),b)},c=function(a,b){var c,d,e,f,g,h,i;for(f=b.attributes,h=[],c=0,d=f.length;d>c;c++)g=f[c],e=g.name,i=g.value,h.push(a.setAttribute(e,i));return h},a}()}.call(this),function(){a.HeadDetails=function(){function a(a){var b,c,f,g,h,i,j;for(this.element=a,this.elements={},j=this.element.childNodes,g=0,i=j.length;i>g;g++)f=j[g],f.nodeType===Node.ELEMENT_NODE&&(h=f.outerHTML,c=null!=(b=this.elements)[h]?b[h]:b[h]={type:e(f),tracked:d(f),elements:[]},c.elements.push(f))}var b,c,d,e;return a.prototype.hasElementWithKey=function(a){return a in this.elements},a.prototype.getTrackedElementSignature=function(){var a,b;return function(){var c,d;c=this.elements,d=[];for(a in c)b=c[a].tracked,b&&d.push(a);return d}.call(this).join("")},a.prototype.getScriptElementsNotInDetails=function(a){return this.getElementsMatchingTypeNotInDetails("script",a)},a.prototype.getStylesheetElementsNotInDetails=function(a){return this.getElementsMatchingTypeNotInDetails("stylesheet",a)},a.prototype.getElementsMatchingTypeNotInDetails=function(a,b){var c,d,e,f,g,h;e=this.elements,g=[];for(d in e)f=e[d],h=f.type,c=f.elements,h!==a||b.hasElementWithKey(d)||g.push(c[0]);return g},a.prototype.getProvisionalElements=function(){var a,b,c,d,e,f,g;c=[],d=this.elements;for(b in d)e=d[b],g=e.type,f=e.tracked,a=e.elements,null!=g||f?a.length>1&&c.push.apply(c,a.slice(1)):c.push.apply(c,a);return c},e=function(a){return b(a)?"script":c(a)?"stylesheet":void 0},d=function(a){return"reload"===a.getAttribute("data-turbolinks-track")},b=function(a){var b;return b=a.tagName.toLowerCase(),"script"===b},c=function(a){var b;return b=a.tagName.toLowerCase(),"style"===b||"link"===b&&"stylesheet"===a.getAttribute("rel")},a}()}.call(this),function(){var b=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},c={}.hasOwnProperty;a.SnapshotRenderer=function(c){function d(b,c){this.currentSnapshot=b,this.newSnapshot=c,this.currentHeadDetails=new a.HeadDetails(this.currentSnapshot.head),this.newHeadDetails=new a.HeadDetails(this.newSnapshot.head),this.newBody=this.newSnapshot.body}return b(d,c),d.prototype.render=function(a){return this.trackedElementsAreIdentical()?(this.mergeHead(),this.renderView(function(b){return function(){return b.replaceBody(),b.focusFirstAutofocusableElement(),a()}}(this))):this.invalidateView()},d.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},d.prototype.replaceBody=function(){return this.activateBodyScriptElements(),this.importBodyPermanentElements(),this.assignNewBody()},d.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},d.prototype.copyNewHeadStylesheetElements=function(){var a,b,c,d,e;for(d=this.getNewHeadStylesheetElements(),e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(document.head.appendChild(a));return e},d.prototype.copyNewHeadScriptElements=function(){var a,b,c,d,e;for(d=this.getNewHeadScriptElements(),e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(document.head.appendChild(this.createScriptElement(a)));return e},d.prototype.removeCurrentHeadProvisionalElements=function(){var a,b,c,d,e;for(d=this.getCurrentHeadProvisionalElements(),e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(document.head.removeChild(a));return e},d.prototype.copyNewHeadProvisionalElements=function(){var a,b,c,d,e;for(d=this.getNewHeadProvisionalElements(),e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(document.head.appendChild(a));return e},d.prototype.importBodyPermanentElements=function(){var a,b,c,d,e,f;for(d=this.getNewBodyPermanentElements(),f=[],b=0,c=d.length;c>b;b++)e=d[b],(a=this.findCurrentBodyPermanentElement(e))?f.push(e.parentNode.replaceChild(a,e)):f.push(void 0);return f},d.prototype.activateBodyScriptElements=function(){var a,b,c,d,e,f;for(d=this.getNewBodyScriptElements(),f=[],b=0,c=d.length;c>b;b++)e=d[b],a=this.createScriptElement(e),f.push(e.parentNode.replaceChild(a,e));return f},d.prototype.assignNewBody=function(){return document.body=this.newBody},d.prototype.focusFirstAutofocusableElement=function(){var a;return null!=(a=this.findFirstAutofocusableElement())?a.focus():void 0},d.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},d.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},d.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},d.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},d.prototype.getNewBodyPermanentElements=function(){return this.newBody.querySelectorAll("[id][data-turbolinks-permanent]")},d.prototype.findCurrentBodyPermanentElement=function(a){return document.body.querySelector("#"+a.id+"[data-turbolinks-permanent]")},d.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},d.prototype.findFirstAutofocusableElement=function(){return document.body.querySelector("[autofocus]")},d}(a.Renderer)}.call(this),function(){var b=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},c={}.hasOwnProperty;a.ErrorRenderer=function(a){function c(a){this.html=a}return b(c,a),c.prototype.render=function(a){return this.renderView(function(b){return function(){return b.replaceDocumentHTML(),b.activateBodyScriptElements(),a()}}(this))},c.prototype.replaceDocumentHTML=function(){return document.documentElement.innerHTML=this.html},c.prototype.activateBodyScriptElements=function(){var a,b,c,d,e,f;for(d=this.getScriptElements(),f=[],b=0,c=d.length;c>b;b++)e=d[b],a=this.createScriptElement(e),f.push(e.parentNode.replaceChild(a,e));return f},c.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},c}(a.Renderer)}.call(this),function(){a.View=function(){function b(a){this.delegate=a,this.element=document.documentElement}return b.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},b.prototype.getSnapshot=function(){return a.Snapshot.fromElement(this.element)},b.prototype.render=function(a,b){var c,d,e;return e=a.snapshot,c=a.error,d=a.isPreview,this.markAsPreview(d),null!=e?this.renderSnapshot(e,b):this.renderError(c,b)},b.prototype.markAsPreview=function(a){return a?this.element.setAttribute("data-turbolinks-preview",""):this.element.removeAttribute("data-turbolinks-preview")},b.prototype.renderSnapshot=function(b,c){return a.SnapshotRenderer.render(this.delegate,c,this.getSnapshot(),a.Snapshot.wrap(b))},b.prototype.renderError=function(b,c){return a.ErrorRenderer.render(this.delegate,c,b)},b}()}.call(this),function(){var b=function(a,b){return function(){return a.apply(b,arguments)}};a.ScrollManager=function(){function a(a){this.delegate=a,this.onScroll=b(this.onScroll,this)}return a.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},a.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},a.prototype.scrollToElement=function(a){return a.scrollIntoView()},a.prototype.scrollToPosition=function(a){var b,c;return b=a.x,c=a.y,window.scrollTo(b,c)},a.prototype.onScroll=function(){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},a.prototype.updatePosition=function(a){var b;return this.position=a,null!=(b=this.delegate)?b.scrollPositionChanged(this.position):void 0},a}()}.call(this),function(){a.SnapshotCache=function(){function b(a){this.size=a,this.keys=[],this.snapshots={}}var c;return b.prototype.has=function(a){var b;return b=c(a),b in this.snapshots},b.prototype.get=function(a){var b;if(this.has(a))return b=this.read(a),this.touch(a),b},b.prototype.put=function(a,b){return this.write(a,b),this.touch(a),b},b.prototype.read=function(a){var b;return b=c(a),this.snapshots[b]},b.prototype.write=function(a,b){var d;return d=c(a),this.snapshots[d]=b},b.prototype.touch=function(a){var b,d;return d=c(a),b=this.keys.indexOf(d),b>-1&&this.keys.splice(b,1),this.keys.unshift(d),this.trim()},b.prototype.trim=function(){var a,b,c,d,e;for(d=this.keys.splice(this.size),e=[],a=0,c=d.length;c>a;a++)b=d[a],e.push(delete this.snapshots[b]);return e},c=function(b){return a.Location.wrap(b).toCacheKey()},b}()}.call(this),function(){var b=function(a,b){return function(){return a.apply(b,arguments)}};a.Visit=function(){function c(c,d,e){this.controller=c,this.action=e,this.performScroll=b(this.performScroll,this),this.identifier=a.uuid(),this.location=a.Location.wrap(d),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var d;return c.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},c.prototype.cancel=function(){var a;return"started"===this.state?(null!=(a=this.request)&&a.cancel(),this.cancelRender(),this.state="canceled"):void 0},c.prototype.complete=function(){var a;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(a=this.adapter).visitCompleted&&a.visitCompleted(this),this.controller.visitCompleted(this)):void 0},c.prototype.fail=function(){var a;return"started"===this.state?(this.state="failed","function"==typeof(a=this.adapter).visitFailed?a.visitFailed(this):void 0):void 0},c.prototype.changeHistory=function(){var a,b;return this.historyChanged?void 0:(a=this.location.isEqualTo(this.referrer)?"replace":this.action,b=d(a),this.controller[b](this.location,this.restorationIdentifier),this.historyChanged=!0)},c.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new a.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},c.prototype.getCachedSnapshot=function(){var a;return!(a=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!a.hasAnchor(this.location.anchor)||"restore"!==this.action&&!a.isPreviewable()?void 0:a},c.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},c.prototype.loadCachedSnapshot=function(){var a,b;return(b=this.getCachedSnapshot())?(a=this.shouldIssueRequest(),this.render(function(){var c;return this.cacheSnapshot(),this.controller.render({snapshot:b,isPreview:a},this.performScroll),"function"==typeof(c=this.adapter).visitRendered&&c.visitRendered(this),a?void 0:this.complete()})):void 0},c.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var a,b;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(a=this.adapter).visitRendered&&a.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(b=this.adapter).visitRendered&&b.visitRendered(this),this.complete())}):void 0},c.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},c.prototype.requestStarted=function(){var a;return this.recordTimingMetric("requestStart"),"function"==typeof(a=this.adapter).visitRequestStarted?a.visitRequestStarted(this):void 0},c.prototype.requestProgressed=function(a){var b;return this.progress=a,"function"==typeof(b=this.adapter).visitRequestProgressed?b.visitRequestProgressed(this):void 0},c.prototype.requestCompletedWithResponse=function(b,c){return this.response=b,null!=c&&(this.redirectedToLocation=a.Location.wrap(c)),this.adapter.visitRequestCompleted(this)},c.prototype.requestFailedWithStatusCode=function(a,b){return this.response=b,this.adapter.visitRequestFailedWithStatusCode(this,a)},c.prototype.requestFinished=function(){var a;return this.recordTimingMetric("requestEnd"),"function"==typeof(a=this.adapter).visitRequestFinished?a.visitRequestFinished(this):void 0},c.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0);
},c.prototype.scrollToRestoredPosition=function(){var a,b;return a=null!=(b=this.restorationData)?b.scrollPosition:void 0,null!=a?(this.controller.scrollToPosition(a),!0):void 0},c.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},c.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},c.prototype.recordTimingMetric=function(a){var b;return null!=(b=this.timingMetrics)[a]?b[a]:b[a]=(new Date).getTime()},c.prototype.getTimingMetrics=function(){return a.copyObject(this.timingMetrics)},d=function(a){switch(a){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},c.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},c.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},c.prototype.render=function(a){return this.cancelRender(),this.frame=requestAnimationFrame(function(b){return function(){return b.frame=null,a.call(b)}}(this))},c.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},c}()}.call(this),function(){var b=function(a,b){return function(){return a.apply(b,arguments)}};a.Controller=function(){function c(){this.clickBubbled=b(this.clickBubbled,this),this.clickCaptured=b(this.clickCaptured,this),this.pageLoaded=b(this.pageLoaded,this),this.history=new a.History(this),this.view=new a.View(this),this.scrollManager=new a.ScrollManager(this),this.restorationData={},this.clearCache()}return c.prototype.start=function(){return a.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},c.prototype.disable=function(){return this.enabled=!1},c.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},c.prototype.clearCache=function(){return this.cache=new a.SnapshotCache(10)},c.prototype.visit=function(b,c){var d,e;return null==c&&(c={}),b=a.Location.wrap(b),this.applicationAllowsVisitingLocation(b)?this.locationIsVisitable(b)?(d=null!=(e=c.action)?e:"advance",this.adapter.visitProposedToLocationWithAction(b,d)):window.location=b:void 0},c.prototype.startVisitToLocationWithAction=function(b,c,d){var e;return a.supported?(e=this.getRestorationDataForIdentifier(d),this.startVisit(b,c,{restorationData:e})):window.location=b},c.prototype.startHistory=function(){return this.location=a.Location.wrap(window.location),this.restorationIdentifier=a.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},c.prototype.stopHistory=function(){return this.history.stop()},c.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(b,c){return this.restorationIdentifier=c,this.location=a.Location.wrap(b),this.history.push(this.location,this.restorationIdentifier)},c.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(b,c){return this.restorationIdentifier=c,this.location=a.Location.wrap(b),this.history.replace(this.location,this.restorationIdentifier)},c.prototype.historyPoppedToLocationWithRestorationIdentifier=function(b,c){var d;return this.restorationIdentifier=c,this.enabled?(d=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(b,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:d,historyChanged:!0}),this.location=a.Location.wrap(b)):this.adapter.pageInvalidated()},c.prototype.getCachedSnapshotForLocation=function(a){var b;return b=this.cache.get(a),b?b.clone():void 0},c.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},c.prototype.cacheSnapshot=function(){var a;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),a=this.view.getSnapshot(),this.cache.put(this.lastRenderedLocation,a.clone())):void 0},c.prototype.scrollToAnchor=function(a){var b;return(b=document.getElementById(a))?this.scrollToElement(b):this.scrollToPosition({x:0,y:0})},c.prototype.scrollToElement=function(a){return this.scrollManager.scrollToElement(a)},c.prototype.scrollToPosition=function(a){return this.scrollManager.scrollToPosition(a)},c.prototype.scrollPositionChanged=function(a){var b;return b=this.getCurrentRestorationData(),b.scrollPosition=a},c.prototype.render=function(a,b){return this.view.render(a,b)},c.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},c.prototype.viewWillRender=function(a){return this.notifyApplicationBeforeRender(a)},c.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},c.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},c.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},c.prototype.clickBubbled=function(a){var b,c,d;return this.enabled&&this.clickEventIsSignificant(a)&&(c=this.getVisitableLinkForNode(a.target))&&(d=this.getVisitableLocationForLink(c))&&this.applicationAllowsFollowingLinkToLocation(c,d)?(a.preventDefault(),b=this.getActionForLink(c),this.visit(d,{action:b})):void 0},c.prototype.applicationAllowsFollowingLinkToLocation=function(a,b){var c;return c=this.notifyApplicationAfterClickingLinkToLocation(a,b),!c.defaultPrevented},c.prototype.applicationAllowsVisitingLocation=function(a){var b;return b=this.notifyApplicationBeforeVisitingLocation(a),!b.defaultPrevented},c.prototype.notifyApplicationAfterClickingLinkToLocation=function(b,c){return a.dispatch("turbolinks:click",{target:b,data:{url:c.absoluteURL},cancelable:!0})},c.prototype.notifyApplicationBeforeVisitingLocation=function(b){return a.dispatch("turbolinks:before-visit",{data:{url:b.absoluteURL},cancelable:!0})},c.prototype.notifyApplicationAfterVisitingLocation=function(b){return a.dispatch("turbolinks:visit",{data:{url:b.absoluteURL}})},c.prototype.notifyApplicationBeforeCachingSnapshot=function(){return a.dispatch("turbolinks:before-cache")},c.prototype.notifyApplicationBeforeRender=function(b){return a.dispatch("turbolinks:before-render",{data:{newBody:b}})},c.prototype.notifyApplicationAfterRender=function(){return a.dispatch("turbolinks:render")},c.prototype.notifyApplicationAfterPageLoad=function(b){return null==b&&(b={}),a.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:b}})},c.prototype.startVisit=function(a,b,c){var d;return null!=(d=this.currentVisit)&&d.cancel(),this.currentVisit=this.createVisit(a,b,c),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(a)},c.prototype.createVisit=function(b,c,d){var e,f,g,h,i;return f=null!=d?d:{},h=f.restorationIdentifier,g=f.restorationData,e=f.historyChanged,i=new a.Visit(this,b,c),i.restorationIdentifier=null!=h?h:a.uuid(),i.restorationData=a.copyObject(g),i.historyChanged=e,i.referrer=this.location,i},c.prototype.visitCompleted=function(a){return this.notifyApplicationAfterPageLoad(a.getTimingMetrics())},c.prototype.clickEventIsSignificant=function(a){return!(a.defaultPrevented||a.target.isContentEditable||a.which>1||a.altKey||a.ctrlKey||a.metaKey||a.shiftKey)},c.prototype.getVisitableLinkForNode=function(b){return this.nodeIsVisitable(b)?a.closest(b,"a[href]:not([target])"):void 0},c.prototype.getVisitableLocationForLink=function(b){var c;return c=new a.Location(b.getAttribute("href")),this.locationIsVisitable(c)?c:void 0},c.prototype.getActionForLink=function(a){var b;return null!=(b=a.getAttribute("data-turbolinks-action"))?b:"advance"},c.prototype.nodeIsVisitable=function(b){var c;return!(c=a.closest(b,"[data-turbolinks]"))||"false"!==c.getAttribute("data-turbolinks")},c.prototype.locationIsVisitable=function(a){return a.isPrefixedBy(this.view.getRootLocation())&&a.isHTML()},c.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},c.prototype.getRestorationDataForIdentifier=function(a){var b;return null!=(b=this.restorationData)[a]?b[a]:b[a]={}},c}()}.call(this),function(){var b,c,d;a.start=function(){return c()?(null==a.controller&&(a.controller=b()),a.controller.start()):void 0},c=function(){return null==window.Turbolinks&&(window.Turbolinks=a),d()},b=function(){var b;return b=new a.Controller,b.adapter=new a.BrowserAdapter(b),b},d=function(){return window.Turbolinks===a},d()&&a.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=a:"function"==typeof define&&define.amd&&define(a)}).call(this),document.addEventListener("click",function(a){var b,c;if(c=a.target,matches.call(c,"a[data-confirm], button[data-confirm], input[data-confirm]")&&(b=c.getAttribute("data-confirm"),!confirm(b)))return a.stopPropagation(),a.stopImmediatePropagation(),a.preventDefault(),!1},!1);var CSRF={token:function(){var a=document.querySelector('meta[name="csrf-token"]');return a&&a.getAttribute("content")},param:function(){var a=document.querySelector('meta[name="csrf-param"]');return a&&a.getAttribute("content")}},sameOrigin=function(a){var b,c=document.createElement("a");return c.href=a,b=c.href.split("/",3).join("/"),0===window.location.href.indexOf(b)};window.CSRF=CSRF,document.addEventListener("ajax:before",function(a){var b=CSRF.token(),c=a.detail;b&&c.setRequestHeader("X-CSRF-Token",b)}),document.addEventListener("submit",function(a){var b=CSRF.token(),c=CSRF.param(),d=a.target;if(matches.call(d,"form")){if(matches.call(d,"form[data-remote]"))return!0;if(!d.method||"GET"==d.method.toUpperCase())return!0;if(!sameOrigin(d.action))return!0;if(c&&b&&!d.querySelector("input[name="+c+"]")){var e=document.createElement("input");e.setAttribute("type","hidden"),e.setAttribute("name",c),e.setAttribute("value",b),d.appendChild(e)}return!0}}),document.addEventListener("click",function(a){var b,c;c=a.target,matches.call(c,"a[data-disable-with], button[data-disable-with], input[data-disable-with]")&&(b=c.getAttribute("data-disable-with"),c.value?c.value=b:c.innerHTML=b,setTimeout(function(){c.setAttribute("disabled","disabled")},0))},!1),document.addEventListener("submit",function(a){var b=a.target;if(matches.call(b,"form[data-remote]")){var c=b.action,d=(b.method||b.getAttribute("data-method")||"POST").toUpperCase(),e=new FormData(b);if(CSRF.param()&&CSRF.token()&&(e[CSRF.param()]=CSRF.token()),!LiteAjax.ajax({url:c,method:d,data:e,target:b}))return!0;a.preventDefault()}});var LiteAjax=function(){var LiteAjax={};return LiteAjax.options={method:"GET",url:window.location.href},LiteAjax.ajax=function(url,options){"object"==typeof url&&(options=url,url=void 0),options=options||{},options.accepts||(options.accepts="text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"),url=url||options.url||location.href||"";var data=options.data,target=options.target||document,xhr=new XMLHttpRequest;xhr.addEventListener("load",function(){var responseType=xhr.getResponseHeader("content-type");"text/javascript; charset=utf-8"===responseType&&eval(xhr.response);var event=new CustomEvent("ajax:complete",{detail:xhr,bubbles:!0});target.dispatchEvent(event)}),"function"==typeof options.success&&xhr.addEventListener("load",function(){xhr.status>=200&&xhr.status<300&&options.success(xhr)}),"function"==typeof options.error&&(xhr.addEventListener("load",function(){(xhr.status<200||xhr.status>=300)&&options.error(xhr)}),xhr.addEventListener("error",function(){options.error(xhr)})),xhr.open(options.method||"GET",url),xhr.setRequestHeader("X-Requested-With","XmlHttpRequest"),xhr.setRequestHeader("Accept","*/*;q=0.5, "+options.accepts),options.json&&(xhr.setRequestHeader("Content-type","application/json"),data=JSON.stringify(data));var beforeSend=new CustomEvent("ajax:before",{detail:xhr,bubbles:!0});return target.dispatchEvent(beforeSend),xhr.send(data),xhr},LiteAjax}();document.addEventListener("click",function(a){function b(a){var b,c,d;if("GET"==a.method)return!1;b=document.createElement("form"),b.method="POST",b.action=a.url,b.style.display="none";for(d in a.data)Object.prototype.hasOwnProperty.call(a.data,d)&&(c=document.createElement("input"),c.setAttribute("type","hidden"),c.setAttribute("name",d),c.setAttribute("value",a.data[d]),b.appendChild(c));return"POST"!=a.method&&(c=document.createElement("input"),c.setAttribute("type","hidden"),c.setAttribute("name","_method"),c.setAttribute("value",a.method),b.appendChild(c)),document.body.appendChild(b),b.submit(),!0}function c(a){return LiteAjax.ajax(a),!0}var d,e,f,g,h;if(0===a.button&&(d=a.target,matches.call(d,"a[data-method]"))){if(e=d.getAttribute("href"),f=d.getAttribute("data-method").toUpperCase(),g={},CSRF.param()&&CSRF.token()&&(g[CSRF.param()]=CSRF.token()),h=matches.call(d,"a[data-remote]")?c:b,!h({url:e,method:f,data:g,target:d}))return!0;a.preventDefault()}},!1);var matches=function(a){return a.matchesSelector||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector}(document.documentElement),CustomEvent=function(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c};CustomEvent.prototype=window.CustomEvent.prototype,window.CustomEvent=CustomEvent,function(){function a(a,b){return a.set(b[0],b[1]),a}function b(a,b){return a.add(b),a}function c(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function d(a,b,c,d){for(var e=-1,f=a?a.length:0;++e<f;){var g=a[e];b(d,g,c(g),a)}return d}function e(a,b){for(var c=-1,d=a?a.length:0;++c<d&&b(a[c],c,a)!==!1;);return a}function f(a,b){for(var c=a?a.length:0;c--&&b(a[c],c,a)!==!1;);return a}function g(a,b){for(var c=-1,d=a?a.length:0;++c<d;)if(!b(a[c],c,a))return!1;return!0}function h(a,b){for(var c=-1,d=a?a.length:0,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}function i(a,b){var c=a?a.length:0;return!!c&&r(a,b,0)>-1}function j(a,b,c){for(var d=-1,e=a?a.length:0;++d<e;)if(c(b,a[d]))return!0;return!1}function k(a,b){for(var c=-1,d=a?a.length:0,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}function l(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function m(a,b,c,d){var e=-1,f=a?a.length:0;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function n(a,b,c,d){var e=a?a.length:0;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function o(a,b){for(var c=-1,d=a?a.length:0;++c<d;)if(b(a[c],c,a))return!0;return!1}function p(a,b,c){var d;return c(a,function(a,c,e){if(b(a,c,e))return d=c,!1}),d}function q(a,b,c,d){for(var e=a.length,f=c+(d?1:-1);d?f--:++f<e;)if(b(a[f],f,a))return f;return-1}function r(a,b,c){if(b!==b)return q(a,t,c);for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}function s(a,b,c,d){for(var e=c-1,f=a.length;++e<f;)if(d(a[e],b))return e;return-1}function t(a){return a!==a}function u(a,b){var c=a?a.length:0;return c?z(a,b)/c:ua}function v(a){return function(b){return null==b?U:b[a]}}function w(a){return function(b){return null==a?U:a[b]}}function x(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function y(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function z(a,b){for(var c,d=-1,e=a.length;++d<e;){var f=b(a[d]);f!==U&&(c=c===U?f:c+f)}return c}function A(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}function B(a,b){return k(b,function(b){return[b,a[b]]})}function C(a){return function(b){return a(b)}}function D(a,b){return k(b,function(b){return a[b]})}function E(a,b){return a.has(b)}function F(a,b){for(var c=-1,d=a.length;++c<d&&r(b,a[c],0)>-1;);return c}function G(a,b){for(var c=a.length;c--&&r(b,a[c],0)>-1;);return c}function H(a,b){for(var c=a.length,d=0;c--;)a[c]===b&&d++;return d}function I(a){return"\\"+Ec[a]}function J(a,b){return null==a?U:a[b]}function K(a){var b=!1;if(null!=a&&"function"!=typeof a.toString)try{b=!!(a+"")}catch(a){}return b}function L(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}function M(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}function N(a,b){return function(c){return a(b(c))}}function O(a,b){for(var c=-1,d=a.length,e=0,f=[];++c<d;){var g=a[c];g!==b&&g!==Z||(a[c]=Z,f[e++]=c)}return f}function P(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}function Q(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=[a,a]}),c}function R(a){if(!a||!vc.test(a))return a.length;for(var b=tc.lastIndex=0;tc.test(a);)b++;return b}function S(a){return a.match(tc)}function T(w){function Ib(a){if(Jh(a)&&!Ol(a)&&!(a instanceof Lb)){if(a instanceof Kb)return a;if(Sj.call(a,"__wrapped__"))return Ef(a)}return new Kb(a)}function Jb(){}function Kb(a,b){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=U}function Lb(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=va,this.__views__=[]}function Mb(){var a=new Lb(this.__wrapped__);return a.__actions__=ve(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=ve(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=ve(this.__views__),a}function Nb(){if(this.__filtered__){var a=new Lb(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function Ob(){var a=this.__wrapped__.value(),b=this.__dir__,c=Ol(a),d=b<0,e=c?a.length:0,f=ef(0,e,this.__views__),g=f.start,h=f.end,i=h-g,j=d?h:g-1,k=this.__iteratees__,l=k.length,m=0,n=rk(i,this.__takeCount__);if(!c||e<W||e==i&&n==i)return ce(a,this.__actions__);var o=[];a:for(;i--&&m<n;){j+=b;for(var p=-1,q=a[j];++p<l;){var r=k[p],s=r.iteratee,t=r.type,u=s(q);if(t==pa)q=u;else if(!u){if(t==oa)continue a;break a}}o[m++]=q}return o}function Pb(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function Qb(){this.__data__=Ck?Ck(null):{}}function Rb(a){return this.has(a)&&delete this.__data__[a]}function Sb(a){var b=this.__data__;if(Ck){var c=b[a];return c===Y?U:c}return Sj.call(b,a)?b[a]:U}function Tb(a){var b=this.__data__;return Ck?b[a]!==U:Sj.call(b,a)}function Ub(a,b){var c=this.__data__;return c[a]=Ck&&b===U?Y:b,this}function Vb(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function Wb(){this.__data__=[]}function Xb(a){var b=this.__data__,c=tc(b,a);if(c<0)return!1;var d=b.length-1;return c==d?b.pop():ek.call(b,c,1),!0}function Yb(a){var b=this.__data__,c=tc(b,a);return c<0?U:b[c][1]}function Zb(a){return tc(this.__data__,a)>-1}function $b(a,b){var c=this.__data__,d=tc(c,a);return d<0?c.push([a,b]):c[d][1]=b,this}function _b(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function ac(){this.__data__={hash:new Pb,map:new(yk||Vb),string:new Pb}}function bc(a){return bf(this,a).delete(a)}function cc(a){return bf(this,a).get(a)}function dc(a){return bf(this,a).has(a)}function ec(a,b){return bf(this,a).set(a,b),this}function fc(a){var b=-1,c=a?a.length:0;for(this.__data__=new _b;++b<c;)this.add(a[b])}function gc(a){return this.__data__.set(a,Y),this}function hc(a){return this.__data__.has(a)}function ic(a){this.__data__=new Vb(a)}function jc(){this.__data__=new Vb}function kc(a){return this.__data__.delete(a)}function lc(a){return this.__data__.get(a)}function mc(a){return this.__data__.has(a)}function nc(a,b){var c=this.__data__;if(c instanceof Vb){var d=c.__data__;if(!yk||d.length<W-1)return d.push([a,b]),this;c=this.__data__=new _b(d)}return c.set(a,b),this}function oc(a,b,c,d){return a===U||uh(a,Nj[c])&&!Sj.call(d,c)?b:a}function pc(a,b,c){(c===U||uh(a[b],c))&&("number"!=typeof b||c!==U||b in a)||(a[b]=c)}function qc(a,b,c){var d=a[b];Sj.call(a,b)&&uh(d,c)&&(c!==U||b in a)||(a[b]=c)}function tc(a,b){for(var c=a.length;c--;)if(uh(a[c][0],b))return c;return-1}function Bc(a,b,c,d){return Pk(a,function(a,e,f){b(d,a,c(a),f)}),d}function Cc(a,b){return a&&we(b,qi(b),a)}function Dc(a,b){for(var c=-1,d=null==a,e=b.length,f=Gj(e);++c<e;)f[c]=d?U:ni(a,b[c]);return f}function Ec(a,b,c){return a===a&&(c!==U&&(a=a<=c?a:c),b!==U&&(a=a>=b?a:b)),a}function Hc(a,b,c,d,f,g,h){var i;if(d&&(i=g?d(a,f,g,h):d(a)),i!==U)return i;if(!Ih(a))return a;var j=Ol(a);if(j){if(i=hf(a),!b)return ve(a,i)}else{var k=_k(a),l=k==Ea||k==Fa;if(Ql(a))return je(a,b);if(k==Ia||k==za||l&&!g){if(K(a))return g?a:{};if(i=jf(l?{}:a),!b)return xe(a,Cc(i,a))}else{if(!Ac[k])return g?a:{};i=kf(a,k,Hc,b)}}h||(h=new ic);var m=h.get(a);if(m)return m;if(h.set(a,i),!j)var n=c?Ye(a):qi(a);return e(n||a,function(e,f){n&&(f=e,e=a[f]),qc(i,f,Hc(e,b,c,d,f,a,h))}),i}function Ic(a){var b=qi(a);return function(c){return Kc(c,a,b)}}function Kc(a,b,c){var d=c.length;if(null==a)return!d;for(var e=d;e--;){var f=c[e],g=b[f],h=a[f];if(h===U&&!(f in Object(a))||!g(h))return!1}return!0}function Lc(a){return Ih(a)?ck(a):{}}function Nc(a,b,c){if("function"!=typeof a)throw new Lj(X);return hk(function(){a.apply(U,c)},b)}function Oc(a,b,c,d){var e=-1,f=i,g=!0,h=a.length,l=[],m=b.length;if(!h)return l;c&&(b=k(b,C(c))),d?(f=j,g=!1):b.length>=W&&(f=E,g=!1,b=new fc(b));a:for(;++e<h;){var n=a[e],o=c?c(n):n;if(n=d||0!==n?n:0,g&&o===o){for(var p=m;p--;)if(b[p]===o)continue a;l.push(n)}else f(b,o,d)||l.push(n)}return l}function Zc(a,b){var c=!0;return Pk(a,function(a,d,e){return c=!!b(a,d,e)}),c}function $c(a,b,c){for(var d=-1,e=a.length;++d<e;){var f=a[d],g=b(f);if(null!=g&&(h===U?g===g&&!Uh(g):c(g,h)))var h=g,i=f}return i}function _c(a,b,c,d){var e=a.length;for(c=$h(c),c<0&&(c=-c>e?0:e+c),d=d===U||d>e?e:$h(d),d<0&&(d+=e),d=c>d?0:_h(d);c<d;)a[c++]=b;return a}function ad(a,b){var c=[];return Pk(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function bd(a,b,c,d,e){var f=-1,g=a.length;for(c||(c=nf),e||(e=[]);++f<g;){var h=a[f];b>0&&c(h)?b>1?bd(h,b-1,c,d,e):l(e,h):d||(e[e.length]=h)}return e}function cd(a,b){return a&&Rk(a,b,qi)}function dd(a,b){return a&&Sk(a,b,qi)}function ed(a,b){return h(b,function(b){return Fh(a[b])})}function fd(a,b){b=qf(b,a)?[b]:he(b);for(var c=0,d=b.length;null!=a&&c<d;)a=a[Bf(b[c++])];return c&&c==d?a:U}function gd(a,b,c){var d=b(a);return Ol(a)?d:l(d,c(a))}function hd(a){return Vj.call(a)}function id(a,b){return a>b}function jd(a,b){return null!=a&&(Sj.call(a,b)||"object"==typeof a&&b in a&&null===Yk(a))}function kd(a,b){return null!=a&&b in Object(a)}function ld(a,b,c){return a>=rk(b,c)&&a<qk(b,c)}function md(a,b,c){for(var d=c?j:i,e=a[0].length,f=a.length,g=f,h=Gj(f),l=1/0,m=[];g--;){var n=a[g];g&&b&&(n=k(n,C(b))),l=rk(n.length,l),h[g]=!c&&(b||e>=120&&n.length>=120)?new fc(g&&n):U}n=a[0];var o=-1,p=h[0];a:for(;++o<e&&m.length<l;){var q=n[o],r=b?b(q):q;if(q=c||0!==q?q:0,!(p?E(p,r):d(m,r,c))){for(g=f;--g;){var s=h[g];if(!(s?E(s,r):d(a[g],r,c)))continue a}p&&p.push(r),m.push(q)}}return m}function nd(a,b,c,d){return cd(a,function(a,e,f){b(d,c(a),e,f)}),d}function od(a,b,d){qf(b,a)||(b=he(b),a=zf(a,b),b=Xf(b));var e=null==a?a:a[Bf(b)];return null==e?U:c(e,a,d)}function pd(a){return Jh(a)&&Vj.call(a)==Qa}function qd(a){return Jh(a)&&Vj.call(a)==Ca}function rd(a,b,c,d,e){return a===b||(null==a||null==b||!Ih(a)&&!Jh(b)?a!==a&&b!==b:sd(a,b,rd,c,d,e))}function sd(a,b,c,d,e,f){var g=Ol(a),h=Ol(b),i=Aa,j=Aa;g||(i=_k(a),i=i==za?Ia:i),h||(j=_k(b),j=j==za?Ia:j);var k=i==Ia&&!K(a),l=j==Ia&&!K(b),m=i==j;if(m&&!k)return f||(f=new ic),g||Vl(a)?Ve(a,b,c,d,e,f):We(a,b,i,c,d,e,f);if(!(e&ja)){var n=k&&Sj.call(a,"__wrapped__"),o=l&&Sj.call(b,"__wrapped__");if(n||o){var p=n?a.value():a,q=o?b.value():b;return f||(f=new ic),c(p,q,d,e,f)}}return!!m&&(f||(f=new ic),Xe(a,b,c,d,e,f))}function td(a){return Jh(a)&&_k(a)==Ga}function ud(a,b,c,d){var e=c.length,f=e,g=!d;if(null==a)return!f;for(a=Object(a);e--;){var h=c[e];if(g&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++e<f;){h=c[e];var i=h[0],j=a[i],k=h[1];if(g&&h[2]){if(j===U&&!(i in a))return!1}else{var l=new ic;if(d)var m=d(j,k,i,a,b,l);if(!(m===U?rd(k,j,d,ia|ja,l):m))return!1}}return!0}function vd(a){if(!Ih(a)||tf(a))return!1;var b=Fh(a)||K(a)?Xj:Cb;return b.test(Cf(a))}function wd(a){return Ih(a)&&Vj.call(a)==Ka}function xd(a){return Jh(a)&&_k(a)==La}function yd(a){return Jh(a)&&Hh(a.length)&&!!zc[Vj.call(a)]}function zd(a){return"function"==typeof a?a:null==a?gj:"object"==typeof a?Ol(a)?Ed(a[0],a[1]):Dd(a):oj(a)}function Ad(a){a=null==a?a:Object(a);var b=[];for(var c in a)b.push(c);return b}function Bd(a,b){return a<b}function Cd(a,b){var c=-1,d=wh(a)?Gj(a.length):[];return Pk(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function Dd(a){var b=cf(a);return 1==b.length&&b[0][2]?wf(b[0][0],b[0][1]):function(c){return c===a||ud(c,a,b)}}function Ed(a,b){return qf(a)&&vf(b)?wf(Bf(a),b):function(c){var d=ni(c,a);return d===U&&d===b?pi(c,a):rd(b,d,U,ia|ja)}}function Fd(a,b,c,d,f){if(a!==b){if(!Ol(b)&&!Vl(b))var g=ri(b);e(g||b,function(e,h){if(g&&(h=e,e=b[h]),Ih(e))f||(f=new ic),Gd(a,b,h,c,Fd,d,f);else{var i=d?d(a[h],e,h+"",a,b,f):U;i===U&&(i=e),pc(a,h,i)}})}}function Gd(a,b,c,d,e,f,g){var h=a[c],i=b[c],j=g.get(i);if(j)return void pc(a,c,j);var k=f?f(h,i,c+"",a,b,g):U,l=k===U;l&&(k=i,Ol(i)||Vl(i)?Ol(h)?k=h:xh(h)?k=ve(h):(l=!1,k=Hc(i,!0)):Rh(i)||vh(i)?vh(h)?k=bi(h):!Ih(h)||d&&Fh(h)?(l=!1,k=Hc(i,!0)):k=h:l=!1),l&&(g.set(i,k),e(k,i,d,f,g),g.delete(i)),pc(a,c,k)}function Hd(a,b){var c=a.length;if(c)return b+=b<0?c:0,of(b,c)?a[b]:U}function Id(a,b,c){var d=-1;b=k(b.length?b:[gj],C(af()));var e=Cd(a,function(a){var c=k(b,function(b){return b(a)});return{criteria:c,index:++d,value:a}});return y(e,function(a,b){return se(a,b,c)})}function Jd(a,b){return a=Object(a),Kd(a,b,function(b,c){return c in a})}function Kd(a,b,c){for(var d=-1,e=b.length,f={};++d<e;){var g=b[d],h=a[g];c(h,g)&&(f[g]=h)}return f}function Ld(a){return function(b){return fd(b,a)}}function Md(a,b,c,d){var e=d?s:r,f=-1,g=b.length,h=a;for(a===b&&(b=ve(b)),c&&(h=k(a,C(c)));++f<g;)for(var i=0,j=b[f],l=c?c(j):j;(i=e(h,l,i,d))>-1;)h!==a&&ek.call(h,i,1),ek.call(a,i,1);return a}function Nd(a,b){for(var c=a?b.length:0,d=c-1;c--;){var e=b[c];if(c==d||e!==f){var f=e;if(of(e))ek.call(a,e,1);else if(qf(e,a))delete a[Bf(e)];else{var g=he(e),h=zf(a,g);null!=h&&delete h[Bf(Xf(g))]}}}return a}function Od(a,b){return a+jk(tk()*(b-a+1))}function Pd(a,b,c,d){for(var e=-1,f=qk(ik((b-a)/(c||1)),0),g=Gj(f);f--;)g[d?f:++e]=a,a+=c;return g}function Qd(a,b){var c="";if(!a||b<1||b>sa)return c;do b%2&&(c+=a),b=jk(b/2),b&&(a+=a);while(b);return c}function Rd(a,b){return b=qk(b===U?a.length-1:b,0),function(){for(var d=arguments,e=-1,f=qk(d.length-b,0),g=Gj(f);++e<f;)g[e]=d[b+e];e=-1;for(var h=Gj(b+1);++e<b;)h[e]=d[e];return h[b]=g,c(a,this,h)}}function Sd(a,b,c,d){b=qf(b,a)?[b]:he(b);for(var e=-1,f=b.length,g=f-1,h=a;null!=h&&++e<f;){var i=Bf(b[e]);if(Ih(h)){var j=c;if(e!=g){var k=h[i];j=d?d(k,i,h):U,j===U&&(j=null==k?of(b[e+1])?[]:{}:k)}qc(h,i,j)}h=h[i]}return a}function Td(a,b,c){var d=-1,e=a.length;b<0&&(b=-b>e?0:e+b),c=c>e?e:c,c<0&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Gj(e);++d<e;)f[d]=a[d+b];return f}function Ud(a,b){var c;return Pk(a,function(a,d,e){return c=b(a,d,e),!c}),!!c}function Vd(a,b,c){var d=0,e=a?a.length:d;if("number"==typeof b&&b===b&&e<=xa){for(;d<e;){var f=d+e>>>1,g=a[f];null!==g&&!Uh(g)&&(c?g<=b:g<b)?d=f+1:e=f}return e}return Wd(a,b,gj,c)}function Wd(a,b,c,d){b=c(b);for(var e=0,f=a?a.length:0,g=b!==b,h=null===b,i=Uh(b),j=b===U;e<f;){var k=jk((e+f)/2),l=c(a[k]),m=l!==U,n=null===l,o=l===l,p=Uh(l);if(g)var q=d||o;else q=j?o&&(d||m):h?o&&m&&(d||!n):i?o&&m&&!n&&(d||!p):!n&&!p&&(d?l<=b:l<b);q?e=k+1:f=k}return rk(f,wa)}function Xd(a,b){for(var c=-1,d=a.length,e=0,f=[];++c<d;){var g=a[c],h=b?b(g):g;if(!c||!uh(h,i)){var i=h;f[e++]=0===g?0:g}}return f}function Yd(a){return"number"==typeof a?a:Uh(a)?ua:+a}function Zd(a){if("string"==typeof a)return a;if(Uh(a))return Ok?Ok.call(a):"";var b=a+"";return"0"==b&&1/a==-ra?"-0":b}function $d(a,b,c){var d=-1,e=i,f=a.length,g=!0,h=[],k=h;if(c)g=!1,e=j;else if(f>=W){var l=b?null:Vk(a);if(l)return P(l);g=!1,e=E,k=new fc}else k=b?[]:h;a:for(;++d<f;){var m=a[d],n=b?b(m):m;if(m=c||0!==m?m:0,g&&n===n){for(var o=k.length;o--;)if(k[o]===n)continue a;b&&k.push(n),h.push(m)}else e(k,n,c)||(k!==h&&k.push(n),h.push(m))}return h}function _d(a,b){b=qf(b,a)?[b]:he(b),a=zf(a,b);var c=Bf(Xf(b));return!(null!=a&&jd(a,c))||delete a[c]}function ae(a,b,c,d){return Sd(a,b,c(fd(a,b)),d)}function be(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?Td(a,d?0:f,d?f+1:e):Td(a,d?f+1:0,d?e:f)}function ce(a,b){var c=a;return c instanceof Lb&&(c=c.value()),m(b,function(a,b){return b.func.apply(b.thisArg,l([a],b.args))},c)}function de(a,b,c){for(var d=-1,e=a.length;++d<e;)var f=f?l(Oc(f,a[d],b,c),Oc(a[d],f,b,c)):a[d];return f&&f.length?$d(f,b,c):[]}function ee(a,b,c){for(var d=-1,e=a.length,f=b.length,g={};++d<e;){var h=d<f?b[d]:U;c(g,a[d],h)}return g}function fe(a){return xh(a)?a:[]}function ge(a){return"function"==typeof a?a:gj}function he(a){return Ol(a)?a:dl(a)}function ie(a,b,c){var d=a.length;return c=c===U?d:c,!b&&c>=d?a:Td(a,b,c)}function je(a,b){if(b)return a.slice();var c=new a.constructor(a.length);return a.copy(c),c}function ke(a){var b=new a.constructor(a.byteLength);return new _j(b).set(new _j(a)),b}function le(a,b){var c=b?ke(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.byteLength)}function me(b,c,d){var e=c?d(M(b),!0):M(b);return m(e,a,new b.constructor)}function ne(a){var b=new a.constructor(a.source,yb.exec(a));return b.lastIndex=a.lastIndex,b}function oe(a,c,d){var e=c?d(P(a),!0):P(a);return m(e,b,new a.constructor)}function pe(a){return Nk?Object(Nk.call(a)):{}}function qe(a,b){var c=b?ke(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.length)}function re(a,b){if(a!==b){var c=a!==U,d=null===a,e=a===a,f=Uh(a),g=b!==U,h=null===b,i=b===b,j=Uh(b);if(!h&&!j&&!f&&a>b||f&&g&&i&&!h&&!j||d&&g&&i||!c&&i||!e)return 1;if(!d&&!f&&!j&&a<b||j&&c&&e&&!d&&!f||h&&c&&e||!g&&e||!i)return-1}return 0}function se(a,b,c){for(var d=-1,e=a.criteria,f=b.criteria,g=e.length,h=c.length;++d<g;){var i=re(e[d],f[d]);if(i){if(d>=h)return i;var j=c[d];return i*("desc"==j?-1:1)}}return a.index-b.index}function te(a,b,c,d){for(var e=-1,f=a.length,g=c.length,h=-1,i=b.length,j=qk(f-g,0),k=Gj(i+j),l=!d;++h<i;)k[h]=b[h];for(;++e<g;)(l||e<f)&&(k[c[e]]=a[e]);for(;j--;)k[h++]=a[e++];return k}function ue(a,b,c,d){for(var e=-1,f=a.length,g=-1,h=c.length,i=-1,j=b.length,k=qk(f-h,0),l=Gj(k+j),m=!d;++e<k;)l[e]=a[e];for(var n=e;++i<j;)l[n+i]=b[i];for(;++g<h;)(m||e<f)&&(l[n+c[g]]=a[e++]);return l}function ve(a,b){var c=-1,d=a.length;for(b||(b=Gj(d));++c<d;)b[c]=a[c];return b}function we(a,b,c,d){c||(c={});for(var e=-1,f=b.length;++e<f;){var g=b[e],h=d?d(c[g],a[g],g,c,a):U;qc(c,g,h===U?a[g]:h)}return c}function xe(a,b){return we(a,Zk(a),b)}function ye(a,b){return function(c,e){var f=Ol(c)?d:Bc,g=b?b():{};return f(c,a,af(e,2),g)}}function ze(a){return Rd(function(b,c){var d=-1,e=c.length,f=e>1?c[e-1]:U,g=e>2?c[2]:U;for(f=a.length>3&&"function"==typeof f?(e--,f):U,g&&pf(c[0],c[1],g)&&(f=e<3?U:f,e=1),b=Object(b);++d<e;){var h=c[d];h&&a(b,h,d,f)}return b})}function Ae(a,b){return function(c,d){if(null==c)return c;if(!wh(c))return a(c,d);for(var e=c.length,f=b?e:-1,g=Object(c);(b?f--:++f<e)&&d(g[f],f,g)!==!1;);return c}}function Be(a){return function(b,c,d){for(var e=-1,f=Object(b),g=d(b),h=g.length;h--;){var i=g[a?h:++e];if(c(f[i],i,f)===!1)break}return b}}function Ce(a,b,c){function d(){var b=this&&this!==Jc&&this instanceof d?f:a;return b.apply(e?c:this,arguments)}var e=b&$,f=Fe(a);return d}function De(a){return function(b){b=di(b);var c=vc.test(b)?S(b):U,d=c?c[0]:b.charAt(0),e=c?ie(c,1).join(""):b.slice(1);
return d[a]()+e}}function Ee(a){return function(b){return m(bj(Ji(b).replace(rc,"")),a,"")}}function Fe(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=Lc(a.prototype),d=a.apply(c,b);return Ih(d)?d:c}}function Ge(a,b,d){function e(){for(var g=arguments.length,h=Gj(g),i=g,j=_e(e);i--;)h[i]=arguments[i];var k=g<3&&h[0]!==j&&h[g-1]!==j?[]:O(h,j);if(g-=k.length,g<d)return Re(a,b,Je,e.placeholder,U,h,k,U,U,d-g);var l=this&&this!==Jc&&this instanceof e?f:a;return c(l,this,h)}var f=Fe(a);return e}function He(a){return function(b,c,d){var e=Object(b);if(!wh(b)){var f=af(c,3);b=qi(b),c=function(a){return f(e[a],a,e)}}var g=a(b,c,d);return g>-1?e[f?b[g]:g]:U}}function Ie(a){return Rd(function(b){b=bd(b,1);var c=b.length,d=c,e=Kb.prototype.thru;for(a&&b.reverse();d--;){var f=b[d];if("function"!=typeof f)throw new Lj(X);if(e&&!g&&"wrapper"==$e(f))var g=new Kb([],!0)}for(d=g?d:c;++d<c;){f=b[d];var h=$e(f),i="wrapper"==h?Wk(f):U;g=i&&sf(i[0])&&i[1]==(fa|ba|da|ga)&&!i[4].length&&1==i[9]?g[$e(i[0])].apply(g,i[3]):1==f.length&&sf(f)?g[h]():g.thru(f)}return function(){var a=arguments,d=a[0];if(g&&1==a.length&&Ol(d)&&d.length>=W)return g.plant(d).value();for(var e=0,f=c?b[e].apply(this,a):d;++e<c;)f=b[e].call(this,f);return f}})}function Je(a,b,c,d,e,f,g,h,i,j){function k(){for(var r=arguments.length,s=Gj(r),t=r;t--;)s[t]=arguments[t];if(o)var u=_e(k),v=H(s,u);if(d&&(s=te(s,d,e,o)),f&&(s=ue(s,f,g,o)),r-=v,o&&r<j){var w=O(s,u);return Re(a,b,Je,k.placeholder,c,s,w,h,i,j-r)}var x=m?c:this,y=n?x[a]:a;return r=s.length,h?s=Af(s,h):p&&r>1&&s.reverse(),l&&i<r&&(s.length=i),this&&this!==Jc&&this instanceof k&&(y=q||Fe(y)),y.apply(x,s)}var l=b&fa,m=b&$,n=b&_,o=b&(ba|ca),p=b&ha,q=n?U:Fe(a);return k}function Ke(a,b){return function(c,d){return nd(c,a,b(d),{})}}function Le(a,b){return function(c,d){var e;if(c===U&&d===U)return b;if(c!==U&&(e=c),d!==U){if(e===U)return d;"string"==typeof c||"string"==typeof d?(c=Zd(c),d=Zd(d)):(c=Yd(c),d=Yd(d)),e=a(c,d)}return e}}function Me(a){return Rd(function(b){return b=1==b.length&&Ol(b[0])?k(b[0],C(af())):k(bd(b,1),C(af())),Rd(function(d){var e=this;return a(b,function(a){return c(a,e,d)})})})}function Ne(a,b){b=b===U?" ":Zd(b);var c=b.length;if(c<2)return c?Qd(b,a):b;var d=Qd(b,ik(a/R(b)));return vc.test(b)?ie(S(d),0,a).join(""):d.slice(0,a)}function Oe(a,b,d,e){function f(){for(var b=-1,i=arguments.length,j=-1,k=e.length,l=Gj(k+i),m=this&&this!==Jc&&this instanceof f?h:a;++j<k;)l[j]=e[j];for(;i--;)l[j++]=arguments[++b];return c(m,g?d:this,l)}var g=b&$,h=Fe(a);return f}function Pe(a){return function(b,c,d){return d&&"number"!=typeof d&&pf(b,c,d)&&(c=d=U),b=Zh(b),c===U?(c=b,b=0):c=Zh(c),d=d===U?b<c?1:-1:Zh(d),Pd(b,c,d,a)}}function Qe(a){return function(b,c){return"string"==typeof b&&"string"==typeof c||(b=ai(b),c=ai(c)),a(b,c)}}function Re(a,b,c,d,e,f,g,h,i,j){var k=b&ba,l=k?g:U,m=k?U:g,n=k?f:U,o=k?U:f;b|=k?da:ea,b&=~(k?ea:da),b&aa||(b&=~($|_));var p=[a,b,e,n,l,o,m,h,i,j],q=c.apply(U,p);return sf(a)&&bl(q,p),q.placeholder=d,cl(q,a,b)}function Se(a){var b=Jj[a];return function(a,c){if(a=ai(a),c=rk($h(c),292)){var d=(di(a)+"e").split("e"),e=b(d[0]+"e"+(+d[1]+c));return d=(di(e)+"e").split("e"),+(d[0]+"e"+(+d[1]-c))}return b(a)}}function Te(a){return function(b){var c=_k(b);return c==Ga?M(b):c==La?Q(b):B(b,a(b))}}function Ue(a,b,c,d,e,f,g,h){var i=b&_;if(!i&&"function"!=typeof a)throw new Lj(X);var j=d?d.length:0;if(j||(b&=~(da|ea),d=e=U),g=g===U?g:qk($h(g),0),h=h===U?h:$h(h),j-=e?e.length:0,b&ea){var k=d,l=e;d=e=U}var m=i?U:Wk(a),n=[a,b,c,d,e,k,l,f,g,h];if(m&&xf(n,m),a=n[0],b=n[1],c=n[2],d=n[3],e=n[4],h=n[9]=null==n[9]?i?0:a.length:qk(n[9]-j,0),!h&&b&(ba|ca)&&(b&=~(ba|ca)),b&&b!=$)o=b==ba||b==ca?Ge(a,b,h):b!=da&&b!=($|da)||e.length?Je.apply(U,n):Oe(a,b,c,d);else var o=Ce(a,b,c);var p=m?Uk:bl;return cl(p(o,n),a,b)}function Ve(a,b,c,d,e,f){var g=e&ja,h=a.length,i=b.length;if(h!=i&&!(g&&i>h))return!1;var j=f.get(a);if(j&&f.get(b))return j==b;var k=-1,l=!0,m=e&ia?new fc:U;for(f.set(a,b),f.set(b,a);++k<h;){var n=a[k],p=b[k];if(d)var q=g?d(p,n,k,b,a,f):d(n,p,k,a,b,f);if(q!==U){if(q)continue;l=!1;break}if(m){if(!o(b,function(a,b){if(!m.has(b)&&(n===a||c(n,a,d,e,f)))return m.add(b)})){l=!1;break}}else if(n!==p&&!c(n,p,d,e,f)){l=!1;break}}return f.delete(a),f.delete(b),l}function We(a,b,c,d,e,f,g){switch(c){case Ra:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)return!1;a=a.buffer,b=b.buffer;case Qa:return!(a.byteLength!=b.byteLength||!d(new _j(a),new _j(b)));case Ba:case Ca:case Ha:return uh(+a,+b);case Da:return a.name==b.name&&a.message==b.message;case Ka:case Ma:return a==b+"";case Ga:var h=M;case La:var i=f&ja;if(h||(h=P),a.size!=b.size&&!i)return!1;var j=g.get(a);if(j)return j==b;f|=ia,g.set(a,b);var k=Ve(h(a),h(b),d,e,f,g);return g.delete(a),k;case Na:if(Nk)return Nk.call(a)==Nk.call(b)}return!1}function Xe(a,b,c,d,e,f){var g=e&ja,h=qi(a),i=h.length,j=qi(b),k=j.length;if(i!=k&&!g)return!1;for(var l=i;l--;){var m=h[l];if(!(g?m in b:jd(b,m)))return!1}var n=f.get(a);if(n&&f.get(b))return n==b;var o=!0;f.set(a,b),f.set(b,a);for(var p=g;++l<i;){m=h[l];var q=a[m],r=b[m];if(d)var s=g?d(r,q,m,b,a,f):d(q,r,m,a,b,f);if(!(s===U?q===r||c(q,r,d,e,f):s)){o=!1;break}p||(p="constructor"==m)}if(o&&!p){var t=a.constructor,u=b.constructor;t!=u&&"constructor"in a&&"constructor"in b&&!("function"==typeof t&&t instanceof t&&"function"==typeof u&&u instanceof u)&&(o=!1)}return f.delete(a),f.delete(b),o}function Ye(a){return gd(a,qi,Zk)}function Ze(a){return gd(a,ri,$k)}function $e(a){for(var b=a.name+"",c=Gk[b],d=Sj.call(Gk,b)?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}function _e(a){var b=Sj.call(Ib,"placeholder")?Ib:a;return b.placeholder}function af(){var a=Ib.iteratee||hj;return a=a===hj?zd:a,arguments.length?a(arguments[0],arguments[1]):a}function bf(a,b){var c=a.__data__;return rf(b)?c["string"==typeof b?"string":"hash"]:c.map}function cf(a){for(var b=qi(a),c=b.length;c--;){var d=b[c],e=a[d];b[c]=[d,e,vf(e)]}return b}function df(a,b){var c=J(a,b);return vd(c)?c:U}function ef(a,b,c){for(var d=-1,e=c.length;++d<e;){var f=c[d],g=f.size;switch(f.type){case"drop":a+=g;break;case"dropRight":b-=g;break;case"take":b=rk(b,a+g);break;case"takeRight":a=qk(a,b-g)}}return{start:a,end:b}}function ff(a){var b=a.match(tb);return b?b[1].split(ub):[]}function gf(a,b,c){b=qf(b,a)?[b]:he(b);for(var d,e=-1,f=b.length;++e<f;){var g=Bf(b[e]);if(!(d=null!=a&&c(a,g)))break;a=a[g]}if(d)return d;var f=a?a.length:0;return!!f&&Hh(f)&&of(g,f)&&(Ol(a)||Th(a)||vh(a))}function hf(a){var b=a.length,c=a.constructor(b);return b&&"string"==typeof a[0]&&Sj.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function jf(a){return"function"!=typeof a.constructor||uf(a)?{}:Lc(Yk(a))}function kf(a,b,c,d){var e=a.constructor;switch(b){case Qa:return ke(a);case Ba:case Ca:return new e(+a);case Ra:return le(a,d);case Sa:case Ta:case Ua:case Va:case Wa:case Xa:case Ya:case Za:case $a:return qe(a,d);case Ga:return me(a,d,c);case Ha:case Ma:return new e(a);case Ka:return ne(a);case La:return oe(a,d,c);case Na:return pe(a)}}function lf(a){var b=a?a.length:U;return Hh(b)&&(Ol(a)||Th(a)||vh(a))?A(b,String):null}function mf(a,b){var c=b.length,d=c-1;return b[d]=(c>1?"& ":"")+b[d],b=b.join(c>2?", ":" "),a.replace(sb,"{\n/* [wrapped with "+b+"] */\n")}function nf(a){return Ol(a)||vh(a)||!!(fk&&a&&a[fk])}function of(a,b){return b=null==b?sa:b,!!b&&("number"==typeof a||Eb.test(a))&&a>-1&&a%1==0&&a<b}function pf(a,b,c){if(!Ih(c))return!1;var d=typeof b;return!!("number"==d?wh(c)&&of(b,c.length):"string"==d&&b in c)&&uh(c[b],a)}function qf(a,b){if(Ol(a))return!1;var c=typeof a;return!("number"!=c&&"symbol"!=c&&"boolean"!=c&&null!=a&&!Uh(a))||kb.test(a)||!jb.test(a)||null!=b&&a in Object(b)}function rf(a){var b=typeof a;return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}function sf(a){var b=$e(a),c=Ib[b];if("function"!=typeof c||!(b in Lb.prototype))return!1;if(a===c)return!0;var d=Wk(c);return!!d&&a===d[0]}function tf(a){return!!Qj&&Qj in a}function uf(a){var b=a&&a.constructor,c="function"==typeof b&&b.prototype||Nj;return a===c}function vf(a){return a===a&&!Ih(a)}function wf(a,b){return function(c){return null!=c&&c[a]===b&&(b!==U||a in Object(c))}}function xf(a,b){var c=a[1],d=b[1],e=c|d,f=e<($|_|fa),g=d==fa&&c==ba||d==fa&&c==ga&&a[7].length<=b[8]||d==(fa|ga)&&b[7].length<=b[8]&&c==ba;if(!f&&!g)return a;d&$&&(a[2]=b[2],e|=c&$?0:aa);var h=b[3];if(h){var i=a[3];a[3]=i?te(i,h,b[4]):h,a[4]=i?O(a[3],Z):b[4]}return h=b[5],h&&(i=a[5],a[5]=i?ue(i,h,b[6]):h,a[6]=i?O(a[5],Z):b[6]),h=b[7],h&&(a[7]=h),d&fa&&(a[8]=null==a[8]?b[8]:rk(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=e,a}function yf(a,b,c,d,e,f){return Ih(a)&&Ih(b)&&(f.set(b,a),Fd(a,b,U,yf,f),f.delete(b)),a}function zf(a,b){return 1==b.length?a:fd(a,Td(b,0,-1))}function Af(a,b){for(var c=a.length,d=rk(b.length,c),e=ve(a);d--;){var f=b[d];a[d]=of(f,c)?e[f]:U}return a}function Bf(a){if("string"==typeof a||Uh(a))return a;var b=a+"";return"0"==b&&1/a==-ra?"-0":b}function Cf(a){if(null!=a){try{return Rj.call(a)}catch(a){}try{return a+""}catch(a){}}return""}function Df(a,b){return e(ya,function(c){var d="_."+c[0];b&c[1]&&!i(a,d)&&a.push(d)}),a.sort()}function Ef(a){if(a instanceof Lb)return a.clone();var b=new Kb(a.__wrapped__,a.__chain__);return b.__actions__=ve(a.__actions__),b.__index__=a.__index__,b.__values__=a.__values__,b}function Ff(a,b,c){b=(c?pf(a,b,c):b===U)?1:qk($h(b),0);var d=a?a.length:0;if(!d||b<1)return[];for(var e=0,f=0,g=Gj(ik(d/b));e<d;)g[f++]=Td(a,e,e+=b);return g}function Gf(a){for(var b=-1,c=a?a.length:0,d=0,e=[];++b<c;){var f=a[b];f&&(e[d++]=f)}return e}function Hf(){for(var a=arguments.length,b=Gj(a?a-1:0),c=arguments[0],d=a;d--;)b[d-1]=arguments[d];return a?l(Ol(c)?ve(c):[c],bd(b,1)):[]}function If(a,b,c){var d=a?a.length:0;return d?(b=c||b===U?1:$h(b),Td(a,b<0?0:b,d)):[]}function Jf(a,b,c){var d=a?a.length:0;return d?(b=c||b===U?1:$h(b),b=d-b,Td(a,0,b<0?0:b)):[]}function Kf(a,b){return a&&a.length?be(a,af(b,3),!0,!0):[]}function Lf(a,b){return a&&a.length?be(a,af(b,3),!0):[]}function Mf(a,b,c,d){var e=a?a.length:0;return e?(c&&"number"!=typeof c&&pf(a,b,c)&&(c=0,d=e),_c(a,b,c,d)):[]}function Nf(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=null==c?0:$h(c);return e<0&&(e=qk(d+e,0)),q(a,af(b,3),e)}function Of(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d-1;return c!==U&&(e=$h(c),e=c<0?qk(d+e,0):rk(e,d-1)),q(a,af(b,3),e,!0)}function Pf(a){var b=a?a.length:0;return b?bd(a,1):[]}function Qf(a){var b=a?a.length:0;return b?bd(a,ra):[]}function Rf(a,b){var c=a?a.length:0;return c?(b=b===U?1:$h(b),bd(a,b)):[]}function Sf(a){for(var b=-1,c=a?a.length:0,d={};++b<c;){var e=a[b];d[e[0]]=e[1]}return d}function Tf(a){return a&&a.length?a[0]:U}function Uf(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=null==c?0:$h(c);return e<0&&(e=qk(d+e,0)),r(a,b,e)}function Vf(a){return Jf(a,1)}function Wf(a,b){return a?ok.call(a,b):""}function Xf(a){var b=a?a.length:0;return b?a[b-1]:U}function Yf(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d;if(c!==U&&(e=$h(c),e=(e<0?qk(d+e,0):rk(e,d-1))+1),b!==b)return q(a,t,e-1,!0);for(;e--;)if(a[e]===b)return e;return-1}function Zf(a,b){return a&&a.length?Hd(a,$h(b)):U}function $f(a,b){return a&&a.length&&b&&b.length?Md(a,b):a}function _f(a,b,c){return a&&a.length&&b&&b.length?Md(a,b,af(c,2)):a}function ag(a,b,c){return a&&a.length&&b&&b.length?Md(a,b,U,c):a}function bg(a,b){var c=[];if(!a||!a.length)return c;var d=-1,e=[],f=a.length;for(b=af(b,3);++d<f;){var g=a[d];b(g,d,a)&&(c.push(g),e.push(d))}return Nd(a,e),c}function cg(a){return a?vk.call(a):a}function dg(a,b,c){var d=a?a.length:0;return d?(c&&"number"!=typeof c&&pf(a,b,c)?(b=0,c=d):(b=null==b?0:$h(b),c=c===U?d:$h(c)),Td(a,b,c)):[]}function eg(a,b){return Vd(a,b)}function fg(a,b,c){return Wd(a,b,af(c,2))}function gg(a,b){var c=a?a.length:0;if(c){var d=Vd(a,b);if(d<c&&uh(a[d],b))return d}return-1}function hg(a,b){return Vd(a,b,!0)}function ig(a,b,c){return Wd(a,b,af(c,2),!0)}function jg(a,b){var c=a?a.length:0;if(c){var d=Vd(a,b,!0)-1;if(uh(a[d],b))return d}return-1}function kg(a){return a&&a.length?Xd(a):[]}function lg(a,b){return a&&a.length?Xd(a,af(b,2)):[]}function mg(a){return If(a,1)}function ng(a,b,c){return a&&a.length?(b=c||b===U?1:$h(b),Td(a,0,b<0?0:b)):[]}function og(a,b,c){var d=a?a.length:0;return d?(b=c||b===U?1:$h(b),b=d-b,Td(a,b<0?0:b,d)):[]}function pg(a,b){return a&&a.length?be(a,af(b,3),!1,!0):[]}function qg(a,b){return a&&a.length?be(a,af(b,3)):[]}function rg(a){return a&&a.length?$d(a):[]}function sg(a,b){return a&&a.length?$d(a,af(b,2)):[]}function tg(a,b){return a&&a.length?$d(a,U,b):[]}function ug(a){if(!a||!a.length)return[];var b=0;return a=h(a,function(a){if(xh(a))return b=qk(a.length,b),!0}),A(b,function(b){return k(a,v(b))})}function vg(a,b){if(!a||!a.length)return[];var d=ug(a);return null==b?d:k(d,function(a){return c(b,U,a)})}function wg(a,b){return ee(a||[],b||[],qc)}function xg(a,b){return ee(a||[],b||[],Sd)}function yg(a){var b=Ib(a);return b.__chain__=!0,b}function zg(a,b){return b(a),a}function Ag(a,b){return b(a)}function Bg(){return yg(this)}function Cg(){return new Kb(this.value(),this.__chain__)}function Dg(){this.__values__===U&&(this.__values__=Yh(this.value()));var a=this.__index__>=this.__values__.length,b=a?U:this.__values__[this.__index__++];return{done:a,value:b}}function Eg(){return this}function Fg(a){for(var b,c=this;c instanceof Jb;){var d=Ef(c);d.__index__=0,d.__values__=U,b?e.__wrapped__=d:b=d;var e=d;c=c.__wrapped__}return e.__wrapped__=a,b}function Gg(){var a=this.__wrapped__;if(a instanceof Lb){var b=a;return this.__actions__.length&&(b=new Lb(this)),b=b.reverse(),b.__actions__.push({func:Ag,args:[cg],thisArg:U}),new Kb(b,this.__chain__)}return this.thru(cg)}function Hg(){return ce(this.__wrapped__,this.__actions__)}function Ig(a,b,c){var d=Ol(a)?g:Zc;return c&&pf(a,b,c)&&(b=U),d(a,af(b,3))}function Jg(a,b){var c=Ol(a)?h:ad;return c(a,af(b,3))}function Kg(a,b){return bd(Qg(a,b),1)}function Lg(a,b){return bd(Qg(a,b),ra)}function Mg(a,b,c){return c=c===U?1:$h(c),bd(Qg(a,b),c)}function Ng(a,b){var c=Ol(a)?e:Pk;return c(a,af(b,3))}function Og(a,b){var c=Ol(a)?f:Qk;return c(a,af(b,3))}function Pg(a,b,c,d){a=wh(a)?a:Di(a),c=c&&!d?$h(c):0;var e=a.length;return c<0&&(c=qk(e+c,0)),Th(a)?c<=e&&a.indexOf(b,c)>-1:!!e&&r(a,b,c)>-1}function Qg(a,b){var c=Ol(a)?k:Cd;return c(a,af(b,3))}function Rg(a,b,c,d){return null==a?[]:(Ol(b)||(b=null==b?[]:[b]),c=d?U:c,Ol(c)||(c=null==c?[]:[c]),Id(a,b,c))}function Sg(a,b,c){var d=Ol(a)?m:x,e=arguments.length<3;return d(a,af(b,4),c,e,Pk)}function Tg(a,b,c){var d=Ol(a)?n:x,e=arguments.length<3;return d(a,af(b,4),c,e,Qk)}function Ug(a,b){var c=Ol(a)?h:ad;return c(a,hh(af(b,3)))}function Vg(a){var b=wh(a)?a:Di(a),c=b.length;return c>0?b[Od(0,c-1)]:U}function Wg(a,b,c){var d=-1,e=Yh(a),f=e.length,g=f-1;for(b=(c?pf(a,b,c):b===U)?1:Ec($h(b),0,f);++d<b;){var h=Od(d,g),i=e[h];e[h]=e[d],e[d]=i}return e.length=b,e}function Xg(a){return Wg(a,va)}function Yg(a){if(null==a)return 0;if(wh(a)){var b=a.length;return b&&Th(a)?R(a):b}if(Jh(a)){var c=_k(a);if(c==Ga||c==La)return a.size}return qi(a).length}function Zg(a,b,c){var d=Ol(a)?o:Ud;return c&&pf(a,b,c)&&(b=U),d(a,af(b,3))}function $g(){return Hj.now()}function _g(a,b){if("function"!=typeof b)throw new Lj(X);return a=$h(a),function(){if(--a<1)return b.apply(this,arguments)}}function ah(a,b,c){return b=c?U:b,b=a&&null==b?a.length:b,Ue(a,fa,U,U,U,U,b)}function bh(a,b){var c;if("function"!=typeof b)throw new Lj(X);return a=$h(a),function(){return--a>0&&(c=b.apply(this,arguments)),a<=1&&(b=U),c}}function ch(a,b,c){b=c?U:b;var d=Ue(a,ba,U,U,U,U,U,b);return d.placeholder=ch.placeholder,d}function dh(a,b,c){b=c?U:b;var d=Ue(a,ca,U,U,U,U,U,b);return d.placeholder=dh.placeholder,d}function eh(a,b,c){function d(b){var c=m,d=n;return m=n=U,s=b,p=a.apply(d,c)}function e(a){return s=a,q=hk(h,b),t?d(a):p}function f(a){var c=a-r,d=a-s,e=b-c;return u?rk(e,o-d):e}function g(a){var c=a-r,d=a-s;return r===U||c>=b||c<0||u&&d>=o}function h(){var a=$g();return g(a)?i(a):void(q=hk(h,f(a)))}function i(a){return q=U,v&&m?d(a):(m=n=U,p)}function j(){q!==U&&gk(q),s=0,m=r=n=q=U}function k(){return q===U?p:i($g())}function l(){var a=$g(),c=g(a);if(m=arguments,n=this,r=a,c){if(q===U)return e(r);if(u)return q=hk(h,b),d(r)}return q===U&&(q=hk(h,b)),p}var m,n,o,p,q,r,s=0,t=!1,u=!1,v=!0;if("function"!=typeof a)throw new Lj(X);return b=ai(b)||0,Ih(c)&&(t=!!c.leading,u="maxWait"in c,o=u?qk(ai(c.maxWait)||0,b):o,v="trailing"in c?!!c.trailing:v),l.cancel=j,l.flush=k,l}function fh(a){return Ue(a,ha)}function gh(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new Lj(X);var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g),g};return c.cache=new(gh.Cache||_b),c}function hh(a){if("function"!=typeof a)throw new Lj(X);return function(){var b=arguments;switch(b.length){case 0:return!a.call(this);case 1:return!a.call(this,b[0]);case 2:return!a.call(this,b[0],b[1]);case 3:return!a.call(this,b[0],b[1],b[2])}return!a.apply(this,b)}}function ih(a){return bh(2,a)}function jh(a,b){if("function"!=typeof a)throw new Lj(X);return b=b===U?b:$h(b),Rd(a,b)}function kh(a,b){if("function"!=typeof a)throw new Lj(X);return b=b===U?0:qk($h(b),0),Rd(function(d){var e=d[b],f=ie(d,0,b);return e&&l(f,e),c(a,this,f)})}function lh(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new Lj(X);return Ih(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),eh(a,b,{leading:d,maxWait:b,trailing:e})}function mh(a){return ah(a,1)}function nh(a,b){return b=null==b?gj:b,Jl(b,a)}function oh(){if(!arguments.length)return[];var a=arguments[0];return Ol(a)?a:[a]}function ph(a){return Hc(a,!1,!0)}function qh(a,b){return Hc(a,!1,!0,b)}function rh(a){return Hc(a,!0,!0)}function sh(a,b){return Hc(a,!0,!0,b)}function th(a,b){return null==b||Kc(a,b,qi(b))}function uh(a,b){return a===b||a!==a&&b!==b}function vh(a){return xh(a)&&Sj.call(a,"callee")&&(!dk.call(a,"callee")||Vj.call(a)==za)}function wh(a){return null!=a&&Hh(Xk(a))&&!Fh(a)}function xh(a){return Jh(a)&&wh(a)}function yh(a){return a===!0||a===!1||Jh(a)&&Vj.call(a)==Ba}function zh(a){return!!a&&1===a.nodeType&&Jh(a)&&!Rh(a)}function Ah(a){if(wh(a)&&(Ol(a)||Th(a)||Fh(a.splice)||vh(a)||Ql(a)))return!a.length;if(Jh(a)){var b=_k(a);if(b==Ga||b==La)return!a.size}for(var c in a)if(Sj.call(a,c))return!1;return!(Fk&&qi(a).length)}function Bh(a,b){return rd(a,b)}function Ch(a,b,c){c="function"==typeof c?c:U;var d=c?c(a,b):U;return d===U?rd(a,b,c):!!d}function Dh(a){return!!Jh(a)&&(Vj.call(a)==Da||"string"==typeof a.message&&"string"==typeof a.name)}function Eh(a){return"number"==typeof a&&nk(a)}function Fh(a){var b=Ih(a)?Vj.call(a):"";return b==Ea||b==Fa}function Gh(a){return"number"==typeof a&&a==$h(a)}function Hh(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=sa}function Ih(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function Jh(a){return!!a&&"object"==typeof a}function Kh(a,b){return a===b||ud(a,b,cf(b))}function Lh(a,b,c){return c="function"==typeof c?c:U,ud(a,b,cf(b),c)}function Mh(a){return Qh(a)&&a!=+a}function Nh(a){if(al(a))throw new Ij("This method is not supported with core-js. Try https://github.com/es-shims.");return vd(a)}function Oh(a){return null===a}function Ph(a){return null==a}function Qh(a){return"number"==typeof a||Jh(a)&&Vj.call(a)==Ha}function Rh(a){if(!Jh(a)||Vj.call(a)!=Ia||K(a))return!1;var b=Yk(a);if(null===b)return!0;var c=Sj.call(b,"constructor")&&b.constructor;return"function"==typeof c&&c instanceof c&&Rj.call(c)==Uj}function Sh(a){return Gh(a)&&a>=-sa&&a<=sa}function Th(a){return"string"==typeof a||!Ol(a)&&Jh(a)&&Vj.call(a)==Ma}function Uh(a){return"symbol"==typeof a||Jh(a)&&Vj.call(a)==Na}function Vh(a){return a===U}function Wh(a){return Jh(a)&&_k(a)==Oa}function Xh(a){return Jh(a)&&Vj.call(a)==Pa}function Yh(a){if(!a)return[];if(wh(a))return Th(a)?S(a):ve(a);if(bk&&a[bk])return L(a[bk]());var b=_k(a),c=b==Ga?M:b==La?P:Di;return c(a)}function Zh(a){if(!a)return 0===a?a:0;if(a=ai(a),a===ra||a===-ra){var b=a<0?-1:1;return b*ta}return a===a?a:0}function $h(a){var b=Zh(a),c=b%1;return b===b?c?b-c:b:0}function _h(a){return a?Ec($h(a),0,va):0}function ai(a){if("number"==typeof a)return a;if(Uh(a))return ua;if(Ih(a)){var b=Fh(a.valueOf)?a.valueOf():a;a=Ih(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=a.replace(pb,"");var c=Bb.test(a);return c||Db.test(a)?Gc(a.slice(2),c?2:8):Ab.test(a)?ua:+a}function bi(a){return we(a,ri(a))}function ci(a){return Ec($h(a),-sa,sa)}function di(a){return null==a?"":Zd(a)}function ei(a,b){var c=Lc(a);return b?Cc(c,b):c}function fi(a,b){return p(a,af(b,3),cd)}function gi(a,b){return p(a,af(b,3),dd)}function hi(a,b){return null==a?a:Rk(a,af(b,3),ri)}function ii(a,b){return null==a?a:Sk(a,af(b,3),ri)}function ji(a,b){return a&&cd(a,af(b,3))}function ki(a,b){return a&&dd(a,af(b,3))}function li(a){return null==a?[]:ed(a,qi(a))}function mi(a){return null==a?[]:ed(a,ri(a))}function ni(a,b,c){var d=null==a?U:fd(a,b);return d===U?c:d}function oi(a,b){return null!=a&&gf(a,b,jd)}function pi(a,b){return null!=a&&gf(a,b,kd)}function qi(a){var b=uf(a);if(!b&&!wh(a))return Tk(a);var c=lf(a),d=!!c,e=c||[],f=e.length;for(var g in a)!jd(a,g)||d&&("length"==g||of(g,f))||b&&"constructor"==g||e.push(g);return e}function ri(a){for(var b=-1,c=uf(a),d=Ad(a),e=d.length,f=lf(a),g=!!f,h=f||[],i=h.length;++b<e;){var j=d[b];g&&("length"==j||of(j,i))||"constructor"==j&&(c||!Sj.call(a,j))||h.push(j)}return h}function si(a,b){var c={};return b=af(b,3),cd(a,function(a,d,e){c[b(a,d,e)]=a}),c}function ti(a,b){var c={};return b=af(b,3),cd(a,function(a,d,e){c[d]=b(a,d,e)}),c}function ui(a,b){return vi(a,hh(af(b)))}function vi(a,b){return null==a?{}:Kd(a,Ze(a),af(b))}function wi(a,b,c){b=qf(b,a)?[b]:he(b);var d=-1,e=b.length;for(e||(a=U,e=1);++d<e;){var f=null==a?U:a[Bf(b[d])];f===U&&(d=e,f=c),a=Fh(f)?f.call(a):f}return a}function xi(a,b,c){return null==a?a:Sd(a,b,c)}function yi(a,b,c,d){return d="function"==typeof d?d:U,null==a?a:Sd(a,b,c,d)}function zi(a,b,c){var d=Ol(a)||Vl(a);if(b=af(b,4),null==c)if(d||Ih(a)){var f=a.constructor;c=d?Ol(a)?new f:[]:Fh(f)?Lc(Yk(a)):{}}else c={};return(d?e:cd)(a,function(a,d,e){return b(c,a,d,e)}),c}function Ai(a,b){return null==a||_d(a,b)}function Bi(a,b,c){return null==a?a:ae(a,b,ge(c))}function Ci(a,b,c,d){return d="function"==typeof d?d:U,null==a?a:ae(a,b,ge(c),d)}function Di(a){return a?D(a,qi(a)):[]}function Ei(a){return null==a?[]:D(a,ri(a))}function Fi(a,b,c){return c===U&&(c=b,b=U),c!==U&&(c=ai(c),c=c===c?c:0),b!==U&&(b=ai(b),b=b===b?b:0),Ec(ai(a),b,c)}function Gi(a,b,c){return b=Zh(b),c===U?(c=b,b=0):c=Zh(c),a=ai(a),ld(a,b,c)}function Hi(a,b,c){if(c&&"boolean"!=typeof c&&pf(a,b,c)&&(b=c=U),c===U&&("boolean"==typeof b?(c=b,b=U):"boolean"==typeof a&&(c=a,a=U)),a===U&&b===U?(a=0,b=1):(a=Zh(a),b===U?(b=a,a=0):b=Zh(b)),a>b){var d=a;a=b,b=d}if(c||a%1||b%1){var e=tk();return rk(a+e*(b-a+Fc("1e-"+((e+"").length-1))),b)}return Od(a,b)}function Ii(a){return tm(di(a).toLowerCase())}function Ji(a){return a=di(a),a&&a.replace(Fb,Vc).replace(sc,"")}function Ki(a,b,c){a=di(a),b=Zd(b);var d=a.length;c=c===U?d:Ec($h(c),0,d);var e=c;return c-=b.length,c>=0&&a.slice(c,e)==b}function Li(a){return a=di(a),a&&fb.test(a)?a.replace(db,Wc):a}function Mi(a){return a=di(a),a&&ob.test(a)?a.replace(nb,"\\$&"):a}function Ni(a,b,c){a=di(a),b=$h(b);var d=b?R(a):0;if(!b||d>=b)return a;var e=(b-d)/2;return Ne(jk(e),c)+a+Ne(ik(e),c)}function Oi(a,b,c){a=di(a),b=$h(b);var d=b?R(a):0;return b&&d<b?a+Ne(b-d,c):a}function Pi(a,b,c){a=di(a),b=$h(b);var d=b?R(a):0;return b&&d<b?Ne(b-d,c)+a:a}function Qi(a,b,c){return c||null==b?b=0:b&&(b=+b),a=di(a).replace(pb,""),sk(a,b||(zb.test(a)?16:10))}function Ri(a,b,c){return b=(c?pf(a,b,c):b===U)?1:$h(b),Qd(di(a),b)}function Si(){var a=arguments,b=di(a[0]);return a.length<3?b:uk.call(b,a[1],a[2])}function Ti(a,b,c){return c&&"number"!=typeof c&&pf(a,b,c)&&(b=c=U),(c=c===U?va:c>>>0)?(a=di(a),a&&("string"==typeof b||null!=b&&!Tl(b))&&(b=Zd(b),""==b&&vc.test(a))?ie(S(a),0,c):wk.call(a,b,c)):[]}function Ui(a,b,c){return a=di(a),c=Ec($h(c),0,a.length),b=Zd(b),a.slice(c,c+b.length)==b}function Vi(a,b,c){var d=Ib.templateSettings;c&&pf(a,b,c)&&(b=U),a=di(a),b=$l({},b,d,oc);var e,f,g=$l({},b.imports,d.imports,oc),h=qi(g),i=D(g,h),j=0,k=b.interpolate||Gb,l="__p += '",m=Kj((b.escape||Gb).source+"|"+k.source+"|"+(k===ib?xb:Gb).source+"|"+(b.evaluate||Gb).source+"|$","g"),n="//# sourceURL="+("sourceURL"in b?b.sourceURL:"lodash.templateSources["+ ++yc+"]")+"\n";a.replace(m,function(b,c,d,g,h,i){return d||(d=g),l+=a.slice(j,i).replace(Hb,I),c&&(e=!0,l+="' +\n__e("+c+") +\n'"),h&&(f=!0,l+="';\n"+h+";\n__p += '"),d&&(l+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),j=i+b.length,b}),l+="';\n";var o=b.variable;o||(l="with (obj) {\n"+l+"\n}\n"),l=(f?l.replace(_a,""):l).replace(ab,"$1").replace(bb,"$1;"),l="function("+(o||"obj")+") {\n"+(o?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(e?", __e = _.escape":"")+(f?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var p=um(function(){return Function(h,n+"return "+l).apply(U,i)});if(p.source=l,Dh(p))throw p;return p}function Wi(a){return di(a).toLowerCase()}function Xi(a){return di(a).toUpperCase()}function Yi(a,b,c){if(a=di(a),a&&(c||b===U))return a.replace(pb,"");if(!a||!(b=Zd(b)))return a;var d=S(a),e=S(b),f=F(d,e),g=G(d,e)+1;return ie(d,f,g).join("")}function Zi(a,b,c){if(a=di(a),a&&(c||b===U))return a.replace(rb,"");if(!a||!(b=Zd(b)))return a;var d=S(a),e=G(d,S(b))+1;return ie(d,0,e).join("")}function $i(a,b,c){if(a=di(a),a&&(c||b===U))return a.replace(qb,"");if(!a||!(b=Zd(b)))return a;var d=S(a),e=F(d,S(b));return ie(d,e).join("")}function _i(a,b){var c=ka,d=la;if(Ih(b)){var e="separator"in b?b.separator:e;c="length"in b?$h(b.length):c,d="omission"in b?Zd(b.omission):d}a=di(a);var f=a.length;if(vc.test(a)){var g=S(a);f=g.length}if(c>=f)return a;var h=c-R(d);if(h<1)return d;var i=g?ie(g,0,h).join(""):a.slice(0,h);if(e===U)return i+d;if(g&&(h+=i.length-h),Tl(e)){if(a.slice(h).search(e)){var j,k=i;for(e.global||(e=Kj(e.source,di(yb.exec(e))+"g")),e.lastIndex=0;j=e.exec(k);)var l=j.index;i=i.slice(0,l===U?h:l)}}else if(a.indexOf(Zd(e),h)!=h){var m=i.lastIndexOf(e);m>-1&&(i=i.slice(0,m))}return i+d}function aj(a){return a=di(a),a&&eb.test(a)?a.replace(cb,Xc):a}function bj(a,b,c){return a=di(a),b=c?U:b,b===U&&(b=wc.test(a)?uc:vb),a.match(b)||[]}function cj(a){var b=a?a.length:0,d=af();return a=b?k(a,function(a){if("function"!=typeof a[1])throw new Lj(X);return[d(a[0]),a[1]]}):[],Rd(function(d){for(var e=-1;++e<b;){var f=a[e];if(c(f[0],this,d))return c(f[1],this,d)}})}function dj(a){return Ic(Hc(a,!0))}function ej(a){return function(){return a}}function fj(a,b){return null==a||a!==a?b:a}function gj(a){return a}function hj(a){return zd("function"==typeof a?a:Hc(a,!0))}function ij(a){return Dd(Hc(a,!0))}function jj(a,b){return Ed(a,Hc(b,!0))}function kj(a,b,c){var d=qi(b),f=ed(b,d);null!=c||Ih(b)&&(f.length||!d.length)||(c=b,b=a,a=this,f=ed(b,qi(b)));var g=!(Ih(c)&&"chain"in c&&!c.chain),h=Fh(a);return e(f,function(c){var d=b[c];a[c]=d,h&&(a.prototype[c]=function(){var b=this.__chain__;if(g||b){var c=a(this.__wrapped__),e=c.__actions__=ve(this.__actions__);return e.push({func:d,args:arguments,thisArg:a}),c.__chain__=b,c}return d.apply(a,l([this.value()],arguments))})}),a}function lj(){return Jc._===this&&(Jc._=Wj),this}function mj(){}function nj(a){return a=$h(a),Rd(function(b){return Hd(b,a)})}function oj(a){return qf(a)?v(Bf(a)):Ld(a)}function pj(a){return function(b){return null==a?U:fd(a,b)}}function qj(){return[]}function rj(){return!1}function sj(){return{}}function tj(){return""}function uj(){return!0}function vj(a,b){if(a=$h(a),a<1||a>sa)return[];var c=va,d=rk(a,va);b=af(b),a-=va;for(var e=A(d,b);++c<a;)b(c);return e}function wj(a){return Ol(a)?k(a,Bf):Uh(a)?[a]:ve(dl(a))}function xj(a){var b=++Tj;return di(a)+b}function yj(a){return a&&a.length?$c(a,gj,id):U}function zj(a,b){return a&&a.length?$c(a,af(b,2),id):U}function Aj(a){return u(a,gj)}function Bj(a,b){return u(a,af(b,2))}function Cj(a){return a&&a.length?$c(a,gj,Bd):U}function Dj(a,b){return a&&a.length?$c(a,af(b,2),Bd):U}function Ej(a){return a&&a.length?z(a,gj):0}function Fj(a,b){return a&&a.length?z(a,af(b,2)):0}w=w?Yc.defaults({},w,Yc.pick(Jc,xc)):Jc;var Gj=w.Array,Hj=w.Date,Ij=w.Error,Jj=w.Math,Kj=w.RegExp,Lj=w.TypeError,Mj=w.Array.prototype,Nj=w.Object.prototype,Oj=w.String.prototype,Pj=w["__core-js_shared__"],Qj=function(){var a=/[^.]+$/.exec(Pj&&Pj.keys&&Pj.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Rj=w.Function.prototype.toString,Sj=Nj.hasOwnProperty,Tj=0,Uj=Rj.call(Object),Vj=Nj.toString,Wj=Jc._,Xj=Kj("^"+Rj.call(Sj).replace(nb,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yj=Mc?w.Buffer:U,Zj=w.Reflect,$j=w.Symbol,_j=w.Uint8Array,ak=Zj?Zj.enumerate:U,bk=$j?$j.iterator:U,ck=w.Object.create,dk=Nj.propertyIsEnumerable,ek=Mj.splice,fk=$j?$j.isConcatSpreadable:U,gk=function(a){return w.clearTimeout.call(Jc,a)},hk=function(a,b){return w.setTimeout.call(Jc,a,b)},ik=Jj.ceil,jk=Jj.floor,kk=Object.getPrototypeOf,lk=Object.getOwnPropertySymbols,mk=Yj?Yj.isBuffer:U,nk=w.isFinite,ok=Mj.join,pk=Object.keys,qk=Jj.max,rk=Jj.min,sk=w.parseInt,tk=Jj.random,uk=Oj.replace,vk=Mj.reverse,wk=Oj.split,xk=df(w,"DataView"),yk=df(w,"Map"),zk=df(w,"Promise"),Ak=df(w,"Set"),Bk=df(w,"WeakMap"),Ck=df(w.Object,"create"),Dk=function(){var a=df(w.Object,"defineProperty"),b=df.name;return b&&b.length>2?a:U}(),Ek=Bk&&new Bk,Fk=!dk.call({valueOf:1},"valueOf"),Gk={},Hk=Cf(xk),Ik=Cf(yk),Jk=Cf(zk),Kk=Cf(Ak),Lk=Cf(Bk),Mk=$j?$j.prototype:U,Nk=Mk?Mk.valueOf:U,Ok=Mk?Mk.toString:U;Ib.templateSettings={escape:gb,evaluate:hb,interpolate:ib,variable:"",imports:{_:Ib}},Ib.prototype=Jb.prototype,Ib.prototype.constructor=Ib,Kb.prototype=Lc(Jb.prototype),Kb.prototype.constructor=Kb,Lb.prototype=Lc(Jb.prototype),Lb.prototype.constructor=Lb,Pb.prototype.clear=Qb,Pb.prototype.delete=Rb,Pb.prototype.get=Sb,Pb.prototype.has=Tb,Pb.prototype.set=Ub,Vb.prototype.clear=Wb,Vb.prototype.delete=Xb,Vb.prototype.get=Yb,Vb.prototype.has=Zb,Vb.prototype.set=$b,_b.prototype.clear=ac,_b.prototype.delete=bc,_b.prototype.get=cc,_b.prototype.has=dc,_b.prototype.set=ec,fc.prototype.add=fc.prototype.push=gc,fc.prototype.has=hc,ic.prototype.clear=jc,ic.prototype.delete=kc,ic.prototype.get=lc,ic.prototype.has=mc,ic.prototype.set=nc;var Pk=Ae(cd),Qk=Ae(dd,!0),Rk=Be(),Sk=Be(!0),Tk=N(pk,Object);ak&&!dk.call({valueOf:1},"valueOf")&&(Ad=function(a){return L(ak(a))});var Uk=Ek?function(a,b){return Ek.set(a,b),a}:gj,Vk=Ak&&1/P(new Ak([,-0]))[1]==ra?function(a){return new Ak(a)}:mj,Wk=Ek?function(a){return Ek.get(a)}:mj,Xk=v("length"),Yk=N(kk,Object),Zk=lk?N(lk,Object):qj,$k=lk?function(a){for(var b=[];a;)l(b,Zk(a)),a=Yk(a);return b}:qj,_k=hd;(xk&&_k(new xk(new ArrayBuffer(1)))!=Ra||yk&&_k(new yk)!=Ga||zk&&_k(zk.resolve())!=Ja||Ak&&_k(new Ak)!=La||Bk&&_k(new Bk)!=Oa)&&(_k=function(a){var b=Vj.call(a),c=b==Ia?a.constructor:U,d=c?Cf(c):U;if(d)switch(d){case Hk:return Ra;case Ik:return Ga;case Jk:return Ja;case Kk:return La;case Lk:return Oa}return b});var al=Pj?Fh:rj,bl=function(){var a=0,b=0;return function(c,d){var e=$g(),f=na-(e-b);if(b=e,f>0){if(++a>=ma)return c}else a=0;return Uk(c,d)}}(),cl=Dk?function(a,b,c){var d=b+"";return Dk(a,"toString",{configurable:!0,enumerable:!1,value:ej(mf(d,Df(ff(d),c)))})}:gj,dl=gh(function(a){a=di(a);var b=[];return lb.test(a)&&b.push(""),a.replace(mb,function(a,c,d,e){b.push(d?e.replace(wb,"$1"):c||a)}),b}),el=Rd(function(a,b){return xh(a)?Oc(a,bd(b,1,xh,!0)):[]}),fl=Rd(function(a,b){
var c=Xf(b);return xh(c)&&(c=U),xh(a)?Oc(a,bd(b,1,xh,!0),af(c,2)):[]}),gl=Rd(function(a,b){var c=Xf(b);return xh(c)&&(c=U),xh(a)?Oc(a,bd(b,1,xh,!0),U,c):[]}),hl=Rd(function(a){var b=k(a,fe);return b.length&&b[0]===a[0]?md(b):[]}),il=Rd(function(a){var b=Xf(a),c=k(a,fe);return b===Xf(c)?b=U:c.pop(),c.length&&c[0]===a[0]?md(c,af(b,2)):[]}),jl=Rd(function(a){var b=Xf(a),c=k(a,fe);return b===Xf(c)?b=U:c.pop(),c.length&&c[0]===a[0]?md(c,U,b):[]}),kl=Rd($f),ll=Rd(function(a,b){b=bd(b,1);var c=a?a.length:0,d=Dc(a,b);return Nd(a,k(b,function(a){return of(a,c)?+a:a}).sort(re)),d}),ml=Rd(function(a){return $d(bd(a,1,xh,!0))}),nl=Rd(function(a){var b=Xf(a);return xh(b)&&(b=U),$d(bd(a,1,xh,!0),af(b,2))}),ol=Rd(function(a){var b=Xf(a);return xh(b)&&(b=U),$d(bd(a,1,xh,!0),U,b)}),pl=Rd(function(a,b){return xh(a)?Oc(a,b):[]}),ql=Rd(function(a){return de(h(a,xh))}),rl=Rd(function(a){var b=Xf(a);return xh(b)&&(b=U),de(h(a,xh),af(b,2))}),sl=Rd(function(a){var b=Xf(a);return xh(b)&&(b=U),de(h(a,xh),U,b)}),tl=Rd(ug),ul=Rd(function(a){var b=a.length,c=b>1?a[b-1]:U;return c="function"==typeof c?(a.pop(),c):U,vg(a,c)}),vl=Rd(function(a){a=bd(a,1);var b=a.length,c=b?a[0]:0,d=this.__wrapped__,e=function(b){return Dc(b,a)};return!(b>1||this.__actions__.length)&&d instanceof Lb&&of(c)?(d=d.slice(c,+c+(b?1:0)),d.__actions__.push({func:Ag,args:[e],thisArg:U}),new Kb(d,this.__chain__).thru(function(a){return b&&!a.length&&a.push(U),a})):this.thru(e)}),wl=ye(function(a,b,c){Sj.call(a,c)?++a[c]:a[c]=1}),xl=He(Nf),yl=He(Of),zl=ye(function(a,b,c){Sj.call(a,c)?a[c].push(b):a[c]=[b]}),Al=Rd(function(a,b,d){var e=-1,f="function"==typeof b,g=qf(b),h=wh(a)?Gj(a.length):[];return Pk(a,function(a){var i=f?b:g&&null!=a?a[b]:U;h[++e]=i?c(i,a,d):od(a,b,d)}),h}),Bl=ye(function(a,b,c){a[c]=b}),Cl=ye(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),Dl=Rd(function(a,b){if(null==a)return[];var c=b.length;return c>1&&pf(a,b[0],b[1])?b=[]:c>2&&pf(b[0],b[1],b[2])&&(b=[b[0]]),Id(a,bd(b,1),[])}),El=Rd(function(a,b,c){var d=$;if(c.length){var e=O(c,_e(El));d|=da}return Ue(a,d,b,c,e)}),Fl=Rd(function(a,b,c){var d=$|_;if(c.length){var e=O(c,_e(Fl));d|=da}return Ue(b,d,a,c,e)}),Gl=Rd(function(a,b){return Nc(a,1,b)}),Hl=Rd(function(a,b,c){return Nc(a,ai(b)||0,c)});gh.Cache=_b;var Il=Rd(function(a,b){b=1==b.length&&Ol(b[0])?k(b[0],C(af())):k(bd(b,1),C(af()));var d=b.length;return Rd(function(e){for(var f=-1,g=rk(e.length,d);++f<g;)e[f]=b[f].call(this,e[f]);return c(a,this,e)})}),Jl=Rd(function(a,b){var c=O(b,_e(Jl));return Ue(a,da,U,b,c)}),Kl=Rd(function(a,b){var c=O(b,_e(Kl));return Ue(a,ea,U,b,c)}),Ll=Rd(function(a,b){return Ue(a,ga,U,U,U,bd(b,1))}),Ml=Qe(id),Nl=Qe(function(a,b){return a>=b}),Ol=Gj.isArray,Pl=Pc?C(Pc):pd,Ql=mk||rj,Rl=Qc?C(Qc):qd,Sl=Rc?C(Rc):td,Tl=Sc?C(Sc):wd,Ul=Tc?C(Tc):xd,Vl=Uc?C(Uc):yd,Wl=Qe(Bd),Xl=Qe(function(a,b){return a<=b}),Yl=ze(function(a,b){if(Fk||uf(b)||wh(b))return void we(b,qi(b),a);for(var c in b)Sj.call(b,c)&&qc(a,c,b[c])}),Zl=ze(function(a,b){if(Fk||uf(b)||wh(b))return void we(b,ri(b),a);for(var c in b)qc(a,c,b[c])}),$l=ze(function(a,b,c,d){we(b,ri(b),a,d)}),_l=ze(function(a,b,c,d){we(b,qi(b),a,d)}),am=Rd(function(a,b){return Dc(a,bd(b,1))}),bm=Rd(function(a){return a.push(U,oc),c($l,U,a)}),cm=Rd(function(a){return a.push(U,yf),c(hm,U,a)}),dm=Ke(function(a,b,c){a[b]=c},ej(gj)),em=Ke(function(a,b,c){Sj.call(a,b)?a[b].push(c):a[b]=[c]},af),fm=Rd(od),gm=ze(function(a,b,c){Fd(a,b,c)}),hm=ze(function(a,b,c,d){Fd(a,b,c,d)}),im=Rd(function(a,b){return null==a?{}:(b=k(bd(b,1),Bf),Jd(a,Oc(Ze(a),b)))}),jm=Rd(function(a,b){return null==a?{}:Jd(a,k(bd(b,1),Bf))}),km=Te(qi),lm=Te(ri),mm=Ee(function(a,b,c){return b=b.toLowerCase(),a+(c?Ii(b):b)}),nm=Ee(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),om=Ee(function(a,b,c){return a+(c?" ":"")+b.toLowerCase()}),pm=De("toLowerCase"),qm=Ee(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),rm=Ee(function(a,b,c){return a+(c?" ":"")+tm(b)}),sm=Ee(function(a,b,c){return a+(c?" ":"")+b.toUpperCase()}),tm=De("toUpperCase"),um=Rd(function(a,b){try{return c(a,U,b)}catch(a){return Dh(a)?a:new Ij(a)}}),vm=Rd(function(a,b){return e(bd(b,1),function(b){b=Bf(b),a[b]=El(a[b],a)}),a}),wm=Ie(),xm=Ie(!0),ym=Rd(function(a,b){return function(c){return od(c,a,b)}}),zm=Rd(function(a,b){return function(c){return od(a,c,b)}}),Am=Me(k),Bm=Me(g),Cm=Me(o),Dm=Pe(),Em=Pe(!0),Fm=Le(function(a,b){return a+b},0),Gm=Se("ceil"),Hm=Le(function(a,b){return a/b},1),Im=Se("floor"),Jm=Le(function(a,b){return a*b},1),Km=Se("round"),Lm=Le(function(a,b){return a-b},0);return Ib.after=_g,Ib.ary=ah,Ib.assign=Yl,Ib.assignIn=Zl,Ib.assignInWith=$l,Ib.assignWith=_l,Ib.at=am,Ib.before=bh,Ib.bind=El,Ib.bindAll=vm,Ib.bindKey=Fl,Ib.castArray=oh,Ib.chain=yg,Ib.chunk=Ff,Ib.compact=Gf,Ib.concat=Hf,Ib.cond=cj,Ib.conforms=dj,Ib.constant=ej,Ib.countBy=wl,Ib.create=ei,Ib.curry=ch,Ib.curryRight=dh,Ib.debounce=eh,Ib.defaults=bm,Ib.defaultsDeep=cm,Ib.defer=Gl,Ib.delay=Hl,Ib.difference=el,Ib.differenceBy=fl,Ib.differenceWith=gl,Ib.drop=If,Ib.dropRight=Jf,Ib.dropRightWhile=Kf,Ib.dropWhile=Lf,Ib.fill=Mf,Ib.filter=Jg,Ib.flatMap=Kg,Ib.flatMapDeep=Lg,Ib.flatMapDepth=Mg,Ib.flatten=Pf,Ib.flattenDeep=Qf,Ib.flattenDepth=Rf,Ib.flip=fh,Ib.flow=wm,Ib.flowRight=xm,Ib.fromPairs=Sf,Ib.functions=li,Ib.functionsIn=mi,Ib.groupBy=zl,Ib.initial=Vf,Ib.intersection=hl,Ib.intersectionBy=il,Ib.intersectionWith=jl,Ib.invert=dm,Ib.invertBy=em,Ib.invokeMap=Al,Ib.iteratee=hj,Ib.keyBy=Bl,Ib.keys=qi,Ib.keysIn=ri,Ib.map=Qg,Ib.mapKeys=si,Ib.mapValues=ti,Ib.matches=ij,Ib.matchesProperty=jj,Ib.memoize=gh,Ib.merge=gm,Ib.mergeWith=hm,Ib.method=ym,Ib.methodOf=zm,Ib.mixin=kj,Ib.negate=hh,Ib.nthArg=nj,Ib.omit=im,Ib.omitBy=ui,Ib.once=ih,Ib.orderBy=Rg,Ib.over=Am,Ib.overArgs=Il,Ib.overEvery=Bm,Ib.overSome=Cm,Ib.partial=Jl,Ib.partialRight=Kl,Ib.partition=Cl,Ib.pick=jm,Ib.pickBy=vi,Ib.property=oj,Ib.propertyOf=pj,Ib.pull=kl,Ib.pullAll=$f,Ib.pullAllBy=_f,Ib.pullAllWith=ag,Ib.pullAt=ll,Ib.range=Dm,Ib.rangeRight=Em,Ib.rearg=Ll,Ib.reject=Ug,Ib.remove=bg,Ib.rest=jh,Ib.reverse=cg,Ib.sampleSize=Wg,Ib.set=xi,Ib.setWith=yi,Ib.shuffle=Xg,Ib.slice=dg,Ib.sortBy=Dl,Ib.sortedUniq=kg,Ib.sortedUniqBy=lg,Ib.split=Ti,Ib.spread=kh,Ib.tail=mg,Ib.take=ng,Ib.takeRight=og,Ib.takeRightWhile=pg,Ib.takeWhile=qg,Ib.tap=zg,Ib.throttle=lh,Ib.thru=Ag,Ib.toArray=Yh,Ib.toPairs=km,Ib.toPairsIn=lm,Ib.toPath=wj,Ib.toPlainObject=bi,Ib.transform=zi,Ib.unary=mh,Ib.union=ml,Ib.unionBy=nl,Ib.unionWith=ol,Ib.uniq=rg,Ib.uniqBy=sg,Ib.uniqWith=tg,Ib.unset=Ai,Ib.unzip=ug,Ib.unzipWith=vg,Ib.update=Bi,Ib.updateWith=Ci,Ib.values=Di,Ib.valuesIn=Ei,Ib.without=pl,Ib.words=bj,Ib.wrap=nh,Ib.xor=ql,Ib.xorBy=rl,Ib.xorWith=sl,Ib.zip=tl,Ib.zipObject=wg,Ib.zipObjectDeep=xg,Ib.zipWith=ul,Ib.entries=km,Ib.entriesIn=lm,Ib.extend=Zl,Ib.extendWith=$l,kj(Ib,Ib),Ib.add=Fm,Ib.attempt=um,Ib.camelCase=mm,Ib.capitalize=Ii,Ib.ceil=Gm,Ib.clamp=Fi,Ib.clone=ph,Ib.cloneDeep=rh,Ib.cloneDeepWith=sh,Ib.cloneWith=qh,Ib.conformsTo=th,Ib.deburr=Ji,Ib.defaultTo=fj,Ib.divide=Hm,Ib.endsWith=Ki,Ib.eq=uh,Ib.escape=Li,Ib.escapeRegExp=Mi,Ib.every=Ig,Ib.find=xl,Ib.findIndex=Nf,Ib.findKey=fi,Ib.findLast=yl,Ib.findLastIndex=Of,Ib.findLastKey=gi,Ib.floor=Im,Ib.forEach=Ng,Ib.forEachRight=Og,Ib.forIn=hi,Ib.forInRight=ii,Ib.forOwn=ji,Ib.forOwnRight=ki,Ib.get=ni,Ib.gt=Ml,Ib.gte=Nl,Ib.has=oi,Ib.hasIn=pi,Ib.head=Tf,Ib.identity=gj,Ib.includes=Pg,Ib.indexOf=Uf,Ib.inRange=Gi,Ib.invoke=fm,Ib.isArguments=vh,Ib.isArray=Ol,Ib.isArrayBuffer=Pl,Ib.isArrayLike=wh,Ib.isArrayLikeObject=xh,Ib.isBoolean=yh,Ib.isBuffer=Ql,Ib.isDate=Rl,Ib.isElement=zh,Ib.isEmpty=Ah,Ib.isEqual=Bh,Ib.isEqualWith=Ch,Ib.isError=Dh,Ib.isFinite=Eh,Ib.isFunction=Fh,Ib.isInteger=Gh,Ib.isLength=Hh,Ib.isMap=Sl,Ib.isMatch=Kh,Ib.isMatchWith=Lh,Ib.isNaN=Mh,Ib.isNative=Nh,Ib.isNil=Ph,Ib.isNull=Oh,Ib.isNumber=Qh,Ib.isObject=Ih,Ib.isObjectLike=Jh,Ib.isPlainObject=Rh,Ib.isRegExp=Tl,Ib.isSafeInteger=Sh,Ib.isSet=Ul,Ib.isString=Th,Ib.isSymbol=Uh,Ib.isTypedArray=Vl,Ib.isUndefined=Vh,Ib.isWeakMap=Wh,Ib.isWeakSet=Xh,Ib.join=Wf,Ib.kebabCase=nm,Ib.last=Xf,Ib.lastIndexOf=Yf,Ib.lowerCase=om,Ib.lowerFirst=pm,Ib.lt=Wl,Ib.lte=Xl,Ib.max=yj,Ib.maxBy=zj,Ib.mean=Aj,Ib.meanBy=Bj,Ib.min=Cj,Ib.minBy=Dj,Ib.stubArray=qj,Ib.stubFalse=rj,Ib.stubObject=sj,Ib.stubString=tj,Ib.stubTrue=uj,Ib.multiply=Jm,Ib.nth=Zf,Ib.noConflict=lj,Ib.noop=mj,Ib.now=$g,Ib.pad=Ni,Ib.padEnd=Oi,Ib.padStart=Pi,Ib.parseInt=Qi,Ib.random=Hi,Ib.reduce=Sg,Ib.reduceRight=Tg,Ib.repeat=Ri,Ib.replace=Si,Ib.result=wi,Ib.round=Km,Ib.runInContext=T,Ib.sample=Vg,Ib.size=Yg,Ib.snakeCase=qm,Ib.some=Zg,Ib.sortedIndex=eg,Ib.sortedIndexBy=fg,Ib.sortedIndexOf=gg,Ib.sortedLastIndex=hg,Ib.sortedLastIndexBy=ig,Ib.sortedLastIndexOf=jg,Ib.startCase=rm,Ib.startsWith=Ui,Ib.subtract=Lm,Ib.sum=Ej,Ib.sumBy=Fj,Ib.template=Vi,Ib.times=vj,Ib.toFinite=Zh,Ib.toInteger=$h,Ib.toLength=_h,Ib.toLower=Wi,Ib.toNumber=ai,Ib.toSafeInteger=ci,Ib.toString=di,Ib.toUpper=Xi,Ib.trim=Yi,Ib.trimEnd=Zi,Ib.trimStart=$i,Ib.truncate=_i,Ib.unescape=aj,Ib.uniqueId=xj,Ib.upperCase=sm,Ib.upperFirst=tm,Ib.each=Ng,Ib.eachRight=Og,Ib.first=Tf,kj(Ib,function(){var a={};return cd(Ib,function(b,c){Sj.call(Ib.prototype,c)||(a[c]=b)}),a}(),{chain:!1}),Ib.VERSION=V,e(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){Ib[a].placeholder=Ib}),e(["drop","take"],function(a,b){Lb.prototype[a]=function(c){var d=this.__filtered__;if(d&&!b)return new Lb(this);c=c===U?1:qk($h(c),0);var e=this.clone();return d?e.__takeCount__=rk(c,e.__takeCount__):e.__views__.push({size:rk(c,va),type:a+(e.__dir__<0?"Right":"")}),e},Lb.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}}),e(["filter","map","takeWhile"],function(a,b){var c=b+1,d=c==oa||c==qa;Lb.prototype[a]=function(a){var b=this.clone();return b.__iteratees__.push({iteratee:af(a,3),type:c}),b.__filtered__=b.__filtered__||d,b}}),e(["head","last"],function(a,b){var c="take"+(b?"Right":"");Lb.prototype[a]=function(){return this[c](1).value()[0]}}),e(["initial","tail"],function(a,b){var c="drop"+(b?"":"Right");Lb.prototype[a]=function(){return this.__filtered__?new Lb(this):this[c](1)}}),Lb.prototype.compact=function(){return this.filter(gj)},Lb.prototype.find=function(a){return this.filter(a).head()},Lb.prototype.findLast=function(a){return this.reverse().find(a)},Lb.prototype.invokeMap=Rd(function(a,b){return"function"==typeof a?new Lb(this):this.map(function(c){return od(c,a,b)})}),Lb.prototype.reject=function(a){return this.filter(hh(af(a)))},Lb.prototype.slice=function(a,b){a=$h(a);var c=this;return c.__filtered__&&(a>0||b<0)?new Lb(c):(a<0?c=c.takeRight(-a):a&&(c=c.drop(a)),b!==U&&(b=$h(b),c=b<0?c.dropRight(-b):c.take(b-a)),c)},Lb.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Lb.prototype.toArray=function(){return this.take(va)},cd(Lb.prototype,function(a,b){var c=/^(?:filter|find|map|reject)|While$/.test(b),d=/^(?:head|last)$/.test(b),e=Ib[d?"take"+("last"==b?"Right":""):b],f=d||/^find/.test(b);e&&(Ib.prototype[b]=function(){var b=this.__wrapped__,g=d?[1]:arguments,h=b instanceof Lb,i=g[0],j=h||Ol(b),k=function(a){var b=e.apply(Ib,l([a],g));return d&&m?b[0]:b};j&&c&&"function"==typeof i&&1!=i.length&&(h=j=!1);var m=this.__chain__,n=!!this.__actions__.length,o=f&&!m,p=h&&!n;if(!f&&j){b=p?b:new Lb(this);var q=a.apply(b,g);return q.__actions__.push({func:Ag,args:[k],thisArg:U}),new Kb(q,m)}return o&&p?a.apply(this,g):(q=this.thru(k),o?d?q.value()[0]:q.value():q)})}),e(["pop","push","shift","sort","splice","unshift"],function(a){var b=Mj[a],c=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=/^(?:pop|shift)$/.test(a);Ib.prototype[a]=function(){var a=arguments;if(d&&!this.__chain__){var e=this.value();return b.apply(Ol(e)?e:[],a)}return this[c](function(c){return b.apply(Ol(c)?c:[],a)})}}),cd(Lb.prototype,function(a,b){var c=Ib[b];if(c){var d=c.name+"",e=Gk[d]||(Gk[d]=[]);e.push({name:b,func:c})}}),Gk[Je(U,_).name]=[{name:"wrapper",func:U}],Lb.prototype.clone=Mb,Lb.prototype.reverse=Nb,Lb.prototype.value=Ob,Ib.prototype.at=vl,Ib.prototype.chain=Bg,Ib.prototype.commit=Cg,Ib.prototype.next=Dg,Ib.prototype.plant=Fg,Ib.prototype.reverse=Gg,Ib.prototype.toJSON=Ib.prototype.valueOf=Ib.prototype.value=Hg,Ib.prototype.first=Ib.prototype.head,bk&&(Ib.prototype[bk]=Eg),Ib}var U,V="4.14.1",W=200,X="Expected a function",Y="__lodash_hash_undefined__",Z="__lodash_placeholder__",$=1,_=2,aa=4,ba=8,ca=16,da=32,ea=64,fa=128,ga=256,ha=512,ia=1,ja=2,ka=30,la="...",ma=150,na=16,oa=1,pa=2,qa=3,ra=1/0,sa=9007199254740991,ta=1.7976931348623157e308,ua=NaN,va=4294967295,wa=va-1,xa=va>>>1,ya=[["ary",fa],["bind",$],["bindKey",_],["curry",ba],["curryRight",ca],["flip",ha],["partial",da],["partialRight",ea],["rearg",ga]],za="[object Arguments]",Aa="[object Array]",Ba="[object Boolean]",Ca="[object Date]",Da="[object Error]",Ea="[object Function]",Fa="[object GeneratorFunction]",Ga="[object Map]",Ha="[object Number]",Ia="[object Object]",Ja="[object Promise]",Ka="[object RegExp]",La="[object Set]",Ma="[object String]",Na="[object Symbol]",Oa="[object WeakMap]",Pa="[object WeakSet]",Qa="[object ArrayBuffer]",Ra="[object DataView]",Sa="[object Float32Array]",Ta="[object Float64Array]",Ua="[object Int8Array]",Va="[object Int16Array]",Wa="[object Int32Array]",Xa="[object Uint8Array]",Ya="[object Uint8ClampedArray]",Za="[object Uint16Array]",$a="[object Uint32Array]",_a=/\b__p \+= '';/g,ab=/\b(__p \+=) '' \+/g,bb=/(__e\(.*?\)|\b__t\)) \+\n'';/g,cb=/&(?:amp|lt|gt|quot|#39|#96);/g,db=/[&<>"'`]/g,eb=RegExp(cb.source),fb=RegExp(db.source),gb=/<%-([\s\S]+?)%>/g,hb=/<%([\s\S]+?)%>/g,ib=/<%=([\s\S]+?)%>/g,jb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kb=/^\w*$/,lb=/^\./,mb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nb=/[\\^$.*+?()[\]{}|]/g,ob=RegExp(nb.source),pb=/^\s+|\s+$/g,qb=/^\s+/,rb=/\s+$/,sb=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,tb=/\{\n\/\* \[wrapped with (.+)\] \*/,ub=/,? & /,vb=/[a-zA-Z0-9]+/g,wb=/\\(\\)?/g,xb=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,yb=/\w*$/,zb=/^0x/i,Ab=/^[-+]0x[0-9a-f]+$/i,Bb=/^0b[01]+$/i,Cb=/^\[object .+?Constructor\]$/,Db=/^0o[0-7]+$/i,Eb=/^(?:0|[1-9]\d*)$/,Fb=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Gb=/($^)/,Hb=/['\n\r\u2028\u2029\\]/g,Ib="\\ud800-\\udfff",Jb="\\u0300-\\u036f\\ufe20-\\ufe23",Kb="\\u20d0-\\u20f0",Lb="\\u2700-\\u27bf",Mb="a-z\\xdf-\\xf6\\xf8-\\xff",Nb="\\xac\\xb1\\xd7\\xf7",Ob="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Pb="\\u2000-\\u206f",Qb=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Rb="A-Z\\xc0-\\xd6\\xd8-\\xde",Sb="\\ufe0e\\ufe0f",Tb=Nb+Ob+Pb+Qb,Ub="['’]",Vb="["+Ib+"]",Wb="["+Tb+"]",Xb="["+Jb+Kb+"]",Yb="\\d+",Zb="["+Lb+"]",$b="["+Mb+"]",_b="[^"+Ib+Tb+Yb+Lb+Mb+Rb+"]",ac="\\ud83c[\\udffb-\\udfff]",bc="(?:"+Xb+"|"+ac+")",cc="[^"+Ib+"]",dc="(?:\\ud83c[\\udde6-\\uddff]){2}",ec="[\\ud800-\\udbff][\\udc00-\\udfff]",fc="["+Rb+"]",gc="\\u200d",hc="(?:"+$b+"|"+_b+")",ic="(?:"+fc+"|"+_b+")",jc="(?:"+Ub+"(?:d|ll|m|re|s|t|ve))?",kc="(?:"+Ub+"(?:D|LL|M|RE|S|T|VE))?",lc=bc+"?",mc="["+Sb+"]?",nc="(?:"+gc+"(?:"+[cc,dc,ec].join("|")+")"+mc+lc+")*",oc=mc+lc+nc,pc="(?:"+[Zb,dc,ec].join("|")+")"+oc,qc="(?:"+[cc+Xb+"?",Xb,dc,ec,Vb].join("|")+")",rc=RegExp(Ub,"g"),sc=RegExp(Xb,"g"),tc=RegExp(ac+"(?="+ac+")|"+qc+oc,"g"),uc=RegExp([fc+"?"+$b+"+"+jc+"(?="+[Wb,fc,"$"].join("|")+")",ic+"+"+kc+"(?="+[Wb,fc+hc,"$"].join("|")+")",fc+"?"+hc+"+"+jc,fc+"+"+kc,Yb,pc].join("|"),"g"),vc=RegExp("["+gc+Ib+Jb+Kb+Sb+"]"),wc=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,xc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],yc=-1,zc={};zc[Sa]=zc[Ta]=zc[Ua]=zc[Va]=zc[Wa]=zc[Xa]=zc[Ya]=zc[Za]=zc[$a]=!0,zc[za]=zc[Aa]=zc[Qa]=zc[Ba]=zc[Ra]=zc[Ca]=zc[Da]=zc[Ea]=zc[Ga]=zc[Ha]=zc[Ia]=zc[Ka]=zc[La]=zc[Ma]=zc[Oa]=!1;var Ac={};Ac[za]=Ac[Aa]=Ac[Qa]=Ac[Ra]=Ac[Ba]=Ac[Ca]=Ac[Sa]=Ac[Ta]=Ac[Ua]=Ac[Va]=Ac[Wa]=Ac[Ga]=Ac[Ha]=Ac[Ia]=Ac[Ka]=Ac[La]=Ac[Ma]=Ac[Na]=Ac[Xa]=Ac[Ya]=Ac[Za]=Ac[$a]=!0,Ac[Da]=Ac[Ea]=Ac[Oa]=!1;var Bc={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Cc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Dc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ec={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Fc=parseFloat,Gc=parseInt,Hc="object"==typeof global&&global&&global.Object===Object&&global,Ic="object"==typeof self&&self&&self.Object===Object&&self,Jc=Hc||Ic||Function("return this")(),Kc="object"==typeof exports&&exports&&!exports.nodeType&&exports,Lc=Kc&&"object"==typeof module&&module&&!module.nodeType&&module,Mc=Lc&&Lc.exports===Kc,Nc=Mc&&Hc.process,Oc=function(){try{return Nc&&Nc.binding("util")}catch(a){}}(),Pc=Oc&&Oc.isArrayBuffer,Qc=Oc&&Oc.isDate,Rc=Oc&&Oc.isMap,Sc=Oc&&Oc.isRegExp,Tc=Oc&&Oc.isSet,Uc=Oc&&Oc.isTypedArray,Vc=w(Bc),Wc=w(Cc),Xc=w(Dc),Yc=T();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Jc._=Yc,define(function(){return Yc})):Lc?((Lc.exports=Yc)._=Yc,Kc._=Yc):Jc._=Yc}.call(this);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),DomHelpers=function(){function a(){_classCallCheck(this,a)}return _createClass(a,[{key:"hasClass",value:function(a,b){return a.classList?a.classList.contains(b):!!a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))}},{key:"addClass",value:function(a,b){a.classList?a.classList.add(b):this.hasClass(a,b)||(a.className+=" "+b)}},{key:"removeClass",value:function(a,b){if(a.classList)a.classList.remove(b);else if(this.hasClass(a,b)){var c=new RegExp("(\\s|^)"+b+"(\\s|$)");a.className=a.className.replace(c," ")}}},{key:"toggleClass",value:function(a,b){if(a.classList)a.classList.toggle(b);else{var c=a.className.split(" "),d=c.indexOf(b);d>=0?c.splice(d,1):c.push(b),a.className=c.join(" ")}}},{key:"ready",value:function(a){"loading"!=document.readyState?a():document.addEventListener("DOMContentLoaded",a)}},{key:"insertAfter",value:function(a,b){b.parentNode.insertBefore(a,b.nextSibling)}},{key:"getScrollTop",value:function(){return document.body.scrollTop||document.documentElement.scrollTop}},{key:"setScrollTop",value:function(a){document.body.scrollTop=a,document.documentElement.scrollTop=a}},{key:"closest",value:function(a,b){for(var c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector;a&&!c.call(a,b);)a=a.parentElement;return a}},{key:"matches",value:function a(b,c){for(var a=(b.document||b.ownerDocument).querySelectorAll(c),d=a.length;--d>=0&&a.item(d)!==b;);return d>-1}},{key:"debounce",value:function(a,b){var c=null;return function(){var d=this,e=arguments;clearTimeout(c),c=setTimeout(function(){a.apply(d,e)},b)}}}]),a}(),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),SmoothScroll=function(){function a(){_classCallCheck(this,a),this.dh=new DomHelpers}return _createClass(a,[{key:"smoothScroll",value:function(a,b,c){var b="undefined"!=typeof b?b:0,d=a.getBoundingClientRect(),e=d.top+this.dh.getScrollTop(),f=e/2;0===f&&this.dh.setScrollTop(e);var g=Date.now(),h=g+f,i=this.dh.getScrollTop(),j=e-i-b,k=i,l=function a(){var b=function(a,b,c){if(c<=a)return 0;if(c>=b)return 1;var d=(c-a)/(b-a);return d*d*(3-2*d)};if(this.dh.getScrollTop()===k){var d=Date.now(),e=b(g,h,d);if(this.dh.setScrollTop(Math.round(i+j*e)),d>=h)return void(c&&c());k=this.dh.getScrollTop(),setTimeout(a,0)}};setTimeout(l,0)}}]),a}();window.EcoChallenge={};var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();EcoChallenge.Analytics=function(){function a(){_classCallCheck(this,a),this.recordPageView=this.recordPageView.bind(this),document.addEventListener("turbolinks:load",this.recordPageView),document.addEventListener("turbolinks:visit",this.recordPageView)}return _createClass(a,[{key:"recordPageView",value:function(){window.ga&&(ga("set","page",location.pathname),ga("send","pageview"))}}]),a}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();EcoChallenge.Actions=function(){function a(){_classCallCheck(this,a),this.dh=new DomHelpers,this.apiPath="/me/participant_actions",this.warned=!1,this.handleActionSelect=this.handleActionSelect.bind(this),this.handleOverlayClick=this.handleOverlayClick.bind(this),this.showCustomize=this.showCustomize.bind(this),this.hideCustomize=this.hideCustomize.bind(this),this.mayHandleActionSelect=this.mayHandleActionSelect.bind(this),this.startCreate=this.startCreate.bind(this),this.handleSuccess=this.handleSuccess.bind(this),this.handleError=this.handleError.bind(this),this.setStateDestroyConfirm=this.setStateDestroyConfirm.bind(this),this.validateCustomization=this.validateCustomization.bind(this),this.openModalWarn=this.openModalWarn.bind(this),this.appendErrors=this.appendErrors.bind(this),this.removeErrors=this.removeErrors.bind(this),this.openModalLimitReached=this.openModalLimitReached.bind(this),document.addEventListener("click",this.handleActionSelect),document.addEventListener("click",this.handleOverlayClick)}return _createClass(a,[{key:"handleActionSelect",value:function(a){if(this.mayHandleActionSelect(a.target)){a.preventDefault();var b=a.target.dataset.trigger,c=this.dh.closest(a.target,"[data-action]");switch(b){case"destroy-confirm":this.setStateDestroyConfirm(c);break;case"destroy":this.startDestroy(c);break;case"destroy-nevermind":this.setStateSelected(c);break;case"create":var d=this.validateCustomization(c);d&&this.startCreate(c);break;case"customize":this.showCustomize(c)}}}},{key:"validateCustomization",value:function(a){var b=this,c=a.querySelectorAll("[data-input]"),d=!0;return[].concat(_toConsumableArray(c)).forEach(function(a){var c=a.value;if(c){var e=b.dh.closest(a,".form-field");b.dh.removeClass(e,"error")}else{d=!1;var e=b.dh.closest(a,".form-field");b.dh.addClass(e,"error")}}),d}},{key:"handleOverlayClick",value:function(a){this.mayHandleOverlayClick(a.target)&&(a.preventDefault(),this.hideCustomize())}},{key:"showCustomize",value:function(a){var b=document.querySelector(".overlay");this.dh.addClass(b,"state-customize"),this.dh.addClass(a,"state-customize")}},{key:"hideCustomize",value:function(){var a=this,b=document.querySelectorAll(".challenge-actions-list .state-customize"),c=document.querySelector(".overlay");this.dh.removeClass(c,"state-customize"),[].concat(_toConsumableArray(b)).forEach(function(b){a.dh.removeClass(b,"state-customize"),a.removeErrors(b)})}},{key:"mayHandleOverlayClick",value:function(a){return a===document.querySelector(".overlay")}},{key:"mayHandleActionSelect",value:function(a){return _.has(a.dataset,"trigger")&&this.dh.closest(a,"[data-action]")}},{key:"checkStatus",value:function(a){if(a.status>=200&&a.status<300)return a;var b=new Error(a.statusText);throw b.response=a,b}},{key:"parseJSON",value:function(a){return a.json()}},{key:"startCreate",value:function(a){var b=this,c=a.dataset.action,d={participant_action:{action_id:c}},e=a.querySelectorAll("[data-input]");[].concat(_toConsumableArray(e)).forEach(function(a){d.participant_action[a.name]=b.sanitizeInput(a.value,a.getAttribute("type"))}),this.doFetch(a,this.apiPath,"POST",d)}},{key:"sanitizeInput",value:function(a,b){return"number"==b?_.toInteger(_.truncate(a,{length:10,omission:""})):a}},{key:"doFetch",value:function(a,b,c,d){var e=this,f={method:c,body:JSON.stringify(d),credentials:"include",headers:{"content-type":"application/json","X-CSRF-Token":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}};"POST"===c||"PUT"===c||"GET"===c?fetch(b,f).then(this.checkStatus).then(this.parseJSON).then(function(b){e.handleSuccess(a,b,c)}).catch(function(b){e.handleError(a,b)}):fetch(b,f).then(this.checkStatus).then(function(b){e.handleSuccess(a,b,c)}).catch(function(b){e.handleError(a,b)})}},{key:"handleSuccess",value:function(a,b,c){"DELETE"==c?this.setStateUnselected(a):(b.participant_action_count>=4&&this.openModalWarn(b.participant_action_count),this.hideCustomize(),this.setStateSelected(a,b.id))}},{key:"openModalWarn",value:function(){if(!this.warned){var a={title:"Whoa. That's a lot of actions.",body:"You may want to try averaging between 1-3 actions per day.",yayLabel:"Sounds good",hideNay:!0,onYay:function(){},onNay:function(){}};document.dispatchEvent(new CustomEvent("showModal",{detail:a})),this.warned=!0}}},{key:"openModalLimitReached",value:function(a){var b={title:"Action limit reached!",body:a,yayLabel:"Ok",hideNay:!0,onYay:function(){},onNay:function(){}};document.dispatchEvent(new CustomEvent("showModal",{detail:b}))}},{key:"elementComponents",value:function(a){var b=a.querySelector("[data-describe-button] a"),c=a.querySelector("[data-warning]"),d=a.querySelector("[data-destroy-nevermind]"),e=a.querySelector("[data-description]");return{button:b,warning:c,link:d,description:e}}},{key:"setStateSelected",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?null:arguments[1],c=this.elementComponents(a),d=c.button,e=c.warning,f=c.link,g=c.description;b&&(a.dataset.participantAction=b),d.dataset.trigger=_.has(a.dataset,"participantActionHasCompleted")?"destroy-confirm":"destroy",g.style.display="",e.style.display="none",f.style.display="none",this.dh.addClass(d,"selected"),this.dh.removeClass(d,"warn"),d.innerHTML="selected"}},{key:"setStateUnselected",value:function(a){var b=this.elementComponents(a),c=b.button,d=b.warning,e=b.link,f=b.description,g=_.has(a.dataset,"customizable");a.dataset.participantAction="",c.dataset.trigger=g?"customize":"create",f.style.display="",d.style.display="none",e.style.display="none",this.dh.addClass(c,"selected"),this.dh.removeClass(c,"selected"),this.dh.removeClass(c,"warn"),c.innerHTML="select"}},{key:"setStateDestroyConfirm",value:function(a){var b=this.elementComponents(a),c=b.button,d=b.warning,e=b.link,f=b.description;c.innerHTML="Confirm Delete",c.dataset.trigger="destroy",d.style.display="",e.style.display="",f.style.display="none",this.dh.removeClass(c,"selected"),this.dh.addClass(c,"warn")}},{key:"handleError",value:function(a,b){var c=this;b.response.json().then(function(b){b.hasOwnProperty("base")&&c.openModalLimitReached(b.base),(b.hasOwnProperty("input_1_value")||b.hasOwnProperty("input_2_value")||b.hasOwnProperty("input_3_value"))&&c.appendErrors(b,a)},function(){throw"Missing or invalid response"})}},{key:"appendErrors",value:function(a,b){var c=!0,d=!1,e=void 0;try{for(var f,g=Object.keys(a)[Symbol.iterator]();!(c=(f=g.next()).done);c=!0){var h=f.value,i="",j=b.querySelector("[data-error-"+h+"]");i+=a[h]+"</br>",j.innerHTML=i}}catch(a){d=!0,e=a}finally{try{!c&&g.return&&g.return()}finally{if(d)throw e}}}},{key:"removeErrors",value:function(a){var b=a.querySelectorAll("[data-errors]");[].concat(_toConsumableArray(b)).forEach(function(a){a.innerHTML=""})}},{key:"startDestroy",value:function(a){var b=a.dataset.participantAction;this.doFetch(a,this.apiPath+"/"+b,"DELETE",{})}}]),a}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();EcoChallenge.AddActionPromptDismissed=function(){function a(){_classCallCheck(this,a),this.dh=new DomHelpers,this.handleDismissClick=this.handleDismissClick.bind(this),this.canHandleDismissClick=this.canHandleDismissClick.bind(this),this.sendDismissRequest=this.sendDismissRequest.bind(this),this.handleSuccess=this.handleSuccess.bind(this),this.handleError=this.handleError.bind(this),document.addEventListener("click",this.handleDismissClick)}return _createClass(a,[{key:"handleDismissClick",value:function(a){this.canHandleDismissClick(a)&&(this.sendDismissRequest(),a.preventDefault())}},{key:"canHandleDismissClick",value:function(a){return _.has(a.target.dataset,"actionMessageDismiss")}},{key:"sendDismissRequest",value:function(){var a=this,b="/me/participant",c={method:"PUT",body:JSON.stringify({participant:{action_prompt_dismissed:!0}}),credentials:"include",headers:{"content-type":"application/json","X-CSRF-Token":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}};fetch(b,c).then(this.checkStatus).then(this.parseJSON).then(function(b){b.id?a.handleSuccess(b):a.handleFailure(b)}).catch(function(b){a.handleError(b)})}},{key:"handleSuccess",value:function(){var a=document.querySelector("[data-action-prompt]");a&&this.dh.addClass(a,"fade")}},{key:"handleError",value:function(a){console.log(a)}},{key:"parseJSON",value:function(a){return a.json()}},{key:"handleFailure",value:function(a){console.log(a)}}]),a}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();EcoChallenge.Body=function(){function a(){_classCallCheck(this,a),this.handleLoad=this.handleLoad.bind(this),window.addEventListener("load",this.handleLoad),document.addEventListener("turbolinks:render",this.handleLoad)}return _createClass(a,[{key:"adjustHeight",value:function(){if(document.body.classList.contains("layout-dashboard")){var a=function(a,b){var c=0;return[].concat(_toConsumableArray(a.childNodes)).forEach(function(a){a.offsetHeight&&(c+=a.offsetHeight)}),b.forEach(function(a){c+=a}),c},b=document.querySelector(".dashboard-sidebar"),c=document.querySelector(".dashboard-main");if(b&&c){var d=a(b,[parseInt(window.getComputedStyle(b).paddingTop,10)]);d&&(b.style.minHeight=d+"px",c.style.minHeight=d+"px")}}}},{key:"handleLoad",value:function(){this.adjustHeight()}}]),a}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();EcoChallenge.Checkin=function(){function a(){_classCallCheck(this,a),this.dh=new DomHelpers,this.stateIsTransitionInterstitial=this.stateIsTransitionInterstitial.bind(this),this.stateIsTransitionComplete=this.stateIsTransitionComplete.bind(this),this.transitionComplete=this.transitionComplete.bind(this),this.handleCheckinClick=this.handleCheckinClick.bind(this),this.handleCheckinNoneClick=this.handleCheckinNoneClick.bind(this),this.undo=this.undo.bind(this),this.checkin=this.checkin.bind(this),this.isCheckinMethodTrigger=this.isCheckinMethodTrigger.bind(this),this.isCheckinCardsContainer=this.isCheckinCardsContainer.bind(this),this.isCheckinCardOrChild=this.isCheckinCardOrChild.bind(this),
this.transitionToUndone=this.transitionToUndone.bind(this),this.transitionToCompleted=this.transitionToCompleted.bind(this),this.transitionToInterstitial=this.transitionToInterstitial.bind(this),this.getContainer=this.getContainer.bind(this),this.getCard=this.getCard.bind(this),this.doFetch=this.doFetch.bind(this),this.cleanUpTransitions=this.cleanUpTransitions.bind(this),this.updateParticipantCheckinLanguage=this.updateParticipantCheckinLanguage.bind(this),this.areAnyComplete=this.areAnyComplete.bind(this),this.getCheckinCardsContainer=this.getCheckinCardsContainer.bind(this),this.addActiveClassToCheckinNone=this.addActiveClassToCheckinNone.bind(this),document.addEventListener("click",this.handleCheckinClick),document.addEventListener("click",this.handleCheckinNoneClick),document.addEventListener("turbolinks:before-cache",this.cleanUpTransitions)}return _createClass(a,[{key:"cleanUpTransitions",value:function(){var a=this;[].concat(_toConsumableArray(document.querySelectorAll(".transition-interstitial"))).forEach(function(b){a.dh.removeClass(b,"transition-interstitial")}),[].concat(_toConsumableArray(document.querySelectorAll(".transition-complete"))).forEach(function(b){a.dh.removeClass(b,"transition-complete"),a.dh.addClass(b,"status-complete")}),[].concat(_toConsumableArray(document.querySelectorAll(".transition-undo"))).forEach(function(b){a.dh.removeClass(b,"transition-undo"),a.dh.removeClass(b,"status-complete")})}},{key:"stateIsTransitionInterstitial",value:function(a){return this.dh.hasClass(a,"transition-interstitial")}},{key:"stateIsTransitionComplete",value:function(a){return this.dh.hasClass(a,"transition-complete")}},{key:"transitionComplete",value:function(a){this.dh.addClass(a,"transition-complete"),this.dh.removeClass(a,"transition-interstitial")}},{key:"handleCheckinClick",value:function(a){var b=a.target;if(this.isCheckinMethodTrigger(b)){var c=this.getCard(b);"post"==b.dataset.checkinMethod?this.checkin(c).then(this.transitionToInterstitial):"delete"==b.dataset.checkinMethod&&this.undo(c).then(this.transitionToUndone)}}},{key:"handleCheckinNoneClick",value:function(a){var b=a.target,c=this.dh.closest(b,"[data-checkin-none]");c&&this.checkinNone(c).then(this.addActiveClassToCheckinNone)}},{key:"checkStatus",value:function(a){if(a.status>=200&&a.status<300)return a;var b=new Error(a.statusText);throw b.response=a,b}},{key:"parseJSON",value:function(a){return a.json()}},{key:"doFetch",value:function(a,b,c){var d=this,e=arguments.length<=3||void 0===arguments[3]?null:arguments[3],f={method:c,credentials:"include",headers:{"content-type":"application/json","X-CSRF-Token":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}};return e&&(f.body=JSON.stringify(e)),"POST"===c||"PUT"===c||"GET"===c?fetch(b,f).then(this.checkStatus).then(this.parseJSON).then(function(b){return a&&a.setAttribute("data-checkin-completed-action",b.id),Promise.resolve(a,b)}).catch(function(b){d.handleError(a,b)}):fetch(b,f).then(this.checkStatus).then(function(b){return a&&a.removeAttribute("data-checkin-completed-action"),Promise.resolve(a,b)}).catch(function(b){d.handleError(a,b)})}},{key:"handleError",value:function(){}},{key:"undo",value:function(a){var b=a.dataset.checkinCompletedAction,c=this.doFetch(a,"/me/completed_actions/"+b,"DELETE");return c}},{key:"checkin",value:function(a){var b=a.dataset.checkinDate,c={completed_action:{participant_action_id:a.dataset.checkinParticipantAction}},d=this.doFetch(a,"/me/completed_actions/"+b,"POST",c);return d}},{key:"checkinNone",value:function(a){var b={},c=a.dataset.checkinDate,d=this.doFetch(a,"/me/checkin/"+c,"POST",b);return d}},{key:"isCheckinMethodTrigger",value:function(a){return _.has(a.dataset,"checkinMethod")}},{key:"isCheckinCardsContainer",value:function(a){return!!_.has(a.dataset,"checkinCards")||!!this.dh.closest(a,"[data-checkin-cards]")}},{key:"isCheckinCardOrChild",value:function(a){return!!_.has(a.dataset,"checkin")||!!this.dh.closest(a,"[data-checkin]")}},{key:"getCheckinCardsContainer",value:function(a){return this.dh.closest(a,"[data-checkin-cards]")}},{key:"areAnyComplete",value:function(a){return a.querySelectorAll("[data-checkin-completed-action]").length>0}},{key:"updateParticipantCheckinLanguage",value:function(a){var b=this.getCheckinCardsContainer(a);this.areAnyComplete(b)?(b.querySelector("[data-checkin-none]").style.display="none",b.querySelector("[data-checkin-exists]").style.display="block"):(b.querySelector("[data-checkin-none]").style.display="block",b.querySelector("[data-checkin-exists]").style.display="none")}},{key:"transitionToCheckinNone",value:function(){container.querySelector("[data-checkin-none]").style.display="none",container.querySelector("[data-checkin-exists]").style.display="none"}},{key:"transitionToUndone",value:function(a){a.setAttribute("data-transitioning",!0),this.dh.removeClass(a,"state-complete"),this.dh.removeClass(a,"transition-interstitial"),this.dh.removeClass(a,"transition-complete"),this.dh.addClass(a,"transition-undo"),this.updateParticipantCheckinLanguage(a),setTimeout(function(){a.removeAttribute("data-transitioning")},1500)}},{key:"transitionToCompleted",value:function(a){this.dh.hasClass(a,"transition-interstitial")&&(a.setAttribute("data-transitioning",!0),this.dh.removeClass(a,"transition-interstitial"),this.dh.removeClass(a,"transition-undo"),this.dh.addClass(a,"transition-complete"),this.updateParticipantCheckinLanguage(a),setTimeout(function(){a.removeAttribute("data-transitioning")},1500))}},{key:"transitionToInterstitial",value:function(a){var b=this;a.setAttribute("data-transitioning",!0),this.dh.removeClass(a,"transition-complete"),this.dh.removeClass(a,"transition-undo"),this.dh.addClass(a,"transition-interstitial"),this.updateParticipantCheckinLanguage(a),setTimeout(function(){a.removeAttribute("data-transitioning"),b.transitionToCompleted(a)},5e3)}},{key:"addActiveClassToCheckinNone",value:function(){var a=document.querySelector("[data-checkin-none] button");this.dh.addClass(a,"active")}},{key:"getContainer",value:function(a){return this.dh.closest(a,"[data-checkin-cards]")}},{key:"getCard",value:function(a){return this.dh.closest(a,"[data-checkin]")}}]),a}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();EcoChallenge.ConfirmDestroy=function(){function a(){_classCallCheck(this,a),this.dh=new DomHelpers,this.handleButtonClick=this.handleButtonClick.bind(this),document.addEventListener("click",this.handleButtonClick)}return _createClass(a,[{key:"handleButtonClick",value:function(a){var b=this;if(this.isConfirmButtonClick(a)){var c=a.target.getAttribute("href");a.stopPropagation(),a.preventDefault();var d=a.target.dataset.confirmDestroy,e={title:"Are you sure?",body:d,onNay:function(){},onYay:function(){b.doDestroy(c)}};document.dispatchEvent(new CustomEvent("showModal",{detail:e}))}}},{key:"doDestroy",value:function(a){var b=document.createElement("form");b.method="POST",b.action=a,b.style.display="none";var c=document.createElement("input");c.setAttribute("name","_method"),c.setAttribute("value","delete");var d=document.querySelector("[name=csrf-token]"),e=d.getAttribute("content"),f=document.createElement("input");f.setAttribute("name","authenticity_token"),f.setAttribute("value",e),b.appendChild(c),b.appendChild(f),document.body.appendChild(b),b.submit()}},{key:"isConfirmButtonClick",value:function(a){return _.has(a.target.dataset,"confirmDestroy")}}]),a}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();EcoChallenge.DashboardCalendars=function(){function a(){_classCallCheck(this,a),this.dh=new DomHelpers,this.handleCalendarNav=this.handleCalendarNav.bind(this),document.addEventListener("click",this.handleCalendarNav)}return _createClass(a,[{key:"handleCalendarNav",value:function(a){if(this.mayHandleCalendarNav(a.target)){if(a.preventDefault(),_.has(a.target.dataset,"calendar"))var b=this.dh.closest(a.target,"[data-dropdown-calendar]");else if(_.has(a.target.dataset,"checkIn"))var b=this.dh.closest(a.target,"[data-check-in-days]");this.doFetch(a.target.href,b)}}},{key:"mayHandleCalendarNav",value:function(a){return _.has(a.dataset,"prevMonth")||_.has(a.dataset,"nextMonth")}},{key:"parseJSON",value:function(a){return a.json()}},{key:"doFetch",value:function(a,b){var c=this,d={method:"GET",credentials:"include",headers:{"content-type":"application/json","X-CSRF-Token":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}};fetch(a,d).then(this.checkStatus).then(this.parseJSON).then(function(a){c.handleSuccess(b,a)}).catch(function(a){c.handleError(a)})}},{key:"handleSuccess",value:function(a,b){a.innerHTML=b.html}},{key:"checkStatus",value:function(a){if(a.status>=200&&a.status<300)return a;var b=new Error(a.statusText);throw b.response=a,b}},{key:"handleError",value:function(){}}]),a}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();EcoChallenge.Dropdowns=function(){function a(){_classCallCheck(this,a),this.dh=new DomHelpers,this.handleDropdownClick=this.handleDropdownClick.bind(this),this.toggleDropdown=this.toggleDropdown.bind(this),this.closeDropdowns=this.closeDropdowns.bind(this),document.addEventListener("click",this.handleDropdownClick),document.addEventListener("turbolinks:request-start",this.closeDropdowns)}return _createClass(a,[{key:"handleDropdownClick",value:function(a){var b=this.dh.closest(a.target,"[data-dropdown-toggle]");b?(a.preventDefault(),a.stopPropagation(),this.toggleDropdown(b)):this.closeDropdowns(null,a.target)}},{key:"toggleDropdown",value:function(a){var b=this,c=a.dataset.dropdownToggle,d=document.querySelectorAll("[data-dropdown="+c+"]");[].concat(_toConsumableArray(d)).forEach(function(c){b.dh.toggleClass(c,"open"),b.dh.toggleClass(a,"open"),b.closeDropdowns(c)})}},{key:"closeDropdowns",value:function(){var a=this,b=arguments.length<=0||void 0===arguments[0]?null:arguments[0],c=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(c){var d=this.dh.closest(c,"[data-dropdown]");if(d)return}var e=document.querySelectorAll("[data-dropdown]");[].concat(_toConsumableArray(e)).forEach(function(c){c!==b&&a.dh.removeClass(c,"open")})}}]),a}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();EcoChallenge.FormSelectGrouped=function(){function a(){_classCallCheck(this,a),this.init=this.init.bind(this),document.addEventListener("turbolinks:load",this.init)}return _createClass(a,[{key:"init",value:function(){var a=this,b=document.querySelectorAll("[data-form-select-grouped]");b.length>0&&[].concat(_toConsumableArray(b)).forEach(function(b){a.wrapSelects(b)})}},{key:"wrapSelects",value:function(a){var b=a.getElementsByTagName("select");[].concat(_toConsumableArray(b)).forEach(function(b){var c=document.createElement("div");c.className="select",c.appendChild(b),a.appendChild(c)})}}]),a}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();EcoChallenge.Invitation=function(){function a(){_classCallCheck(this,a),this.dh=new DomHelpers,this.init=this.init.bind(this),this.handleInvitationEdit=this.handleInvitationEdit.bind(this),this.canHandleInvitationEdit=this.canHandleInvitationEdit.bind(this),document.addEventListener("turbolinks:load",this.init),document.addEventListener("input",this.handleInvitationEdit)}return _createClass(a,[{key:"init",value:function(){document.querySelector("[data-invitation-preview]")&&(this.message=document.querySelector("[data-invitation-message]"),this.messagePreview=document.querySelector("[data-custom-message]"))}},{key:"handleInvitationEdit",value:function(a){this.canHandleInvitationEdit(a)&&(this.messagePreview.innerHTML=this.message.value.replace(/</g,"&lt;").replace(/>/g,"&gt;"))}},{key:"canHandleInvitationEdit",value:function(a){return _.has(a.target.dataset,"invitationMessage")}}]),a}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();EcoChallenge.JoinTeamButtons=function(){function a(){_classCallCheck(this,a),this.dh=new DomHelpers,this.handleButtonClick=this.handleButtonClick.bind(this),this.sendJoinRequest=this.sendJoinRequest.bind(this),document.addEventListener("click",this.handleButtonClick)}return _createClass(a,[{key:"handleButtonClick",value:function(a){if(this.isJoinButtonClick(a)){a.preventDefault();var b=a.target.dataset,c=void 0,d=void 0,e=void 0;1==b.joinTeamPassword?(d=!0,e="Team Password",c='Team "'+b.joinTeamName+'" requires a password. Please enter the team password and confirm.'):(d=!1,e="",c='Please confirm that you would like to leave your current team and join "'+b.joinTeamName+'"');var f={title:"Are you sure?",body:c,showInput:d,inputPlaceholder:e,onYay:this.sendJoinRequest,onNay:function(){},doNotCloseOnYay:!0,yayData:{teamId:b.joinTeam,teamName:b.joinTeamName}};document.dispatchEvent(new CustomEvent("showModal",{detail:f}))}}},{key:"isJoinButtonClick",value:function(a){return _.has(a.target.dataset,"joinTeam")}},{key:"sendJoinRequest",value:function(a){var b=this,c=a.teamId,d=a.modalInputValue,e="/me/participant",f={method:"PUT",body:JSON.stringify({team_password:d,participant:{team_id:c}}),credentials:"include",headers:{"content-type":"application/json","X-CSRF-Token":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}};fetch(e,f).then(this.checkStatus).then(this.parseJSON).then(function(c){c.id?b.handleSuccess(c,a):b.handleFailure(c,a)}).catch(function(c){b.handleError(c,a)})}},{key:"handleSuccess",value:function(a,b){var c={title:"Success",body:'You are now a member of "'+b.teamName+'"',yayLabel:"Sounds good",onYay:this.reload,hideNay:!0,hideClose:!0};document.dispatchEvent(new CustomEvent("showModal",{detail:c}))}},{key:"parseJSON",value:function(a){return a.json()}},{key:"reload",value:function(){window.location.reload()}},{key:"handleFailure",value:function(){window.location.reload()}}]),a}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();EcoChallenge.Links=function(){function a(){_classCallCheck(this,a),this.dh=new DomHelpers,this.ss=new SmoothScroll,this.getAnchorStatus=this.getAnchorStatus.bind(this),this.isAnchor=this.isAnchor.bind(this),this.anchorsPresent=!1,this.init=this.init.bind(this),document.addEventListener("turbolinks:load",this.init)}return _createClass(a,[{key:"init",value:function(){var a=this,b=document.links;[].concat(_toConsumableArray(b)).forEach(function(b){var c=b.getAttribute("href").substring(0,4);"#"===c.charAt(0)&&a.isAnchor(b)})}},{key:"isAnchor",value:function(a){var b=this,c=a.getAttribute("href").substring(1),d=document.querySelector('a[name="'+c+'"]');if(d){this.anchorsPresent=!0;var e;return document.querySelector(".global-header")?e=document.querySelector(".global-header").offsetHeight:document.querySelector(".dashboard-header")&&(e=document.querySelector(".dashboard-header").offsetHeight),a.addEventListener("click",function(a){b.smoothScroll(a,d,e)}),!0}}},{key:"smoothScroll",value:function(a,b,c,d){a.preventDefault(),this.ss.smoothScroll(b,c,d)}},{key:"getAnchorStatus",value:function(){return this.anchorsPresent}}]),a}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();EcoChallenge.Modal=function(){function a(){_classCallCheck(this,a),this.dh=new DomHelpers,this.modalVisible=!1,this.yayEventHandler=null,this.nayEventHandler=null,this.inputEventHandler=null,this.showModal=this.showModal.bind(this),this.hideModal=this.hideModal.bind(this),this.handleShow=this.handleShow.bind(this),this.handleHide=this.handleHide.bind(this),this.dismissModal=this.dismissModal.bind(this),this.setModalElementVisibility=this.setModalElementVisibility.bind(this),this.setupListeners=this.setupListeners.bind(this),this.destroyListeners=this.destroyListeners.bind(this),document.addEventListener("showModal",this.handleShow),document.addEventListener("hideModal",this.handleHide),document.addEventListener("click",this.dismissModal)}return _createClass(a,[{key:"dismissModal",value:function(a){_.has(a.target.dataset,"modalDismiss")&&this.hideModal()}},{key:"handleShow",value:function(a){var b=this.validateConfig(a.detail);this.showModal(b),this.setModalContents(b),this.setModalElementVisibility(b),this.setupListeners(b)}},{key:"handleHide",value:function(a){var b=a.detail;this.hideModal(b),this.destroyListeners()}},{key:"setupListeners",value:function(a){var b=this;this.destroyListeners();var c=document.querySelector(".modal [data-modal-yay]"),d=document.querySelector(".modal [data-modal-nay]"),e=document.querySelector(".modal [data-modal-input]");this.yayEventHandler=function(c){a.doNotCloseOnYay||b.handleHide(c);var d=Object.assign({modalInputValue:e.value,closeMethod:function(){b.handleHide(c)}},a.yayData);a.onYay(d)},this.nayEventHandler=function(c){b.handleHide(c),a.onNay(a.yayData)},this.inputEventHandler=function(a){13==a.keyCode&&b.yayEventHandler(a)},c.addEventListener("click",this.yayEventHandler),d.addEventListener("click",this.nayEventHandler),e.addEventListener("keydown",this.inputEventHandler)}},{key:"destroyListeners",value:function(){var a=document.querySelector(".modal [data-modal-yay]"),b=document.querySelector(".modal [data-modal-nay]"),c=document.querySelector(".modal [data-modal-input]");c.removeEventListener("keydown",this.inputEventHandler),a.removeEventListener("click",this.yayEventHandler),b.removeEventListener("click",this.nayEventHandler)}},{key:"setModalElementVisibility",value:function(a){var b=document.querySelector(".modal [data-modal-nay]");1==a.hideNay?b.style.display="none":b.style.display="";var c=document.querySelector(".modal [data-modal-input]");c.setAttribute("placeholder",a.inputPlaceholder),1==a.showInput?c.style.display="":c.style.display="none"}},{key:"setModalContents",value:function(a){var b=document.querySelector(".modal [data-modal-title]"),c=document.querySelector(".modal [data-modal-body]"),d=document.querySelector(".modal [data-modal-yay]"),e=document.querySelector(".modal [data-modal-nay]");b.innerHTML=a.title,c.innerHTML=a.body,d.innerHTML=a.yayLabel,e.innerHTML=a.nayLabel}},{key:"showModal",value:function(){var a=document.querySelector(".overlay");this.dh.addClass(a,"state-warn"),this.dh.addClass(document.querySelector("[data-modal-warn]"),"state-warn"),this.modalVisible=!0}},{key:"hideModal",value:function(){var a=document.querySelector(".overlay");this.dh.removeClass(a,"state-warn"),this.dh.removeClass(document.querySelector("[data-modal-warn]"),"state-warn"),this.modalVisible=!1}},{key:"validateConfig",value:function(a){return Object.assign({title:"Are you sure?",body:"Please confirm that you would like to perform this action",yayLabel:"Confirm",nayLabel:"Cancel",hideNay:!1,yayData:{},nayData:{},onYay:function(a){console.log(a)},onNay:function(a){console.log(a)},showInput:!1,inputPlaceholder:"Set inputPlaceholder config value",doNotCloseOnYay:!1},a)}}]),a}();var _slice=Array.prototype.slice,_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();EcoChallenge.Posts=function(){function a(){_classCallCheck(this,a),this.postCreateUrl="/dashboards/posts.json",this.postDestroyUrl=_.template("/dashboards/posts/<%= id %>.json"),this.dh=new DomHelpers,this.handlePostSubmit=this.handlePostSubmit.bind(this),this.handleCommentSubmit=this.handleCommentSubmit.bind(this),this.handlePostDestroy=this.handlePostDestroy.bind(this),this.handleLoadMorePosts=this.handleLoadMorePosts.bind(this),this.handleFlagPost=this.handleFlagPost.bind(this),this.handleDeflagPost=this.handleDeflagPost.bind(this),this.handleCommentDestroy=this.handleCommentDestroy.bind(this),this.handleUpload=this.handleUpload.bind(this),this.handlePostBodyClick=this.handlePostBodyClick.bind(this),this.handleEditorChange=this.handleEditorChange.bind(this),this.handleUploadSelect=this.handleUploadSelect.bind(this),this.handleUploadChange=this.handleUploadChange.bind(this),this.handleShowPostReply=this.handleShowPostReply.bind(this),this.displayNewPost=this.displayNewPost.bind(this),this.displayNewComment=this.displayNewComment.bind(this),this.displayPostError=this.displayPostError.bind(this),this.removeDestroyedPost=this.removeDestroyedPost.bind(this),this.displayFetchedPosts=this.displayFetchedPosts.bind(this),this.showPostAsDeflagged=this.showPostAsDeflagged.bind(this),this.showPostAsFlagged=this.showPostAsFlagged.bind(this),this.displayPostSuccessMessage=this.displayPostSuccessMessage.bind(this),this.displayDestroyPostError=this.displayDestroyPostError.bind(this),this.doCreatePost=this.doCreatePost.bind(this),this.doLoadMorePosts=this.doLoadMorePosts.bind(this),this.doDestroyPost=this.doDestroyPost.bind(this),this.doAttachmentUpload=this.doAttachmentUpload.bind(this),document.addEventListener("submit",this.handlePostDestroy),document.addEventListener("submit",this.handlePostSubmit),document.addEventListener("submit",this.handleCommentDestroy),document.addEventListener("submit",this.handleCommentSubmit),document.addEventListener("click",this.handleLoadMorePosts),document.addEventListener("click",this.handleFlagPost),document.addEventListener("click",this.handleDeflagPost),document.addEventListener("click",this.handlePostBodyClick),document.addEventListener("click",this.handleUploadSelect),document.addEventListener("click",this.handleShowPostReply),document.addEventListener("trix-attachment-add",this.handleUpload),document.addEventListener("trix-change",this.handleEditorChange),document.addEventListener("change",this.handleUploadChange)}return _createClass(a,[{key:"handleShowPostReply",value:function(a){if(this.canHandleShowPostReply(a)){var b=this.dh.closest(a.target,"[data-post-reply-container]");this.dh.addClass(b,"panel-visible")}}},{key:"handleUpload",value:function(a){var b=a.attachment;if(b.file)return this.doAttachmentUpload(b)}},{key:"handleUploadChange",value:function(a){if(this.canHandlePostUpload(a)){var b=a.target,c=b.files[0],d=this.dh.closest(b,"form"),e=d.querySelector("trix-editor");b.value="",e.editor.insertFile(c)}}},{key:"handleUploadSelect",value:function(a){if(this.canHandleUploadSelect(a)){a.preventDefault();var b=a.target.previousElementSibling;b.click()}}},{key:"handlePostBodyClick",value:function(a){var b=this.dh.closest(a.target,"a");b&&this.dh.closest(b,"[data-post-copy]")&&(a.preventDefault(),a.stopPropagation(),window.open(b.getAttribute("href")))}},{key:"handleEditorChange",value:function(a){this.hideAssociatedMessages(a.target)}},{key:"handleFlagPost",value:function(a){var b=this;if(this.canHandleFlagPost(a)){var c=this.feedElementForNode(a.target),d={title:"Is this post abusive or innappropriate?",body:"If this post is inappropriate, please let us know. Flagged posts are regularly reviewed by the EcoChallenge team.",yayLabel:"Yes",nayLabel:"No",onYay:function(){b.doFlagPost(a.target,c)}};document.dispatchEvent(new CustomEvent("showModal",{detail:d})),a.preventDefault()}}},{key:"handleDeflagPost",value:function(a){if(this.canHandleDeflagPost(a)){var b=this.feedElementForNode(a.target);this.doDeflagPost(a.target,b),a.preventDefault()}}},{key:"handleLoadMorePosts",value:function(a){if(this.canHandleLoadMorePosts(a)){var b=this.feedElementForNode(a.target);this.doLoadMorePosts(b),a.preventDefault()}}},{key:"handleCommentDestroy",value:function(a){var b=this;if(this.canHandleCommentDestroy(a)){var c=this.findCommentContainer(a.target),d={title:"Are you sure?",body:"This action cannot be undone. Please confirm that you would like to delete this comment.",yayLabel:"Confirm",nayLabel:"Cancel",onYay:function(){b.doDestroyComment(a.target,c)}};document.dispatchEvent(new CustomEvent("showModal",{detail:d})),a.preventDefault()}}},{key:"handlePostDestroy",value:function(a){var b=this;if(this.canHandlePostDestroy(a)){var c=this.feedElementForNode(a.target),d={title:"Are you sure?",body:"This action cannot be undone. Please confirm that you would like to delete this post.",yayLabel:"Confirm",nayLabel:"Cancel",onYay:function(){b.doDestroyPost(a.target,c)}};document.dispatchEvent(new CustomEvent("showModal",{detail:d})),a.preventDefault()}}},{key:"handlePostSubmit",value:function(a){if(this.canHandlePostSubmit(a)){var b=this.feedElementForNode(a.target);this.doCreatePost(this.formData(a.target),b),a.preventDefault()}}},{key:"handleCommentSubmit",value:function(a){if(this.canHandleCommentSubmit(a)){var b=this.feedElementForNode(a.target);this.doCreateComment(a.target,b),a.preventDefault()}}},{key:"displayNewComment",value:function(a,b){var c=this,d=this.findCommentContainer(b),e=this.postStringToNode(a.html);this.dh.addClass(e,"faded"),d.insertBefore(e,d.children[1]),setTimeout(function(){c.dh.removeClass(e,"faded")},0)}},{key:"displayNewPost",value:function(a,b){var c=this,d=this.findPostContainer(b);if(!d)return void this.redirectToFeed();var e=this.postStringToNode(a.html);this.dh.addClass(e,"faded"),d.insertBefore(e,d.firstChild),setTimeout(function(){c.dh.removeClass(e,"faded")},0)}},{key:"redirectToFeed",value:function(){window.location="/dashboards/posts"}},{key:"displayFetchedPosts",value:function(a,b){var c=this.findPostContainer(b),d=this.postStringToNodes(a.html);[].concat(_toConsumableArray(d)).forEach(function(a){c.appendChild(a)}),a.count<=this.countVisiblePosts(b)&&this.hideLoadMoreLink(b)}},{key:"hideLoadMoreLink",value:function(a){var b=this.findLoadMoreLink(a);b&&(b.style.display="none")}},{key:"hideAssociatedMessages",value:function(a){var b=this;[].concat(_toConsumableArray(this.dh.closest(a,"form").querySelectorAll("[data-editor-message]"))).forEach(function(c){c.classList.contains("faded")||""==a.value||(b.dh.addClass(c,"faded"),b.dh.removeClass(c,"error"))})}},{key:"removeDestroyedPost",value:function(a,b){b.parentNode&&b.parentNode.removeChild(b)}},{key:"removeDestroyedComment",value:function(a,b){b.parentNode&&b.parentNode.removeChild(b)}},{key:"resetPostInterface",value:function(a,b){b.querySelector("trix-editor").value=""}},{key:"resetCommentInterface",value:function(a,b){b.querySelector("trix-editor").value=""}},{key:"showPostAsFlagged",value:function(a,b){this.dh.addClass(b,"flagged"),b.setAttribute("href",b.getAttribute("href").replace("/flag","/deflag")),b.removeAttribute("data-flag-post"),b.setAttribute("data-deflag-post",!0)}},{key:"showPostAsDeflagged",value:function(a,b){this.dh.removeClass(b,"flagged"),b.setAttribute("href",b.getAttribute("href").replace("/deflag","/flag")),b.removeAttribute("data-deflag-post"),b.setAttribute("data-flag-post",!0)}},{key:"displayDestroyPostError",value:function(a,b){var c=b.querySelector("[data-message]");c.innerHTML="Error: Unable to delete this post.",c.style.display=""}},{key:"displayDestroyCommentError",value:function(a,b){var c=b.querySelector("[data-message]");c.innerHTML="Error: Unable to delete this comment.",c.style.display=""}},{key:"displayPostError",value:function(a,b){var c=this,d=this.findPostCreateFormMessage(b);a.json().then(function(a){d.innerHTML=a.join(". "),c.dh.addClass(d,"error"),c.dh.removeClass(d,"faded")})}},{key:"displayFetchedPostsError",value:function(a){console.log(a,"error caught by displayFetchedPostsError")}},{key:"showFlagPostError",value:function(a,b){var c=b.querySelector("[data-message]");c.innerHTML="Error: Unable to flag this post.",c.style.display=""}},{key:"showDeflagPostError",value:function(a,b){var c=b.querySelector("[data-message]");c.innerHTML="Error: Unable to deflag this post.",c.style.display=""}},{key:"displayPostSuccessMessage",value:function(a,b){var c=this.findPostCreateFormMessage(b);c.innerHTML="The post has been added to your feed.",this.dh.removeClass(c,"faded")}},{key:"doAttachmentUpload",value:function(a){var b=a.file,c=this.createStorageKey(b),d="/me/media",e=new FormData;e.append("key",c),e.append("Content-Type",b.type),e.append("file",b);var f=new XMLHttpRequest;return f.open("POST",d,!0),f.setRequestHeader("X-CSRF-Token",document.querySelector('meta[name="csrf-token"]').getAttribute("content")),f.upload.onprogress=function(b){var c;return c=b.loaded/b.total*100,a.setUploadProgress(c)},f.onload=function(){if(201===f.status){var b=JSON.parse(f.response),c={url:location.protocol+"//"+location.hostname+b.url,href:b.url};return a.setAttributes(c)}},f.send(e)}},{key:"doCreatePost",value:function(a,b){fetch(this.postCreateUrl,this.fetchInit("POST",a)).then(this.checkForSuccessfulResponse).then(this.parseJSON).then(this.curryCallback(this.displayNewPost,b)).then(this.curryCallback(this.resetPostInterface,b)).then(this.curryCallback(this.displayPostSuccessMessage,b)).catch(this.curryCallback(this.displayPostError,b))}},{key:"doCreateComment",value:function(a,b){var c=a.getAttribute("action")+".json",d=this.formData(a,"comment");fetch(c,this.fetchInit("POST",d)).then(this.parseJSON).then(this.curryCallback(this.displayNewComment,a,b)).then(this.curryCallback(this.resetCommentInterface,a,b)).catch(this.curryCallback(this.displayPostError,b))}},{key:"doDestroyPost",value:function(a,b){var c=this,d=a.getAttribute("action"),e=_.has(a.dataset,"deleteRedirect"),f=void 0;f=e?{flash:!0}:{};var g=d+".json",h=this.dh.closest(a,"[data-post]");fetch(g,this.fetchInit("DELETE",f)).then(this.checkForSuccessfulResponse).then(this.curryCallback(this.removeDestroyedPost,h,b)).then(function(){e?window.location=a.dataset.deleteRedirect:c.doLoadMorePosts(b,1)}).catch(this.curryCallback(this.displayDestroyPostError,h,b))}},{key:"doDestroyComment",value:function(a,b){var c=a.getAttribute("action"),d=c+".json",e=this.dh.closest(a,"[data-post]");fetch(d,this.fetchInit("DELETE")).then(this.checkForSuccessfulResponse).then(this.curryCallback(this.removeDestroyedComment,e,b)).catch(this.curryCallback(this.displayDestroyCommentError,e,b))}},{key:"checkForSuccessfulResponse",value:function(a){if(a.status>=200&&a.status<300||304===a.status)return a;throw a}},{key:"doLoadMorePosts",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?null:arguments[1],c=this.countVisiblePosts(a),d={};d.filter_type=_.has(a.dataset,"filterType")?a.dataset.filterType:null,d.filter_id=_.has(a.dataset,"filterId")?a.dataset.filterId:null,d.offset=c,null!=b&&(d.limit=b);var e=this.postCreateUrl+"?"+this.queryString(d);fetch(e,this.fetchInit("GET")).then(this.parseJSON).then(this.curryCallback(this.displayFetchedPosts,a)).catch(this.curryCallback(this.displayFetchedPostsError,a))}},{key:"doFlagPost",value:function(a,b){var c=a.getAttribute("href")+".json";fetch(c,this.fetchInit("GET")).then(this.curryCallback(this.showPostAsFlagged,a,b)).catch(this.curryCallback(this.showFlagPostError,b));
}},{key:"doDeflagPost",value:function(a,b){var c=a.getAttribute("href")+".json";fetch(c,this.fetchInit("GET")).then(this.curryCallback(this.showPostAsDeflagged,a,b)).catch(this.curryCallback(this.showDeflagPostError,b))}},{key:"canHandleDeflagPost",value:function(a){return _.has(a.target.dataset,"deflagPost")}},{key:"canHandleFlagPost",value:function(a){return _.has(a.target.dataset,"flagPost")}},{key:"canHandlePostSubmit",value:function(a){return _.has(a.target.dataset,"postCreate")}},{key:"canHandleCommentSubmit",value:function(a){return _.has(a.target.dataset,"commentCreate")}},{key:"canHandlePostDestroy",value:function(a){return _.has(a.target.dataset,"postDestroy")}},{key:"canHandleCommentDestroy",value:function(a){return _.has(a.target.dataset,"commentDestroy")}},{key:"canHandleLoadMorePosts",value:function(a){return _.has(a.target.dataset,"loadMorePosts")}},{key:"canHandleUploadSelect",value:function(a){return _.has(a.target.dataset,"uploadSelect")}},{key:"canHandlePostUpload",value:function(a){return _.has(a.target.dataset,"postUpload")}},{key:"canHandleShowPostReply",value:function(a){return _.has(a.target.dataset,"showReply")}},{key:"countVisiblePosts",value:function(a){return[].concat(_toConsumableArray(a.querySelectorAll("[data-post-parent]"))).length}},{key:"feedElementForNode",value:function(a){var b=this.dh.closest(a,"[data-feed]");return b}},{key:"findPostCreateFormMessage",value:function(a){return a.querySelector("[data-editor-message]")}},{key:"findPostContainer",value:function(a){return a.querySelector("[data-post-container]")}},{key:"findCommentContainer",value:function(a){return this.dh.closest(a,"[data-comment-container]")}},{key:"findLoadMoreLink",value:function(a){return a.querySelector("[data-load-more-posts]")}},{key:"formData",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?"post":arguments[1],c=new FormData(a),d={};return d[b]={body:c.get(b+"[body]")},d.redirect=c.get("redirect"),d}},{key:"parseJSON",value:function(a){return a.json()}},{key:"curryCallback",value:function(a){var b=[].concat(_slice.call(arguments));return b.shift(),function(c){b.unshift(c),a.apply(this,b)}}},{key:"postStringToNodes",value:function(a){var b=document.createElement("ul");return b.innerHTML=a.trim(),b.childNodes}},{key:"postStringToNode",value:function(a){var b=document.createElement("ul");return b.innerHTML=a.trim(),b.firstChild}},{key:"queryString",value:function(a){return Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(a[b])}).join("&")}},{key:"createStorageKey",value:function(a){var b=new Date,c=b.toISOString().slice(0,10),d=b.getTime();return"tmp/"+c+"/"+d+"-"+a.name}},{key:"fetchInit",value:function(a,b){var c={method:a,credentials:"include",headers:{"content-type":"application/json","X-CSRF-Token":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}};return b&&(c.body=JSON.stringify(b)),c}}]),a}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();EcoChallenge.Referral=function(){function a(){_classCallCheck(this,a),this.dh=new DomHelpers,this.handleDismissClick=this.handleDismissClick.bind(this),this.handleCopyClick=this.handleCopyClick.bind(this),this.createFlashMessage=this.createFlashMessage.bind(this),this.canHandleDismissClick=this.canHandleDismissClick.bind(this),this.canHandleCopyClick=this.canHandleCopyClick.bind(this),document.addEventListener("click",this.handleDismissClick),document.addEventListener("click",this.handleCopyClick)}return _createClass(a,[{key:"handleDismissClick",value:function(a){if(this.canHandleDismissClick(a)){var b=document.createElement("input"),c=this.dh.closest(a.target,"[data-referral]");b.setAttribute("type","hidden"),b.setAttribute("name","_method"),b.setAttribute("value","delete"),c.appendChild(b),c.submit()}}},{key:"canHandleDismissClick",value:function(a){return _.has(a.target.dataset,"referralDismiss")}},{key:"canHandleCopyClick",value:function(a){return _.has(a.target.dataset,"copyInviteUrl")}},{key:"createFlashMessage",value:function(a){if(document.querySelectorAll("[data-referral-flash]").length>0){var b=document.querySelectorAll("[data-referral-flash]");[].concat(_toConsumableArray(b)).forEach(function(a){a.remove()})}var c=document.querySelector("[data-modal-warn]"),d=document.querySelector("[data-flash-template]"),e=d.cloneNode(!0);e.querySelector("[data-message-content]").innerHTML=a,e.style.removeProperty("display"),e.hasAttributes("class","closed")&&e.classList.remove("closed"),e.removeAttribute("data-flash-template"),e.setAttribute("data-referral-flash",""),this.dh.insertAfter(e,c)}},{key:"handleCopyClick",value:function(a){if(this.canHandleCopyClick(a)){var b=document.querySelector("[data-copy-invite-url]"),c=void document.querySelector("[data-copied-message]"),d=void 0;document.execCommand("copy")?(document.body.createTextRange?(d=document.body.createTextRange(),d.moveToElementText(b),d.select()):window.getSelection&&(c=window.getSelection(),d=document.createRange(),d.selectNodeContents(b),c.removeAllRanges(),c.addRange(d)),document.execCommand("copy"),this.createFlashMessage("Copied to clipboard")):this.createFlashMessage("Could not copy")}}}]),a}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();EcoChallenge.Sidebar=function(){function a(){_classCallCheck(this,a),this.dh=new DomHelpers,this.mobilizer=this.mobilizer.bind(this),this.windowWidth=window.innerWidth,document.addEventListener("turbolinks:load",this.mobilizer)}return _createClass(a,[{key:"mobilizer",value:function(){var a=this;document.querySelector("#dashboard-sidebar")&&(window.innerWidth<=768&&this.dh.addClass(document.querySelector("#dashboard-sidebar"),"closed"),window.addEventListener("resize",this.dh.debounce(function(){var b=window.innerWidth,c=document.querySelector("#dashboard-sidebar");c&&b!=a.windowWidth&&(b<=768?a.dh.addClass(c,"closed"):a.dh.removeClass(c,"closed"))},200)))}}]),a}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();EcoChallenge.Sliders=function(){function a(){var b=arguments.length<=0||void 0===arguments[0]?"data-slider":arguments[0];_classCallCheck(this,a),this.dh=new DomHelpers,this.selector=b,this.init=this.init.bind(this),this.advance=this.advance.bind(this),document.addEventListener("turbolinks:load",this.init)}return _createClass(a,[{key:"init",value:function(){var a=this,b=document.querySelectorAll("["+this.selector+"]");[].concat(_toConsumableArray(b)).forEach(function(b){var c=b.querySelector(".slider"),d=b.querySelector(".slider-container");a.layoutSlider(c,d),window.addEventListener("resize",a.dh.debounce(function(){a.layoutSlider(c,d)},200)),a.getSlidesAdvancer(b,"left").addEventListener("click",function(b){a.advance(b,c)}),a.getSlidesAdvancer(b,"right").addEventListener("click",function(b){a.advance(b,c)})})}},{key:"layoutSlider",value:function(a,b){a.style.paddingBottom=0,b.style.height=a.offsetHeight+"px",a.style.paddingBottom="17px"}},{key:"getSliderSections",value:function(){return document.querySelectorAll("["+this.selector+"]")}},{key:"getSlides",value:function(a){return a.children}},{key:"getSlidesAdvancer",value:function(a,b){return a.querySelectorAll("["+this.selector+"-advance="+b+"]")[0]}},{key:"getSlider",value:function(a){return a.querySelector(".slider")}},{key:"getSlideWidth",value:function(a){return this.getSlides(a)[0].offsetWidth}},{key:"advance",value:function(a,b){switch(a.preventDefault(),this.getSlides(b),a.target.dataset.sliderAdvance){case"left":this.scroller(b,-1);break;case"right":this.scroller(b,1)}}},{key:"scroller",value:function(a,b){var c=a.scrollLeft+b*this.getSlideWidth(a),d=a.scrollWidth-a.offsetWidth;c>=d?"true"===a.dataset.end?this.tweener(a,0,500):(this.tweener(a,d,500),a.dataset.end="true"):c<=0?"true"===a.dataset.end?this.tweener(a,d,500):(this.tweener(a,0,500),a.dataset.end="true"):(this.tweener(a,c,500),a.dataset.end="false")}},{key:"tweener",value:function(a,b,c){if(b=Math.round(b),c=Math.round(c),c<0)return Promise.reject("bad duration");if(0===c)return a.scrollLeft=b,Promise.resolve();var d=Date.now(),e=d+c,f=a.scrollLeft,g=b-f,h=function(a,b,c){if(c<=a)return 0;if(c>=b)return 1;var d=(c-a)/(b-a);return d*d*(3-2*d)};return new Promise(function(b,c){var i=a.scrollLeft,j=function j(){if(a.scrollLeft!=i)return void c("interrupted");var k=Date.now(),l=h(d,e,k),m=Math.round(f+g*l);return a.scrollLeft=m,k>=e?void b():a.scrollLeft===i&&a.scrollLeft!==m?void b():(i=a.scrollLeft,void setTimeout(j,0))};setTimeout(j,0)}).catch(function(a){console.log(a)})}}]),a}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();EcoChallenge.Togglers=function(){function a(){_classCallCheck(this,a),this.dh=new DomHelpers,this.handleTogglerClick=this.handleTogglerClick.bind(this),this.toggle=this.toggle.bind(this),window.addEventListener("click",this.handleTogglerClick)}return _createClass(a,[{key:"handleTogglerClick",value:function(a){var b=void 0;b=a.target.dataset&&a.target.dataset.hasOwnProperty("toggleTarget")?a.target:this.dh.closest(a.target,"[data-toggle-target]"),b&&(a.preventDefault(),a.stopPropagation(),this.toggle(b))}},{key:"toggle",value:function(a){var b=this,c=a.dataset.toggleTarget,d=document.querySelectorAll("[data-toggleable="+c+"]");[].concat(_toConsumableArray(d)).forEach(function(a){b.dh.toggleClass(a,"closed")})}}]),a}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();EcoChallenge.AutoCompletes=function(){function a(){_classCallCheck(this,a),this.dh=new DomHelpers,this.updateList=this.updateList.bind(this),this.handleFetchResponse=this.handleFetchResponse.bind(this),this.actOnFetchResponse=this.actOnFetchResponse.bind(this),this.handleItemClick=this.handleItemClick.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.ensureInputListeners=this.ensureInputListeners.bind(this),this.ensureResultsContainers=this.ensureResultsContainers.bind(this),this.disableBrowserAutoComplete=this.disableBrowserAutoComplete.bind(this),this.resultsTemplate=_.template("<% _.forEach(items, function(item) { %><li><%- item %></li><% }); %>");var b=_.debounce(this.handleInputChange,150);document.addEventListener("keyup",b),document.addEventListener("change",b),document.addEventListener("click",this.handleItemClick),document.addEventListener("turbolinks:load",this.ensureResultsContainers),document.addEventListener("turbolinks:load",this.disableBrowserAutoComplete),document.addEventListener("turbolinks:load",this.ensureInputListeners)}return _createClass(a,[{key:"ensureInputListeners",value:function(){var a=this,b=document.querySelectorAll("[data-auto-complete]");[].concat(_toConsumableArray(b)).forEach(function(b){if(!b.dataset.hasOwnProperty("autoCompleteInitialized")){var c=b.querySelector("input");c.addEventListener("blur",function(){setTimeout(function(){a.clearAndHideResults(b)},200)}),c.addEventListener("focus",function(){a.updateList(b)}),b.dataset.autoCompleteInitialized=!0}})}},{key:"handleInputChange",value:function(a){if(!this.isAutoCompleteInput(a.target))return!1;var b=this.dh.closest(a.target,"[data-auto-complete");this.updateList(b)}},{key:"handleItemClick",value:function(a){if(!this.isAutoCompleteListItem(a.target))return!1;var b=this.dh.closest(a.target,"[data-auto-complete");this.updateInput(a.target,b)}},{key:"disableBrowserAutoComplete",value:function(){var a=document.querySelectorAll("[data-auto-complete]");[].concat(_toConsumableArray(a)).forEach(function(a){a.querySelector("input").setAttribute("autocomplete","off")})}},{key:"updateInput",value:function(a,b){var c=b.querySelector("input");c.value=a.innerHTML,this.clearAndHideResults(b)}},{key:"ensureResultsContainers",value:function(){var a=this,b=document.querySelectorAll("[data-auto-complete]");[].concat(_toConsumableArray(b)).forEach(function(b){a.ensureResultsContainer(b)})}},{key:"isAutoCompleteInput",value:function(a){return!!a.dataset.hasOwnProperty("autoComplete")||!!this.dh.closest(a,"[data-auto-complete]")}},{key:"isAutoCompleteListItem",value:function(a){return!(!this.dh.closest(a,"[data-auto-complete]")||"LI"!=a.tagName)}},{key:"ensureResultsContainer",value:function(a){if(!a.querySelector("div.autocomplete-results")){var b=a.querySelector("input"),c=document.createElement("div");return c.classList.add("autocomplete-results"),c.style.display="none",this.dh.insertAfter(c,b),this.ensureResultsList(c),c}}},{key:"ensureResultsList",value:function(a){var b=document.createElement("ul");return b.classList.add("autocomplete-list"),a.appendChild(b),b}},{key:"clearAndHideResults",value:function(a){a.querySelector("div.autocomplete-results").style.display="none",a.querySelector("ul.autocomplete-list").innerHTML=""}},{key:"updateList",value:function(a){var b=this,c=a.querySelector("input"),d=c.value;if(d.length<1)this.clearAndHideResults(a);else{var e=a.dataset.autoComplete+"/?search="+d;fetch(e,{method:"get"}).then(function(c){b.handleFetchResponse(a,c)})}}},{key:"actOnFetchResponse",value:function(a,b){var c=document.activeElement,d=b.querySelector("input");if(0==a.length||c!==d)return void this.clearAndHideResults(b);var e=this.resultsTemplate({items:a});b.querySelector("div.autocomplete-results").style.display="block",b.querySelector("ul.autocomplete-list").innerHTML=e}},{key:"handleFetchResponse",value:function(a,b){var c=this;b.json().then(function(b){c.actOnFetchResponse(b,a)})}}]),a}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();EcoChallenge.Checkboxes=function(){function a(){_classCallCheck(this,a),this.dh=new DomHelpers,this.getIndicator=this.getIndicator.bind(this),this.handleCheckboxClick=this.handleCheckboxClick.bind(this),this.handleCheckboxFocus=this.handleCheckboxFocus.bind(this),this.handleCheckboxBlur=this.handleCheckboxBlur.bind(this),window.addEventListener("change",this.handleCheckboxClick),window.addEventListener("focus",this.handleCheckboxFocus),window.addEventListener("blur",this.handleCheckboxBlur)}return _createClass(a,[{key:"handleCheckboxClick",value:function(a){var b=a.target;return!!this.isCheckbox(b)&&void this.checkState(b)}},{key:"handleCheckboxFocus",value:function(a){var b=a.target;return!!this.isCheckbox(b)&&void this.setFocus(b)}},{key:"handleCheckboxBlur",value:function(a){var b=a.target;return!!this.isCheckbox(b)&&void this.unsetFocus(b)}},{key:"setFocus",value:function(a){this.dh.addClass(this.getIndicator(a),"focus")}},{key:"unsetFocus",value:function(a){this.dh.removeClass(this.getIndicator(a),"focus")}},{key:"isCheckbox",value:function(a){return a.type&&"checkbox"===a.type}},{key:"getWrap",value:function(a){return this.dh.closest(a,"label.checkbox")}},{key:"getIndicator",value:function(a){var b=this.getWrap(a);if(b)return b.querySelectorAll("span.toggle-indicator")[0]}},{key:"checkState",value:function(a){var b=this.getIndicator(a);b&&(a.checked?this.dh.addClass(b,"checked"):this.dh.removeClass(b,"checked"))}}]),a}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();EcoChallenge.CountrySelects=function(){function a(){arguments.length<=0||void 0===arguments[0]?"[data-form-country":arguments[0],_classCallCheck(this,a),this.handleCountrySelectChange=this.handleCountrySelectChange.bind(this),this.getCountryWrap=this.getCountryWrap.bind(this),this.getCountryInput=this.getCountryInput.bind(this),this.getStateWrap=this.getStateWrap.bind(this),this.getStateOtherWrap=this.getStateOtherWrap.bind(this),this.checkAllFormStates=this.checkAllFormStates.bind(this),this.dh=new DomHelpers,document.addEventListener("change",this.handleCountrySelectChange),document.addEventListener("turbolinks:load",this.checkAllFormStates)}return _createClass(a,[{key:"handleCountrySelectChange",value:function(a){var b=a.target;if(this.isCountrySelect(a.target)){var c=this.dh.closest(b,"form");this.checkState(c)}}},{key:"checkAllFormStates",value:function(){var a=this,b=document.querySelectorAll("[data-form-country]");[].concat(_toConsumableArray(b)).forEach(function(b){a.checkState(b)})}},{key:"isCountrySelect",value:function(a){return!(!a.dataset.hasOwnProperty("formFunction")||"country"!==a.dataset.formFunction)||!!this.dh.closest(a,"[data-form-function=country]")}},{key:"getCountryWrap",value:function(a){return a.querySelectorAll('[data-form-function="country"]')[0]}},{key:"getCountryInput",value:function(a){return a.querySelectorAll('[data-form-function="country"] select')[0]}},{key:"getStateWrap",value:function(a){return a.querySelectorAll('[data-form-function="state"]')[0]}},{key:"getStateOtherWrap",value:function(a){return a.querySelectorAll('[data-form-function="state_other"]')[0]}},{key:"checkState",value:function(a){var b=this.getCountryInput(a);"US"==b.value?(this.getStateOtherWrap(a).style.display="none",this.getStateWrap(a).style.display=""):(this.getStateOtherWrap(a).style.display="",this.getStateWrap(a).style.display="none")}}]),a}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();EcoChallenge.LinkedSelects=function(){function a(){_classCallCheck(this,a),this.handleParentSelectChange=this.handleParentSelectChange.bind(this),this.checkAllChildStates=this.checkAllChildStates.bind(this),this.dh=new DomHelpers,document.addEventListener("change",this.handleParentSelectChange),document.addEventListener("turbolinks:load",this.checkAllChildStates)}return _createClass(a,[{key:"handleParentSelectChange",value:function(a){var b=a.target;if(this.isParentSelect(a.target)){var c=this.dh.closest(b,"form");this.checkLinkedChildren(c,a.target)}}},{key:"checkAllChildStates",value:function(){var a=this,b=document.querySelectorAll("[data-field-function-parent]");[].concat(_toConsumableArray(b)).forEach(function(b){var c=a.dh.closest(b,"form");c&&a.checkLinkedChildren(c,b)})}},{key:"isParentSelect",value:function(a){return!!a.dataset.hasOwnProperty("fieldFunctionParent")||!!this.dh.closest(a,"[data-field-function-parent]")}},{key:"checkLinkedChildren",value:function(a,b){var c=b.dataset.fieldName,d=b.value,e='[data-field-function-child="'+c+'"]',f=a.querySelectorAll(e);[].concat(_toConsumableArray(f)).forEach(function(a){a.dataset.hasOwnProperty("showOnParentValue")&&(a.dataset.showOnParentValue==d?a.style.display="":a.style.display="none")})}}]),a}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();EcoChallenge.SelectAlls=function(){function a(){_classCallCheck(this,a),this.dh=new DomHelpers,this.doDeselectAll=this.doDeselectAll.bind(this),this.doSelectAll=this.doSelectAll.bind(this),this.handleSelectAllClick=this.handleSelectAllClick.bind(this),document.addEventListener("click",this.handleSelectAllClick)}return _createClass(a,[{key:"handleSelectAllClick",value:function(a){this.isSelectAll(a.target)&&(a.preventDefault,this.doSelectAll(a.target)),this.isDeselectAll(a.target)&&(a.preventDefault,this.doDeselectAll(a.target))}},{key:"doSelectAll",value:function(a){var b='[data-select-all-target="'+a.dataset.selectAll+'"]';[].concat(_toConsumableArray(document.querySelectorAll(b))).forEach(function(a){a.checked=!0})}},{key:"doDeselectAll",value:function(a){[].concat(_toConsumableArray(document.querySelectorAll('[data-select-all-target="'+a.dataset.deselectAll+'"]'))).forEach(function(a){a.checked=!1})}},{key:"isSelectAll",value:function(a){return!!a.dataset.hasOwnProperty("selectAll")}},{key:"isDeselectAll",value:function(a){return!!a.dataset.hasOwnProperty("deselectAll")}}]),a}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();EcoChallenge.Uploads=function(){function a(){_classCallCheck(this,a),this.dh=new DomHelpers,this.handleUploadChange=this.handleUploadChange.bind(this),this.handleUploadClear=this.handleUploadClear.bind(this),window.addEventListener("change",this.handleUploadChange),window.addEventListener("click",this.handleUploadClear)}return _createClass(a,[{key:"handleUploadClear",value:function(a){if(this.dh.hasClass(a.target,"file-clear")){a.preventDefault();var b=a.target,c=this.dh.closest(b,"label"),d=c.querySelector("input"),e=c.querySelector("[data-file-delete]"),f=c.querySelectorAll("[data-file-delete-hide]"),g=c.querySelector(".file-overlay");d&&(d.value=null,g.innerHTML="Choose File...",e&&(e.checked=!0),[].concat(_toConsumableArray(f)).forEach(function(a){a.style.display="none"}))}}},{key:"handleUploadChange",value:function(a){if("file"==a.target.type&&_.has(a.target.dataset,"upload")){var b=a.target,c=this.dh.closest(b,"label"),d=c.querySelector("[data-file-delete]"),e=c.querySelector(".file-overlay"),f=b.files[0];f&&(e.innerHTML=b.files[0].name,d&&(d.checked=!1))}}}]),a}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();EcoChallenge.Boot=function(){function a(){_classCallCheck(this,a)}return _createClass(a,[{key:"start",value:function(){new EcoChallenge.Analytics,new EcoChallenge.Body,new EcoChallenge.Dropdowns,new EcoChallenge.Togglers,new EcoChallenge.Links,new EcoChallenge.CountrySelects,new EcoChallenge.LinkedSelects,new EcoChallenge.Checkboxes,new EcoChallenge.Uploads,new EcoChallenge.AutoCompletes,new EcoChallenge.SelectAlls,new EcoChallenge.Actions,new EcoChallenge.Checkin,new EcoChallenge.Sidebar,new EcoChallenge.Sliders,new EcoChallenge.JoinTeamButtons,new EcoChallenge.Modal,new EcoChallenge.Referral,new EcoChallenge.AddActionPromptDismissed,new EcoChallenge.Posts,new EcoChallenge.ConfirmDestroy,new EcoChallenge.DashboardCalendars,new EcoChallenge.FormSelectGrouped,new EcoChallenge.Invitation}}]),a}();var boot=new EcoChallenge.Boot,dh=new DomHelpers;dh.ready(boot.start),function(){[].slice}.call(this),function(){}.call(this),function(){[].slice,[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1}}.call(this),function(){var a;null==window.Set&&(window.Set=a=function(){function a(){this.clear()}return a.prototype.clear=function(){return this.values=[]},a.prototype.has=function(a){return-1!==this.values.indexOf(a)},a.prototype.add=function(a){return this.has(a)||this.values.push(a),this},a.prototype.delete=function(a){var b;return-1!==(b=this.values.indexOf(a))&&(this.values.splice(b,1),!0)},a.prototype.forEach=function(){var a;return(a=this.values).forEach.apply(a,arguments)},a}())}.call(this),function(a){function b(){}function c(a,b){return function(){a.apply(b,arguments)}}function d(a){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],j(a,this)}function e(a,b){for(;3===a._state;)a=a._value;return 0===a._state?void a._deferreds.push(b):(a._handled=!0,void l(function(){var c=1===a._state?b.onFulfilled:b.onRejected;if(null===c)return void(1===a._state?f:g)(b.promise,a._value);var d;try{d=c(a._value)}catch(a){return void g(b.promise,a)}f(b.promise,d)}))}function f(a,b){try{if(b===a)throw new TypeError("A promise cannot be resolved with itself.");if(b&&("object"==typeof b||"function"==typeof b)){var e=b.then;if(b instanceof d)return a._state=3,a._value=b,void h(a);if("function"==typeof e)return void j(c(e,b),a)}a._state=1,a._value=b,h(a)}catch(b){g(a,b)}}function g(a,b){a._state=2,a._value=b,h(a)}function h(a){2===a._state&&0===a._deferreds.length&&setTimeout(function(){a._handled||m(a._value)},1);for(var b=0,c=a._deferreds.length;c>b;b++)e(a,a._deferreds[b]);a._deferreds=null}function i(a,b,c){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.promise=c}function j(a,b){var c=!1;try{a(function(a){c||(c=!0,f(b,a))},function(a){c||(c=!0,g(b,a))})}catch(a){if(c)return;c=!0,g(b,a)}}var k=setTimeout,l="function"==typeof setImmediate&&setImmediate||function(a){k(a,1)},m=function(a){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)};d.prototype.catch=function(a){return this.then(null,a)},d.prototype.then=function(a,c){var f=new d(b);return e(this,new i(a,c,f)),f},d.all=function(a){var b=Array.prototype.slice.call(a);return new d(function(a,c){function d(f,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(a){d(f,a)},c)}b[f]=g,0===--e&&a(b)}catch(a){c(a)}}if(0===b.length)return a([]);for(var e=b.length,f=0;f<b.length;f++)d(f,b[f])})},d.resolve=function(a){return a&&"object"==typeof a&&a.constructor===d?a:new d(function(b){b(a)})},d.reject=function(a){return new d(function(b,c){c(a)})},d.race=function(a){return new d(function(b,c){for(var d=0,e=a.length;e>d;d++)a[d].then(b,c)})},d._setImmediateFn=function(a){l=a},d._setUnhandledRejectionFn=function(a){m=a},"undefined"!=typeof module&&module.exports?module.exports=d:a.Promise||(a.Promise=d)}(this),"undefined"==typeof WeakMap&&!function(){var a=Object.defineProperty,b=Date.now()%1e9,c=function(){this.name="__st"+(1e9*Math.random()>>>0)+(b++ +"__")};c.prototype={set:function(b,c){var d=b[this.name];return d&&d[0]===b?d[1]=c:a(b,this.name,{value:[b,c],writable:!0}),this},get:function(a){var b;return(b=a[this.name])&&b[0]===a?b[1]:void 0},delete:function(a){var b=a[this.name];return!(!b||b[0]!==a||(b[0]=b[1]=void 0,0))},has:function(a){var b=a[this.name];return!!b&&b[0]===a}},window.WeakMap=c}(),function(a){function b(a){u.push(a),t||(t=!0,p(d))}function c(a){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(a)||a}function d(){t=!1;var a=u;u=[],a.sort(function(a,b){return a.uid_-b.uid_});var b=!1;a.forEach(function(a){var c=a.takeRecords();e(a),c.length&&(a.callback_(c,a),b=!0)}),b&&d()}function e(a){a.nodes_.forEach(function(b){var c=q.get(b);c&&c.forEach(function(b){b.observer===a&&b.removeTransientObservers()})})}function f(a,b){for(var c=a;c;c=c.parentNode){var d=q.get(c);if(d)for(var e=0;e<d.length;e++){var f=d[e],g=f.options;if(c===a||g.subtree){var h=b(g);h&&f.enqueue(h)}}}}function g(a){this.callback_=a,this.nodes_=[],this.records_=[],this.uid_=++v}function h(a,b){this.type=a,this.target=b,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function i(a){var b=new h(a.type,a.target);return b.addedNodes=a.addedNodes.slice(),b.removedNodes=a.removedNodes.slice(),b.previousSibling=a.previousSibling,b.nextSibling=a.nextSibling,b.attributeName=a.attributeName,b.attributeNamespace=a.attributeNamespace,b.oldValue=a.oldValue,b}function j(a,b){return w=new h(a,b)}function k(a){return x?x:(x=i(w),x.oldValue=a,x)}function l(){w=x=void 0}function m(a){return a===x||a===w}function n(a,b){return a===b?a:x&&m(a)?x:null}function o(a,b,c){this.observer=a,this.target=b,this.options=c,this.transientObservedNodes=[]}if(!a.JsMutationObserver){var p,q=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))p=setTimeout;else if(window.setImmediate)p=window.setImmediate;else{var r=[],s=String(Math.random());window.addEventListener("message",function(a){if(a.data===s){var b=r;r=[],b.forEach(function(a){a()})}}),p=function(a){r.push(a),window.postMessage(s,"*")}}var t=!1,u=[],v=0;g.prototype={observe:function(a,b){if(a=c(a),!b.childList&&!b.attributes&&!b.characterData||b.attributeOldValue&&!b.attributes||b.attributeFilter&&b.attributeFilter.length&&!b.attributes||b.characterDataOldValue&&!b.characterData)throw new SyntaxError;var d=q.get(a);d||q.set(a,d=[]);for(var e,f=0;f<d.length;f++)if(d[f].observer===this){e=d[f],e.removeListeners(),e.options=b;break}e||(e=new o(this,a,b),d.push(e),this.nodes_.push(a)),e.addListeners()},disconnect:function(){this.nodes_.forEach(function(a){for(var b=q.get(a),c=0;c<b.length;c++){var d=b[c];if(d.observer===this){d.removeListeners(),b.splice(c,1);break}}},this),this.records_=[]},takeRecords:function(){var a=this.records_;return this.records_=[],a}};var w,x;o.prototype={enqueue:function(a){var c=this.observer.records_,d=c.length;if(c.length>0){var e=c[d-1],f=n(e,a);if(f)return void(c[d-1]=f)}else b(this.observer);c[d]=a},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(a){var b=this.options;b.attributes&&a.addEventListener("DOMAttrModified",this,!0),b.characterData&&a.addEventListener("DOMCharacterDataModified",this,!0),b.childList&&a.addEventListener("DOMNodeInserted",this,!0),(b.childList||b.subtree)&&a.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(a){var b=this.options;b.attributes&&a.removeEventListener("DOMAttrModified",this,!0),b.characterData&&a.removeEventListener("DOMCharacterDataModified",this,!0),b.childList&&a.removeEventListener("DOMNodeInserted",this,!0),(b.childList||b.subtree)&&a.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(a){if(a!==this.target){this.addListeners_(a),this.transientObservedNodes.push(a);var b=q.get(a);b||q.set(a,b=[]),b.push(this)}},removeTransientObservers:function(){var a=this.transientObservedNodes;this.transientObservedNodes=[],a.forEach(function(a){this.removeListeners_(a);for(var b=q.get(a),c=0;c<b.length;c++)if(b[c]===this){b.splice(c,1);break}},this)},handleEvent:function(a){switch(a.stopImmediatePropagation(),a.type){case"DOMAttrModified":var b=a.attrName,c=a.relatedNode.namespaceURI,d=a.target,e=new j("attributes",d);e.attributeName=b,e.attributeNamespace=c;var g=a.attrChange===MutationEvent.ADDITION?null:a.prevValue;f(d,function(a){return!a.attributes||a.attributeFilter&&a.attributeFilter.length&&-1===a.attributeFilter.indexOf(b)&&-1===a.attributeFilter.indexOf(c)?void 0:a.attributeOldValue?k(g):e});break;case"DOMCharacterDataModified":var d=a.target,e=j("characterData",d),g=a.prevValue;f(d,function(a){return a.characterData?a.characterDataOldValue?k(g):e:void 0;
});break;case"DOMNodeRemoved":this.addTransientObserver(a.target);case"DOMNodeInserted":var h,i,m=a.target;"DOMNodeInserted"===a.type?(h=[m],i=[]):(h=[],i=[m]);var n=m.previousSibling,o=m.nextSibling,e=j("childList",a.target.parentNode);e.addedNodes=h,e.removedNodes=i,e.previousSibling=n,e.nextSibling=o,f(a.relatedNode,function(a){return a.childList?e:void 0})}l()}},a.JsMutationObserver=g,a.MutationObserver||(a.MutationObserver=g,g._isPolyfilled=!0)}}(self),function(){"use strict";if(!window.performance){var a=Date.now();window.performance={now:function(){return Date.now()-a}}}window.requestAnimationFrame||(window.requestAnimationFrame=function(){var a=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return a?function(b){return a(function(){b(performance.now())})}:function(a){return window.setTimeout(a,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(){return window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(a){clearTimeout(a)}}());var b=function(){var a=document.createEvent("Event");return a.initEvent("foo",!0,!0),a.preventDefault(),a.defaultPrevented}();if(!b){var c=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(c.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var d=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||d&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(a,b){b=b||{};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,Boolean(b.bubbles),Boolean(b.cancelable),b.detail),c},window.CustomEvent.prototype=window.Event.prototype),!window.Event||d&&"function"!=typeof window.Event){var e=window.Event;window.Event=function(a,b){b=b||{};var c=document.createEvent("Event");return c.initEvent(a,Boolean(b.bubbles),Boolean(b.cancelable)),c},window.Event.prototype=e.prototype}}(window.WebComponents),window.CustomElements=window.CustomElements||{flags:{}},function(a){var b=a.flags,c=[],d=function(a){c.push(a)},e=function(){c.forEach(function(b){b(a)})};a.addModule=d,a.initializeModules=e,a.hasNative=Boolean(document.registerElement),a.isIE=/Trident/.test(navigator.userAgent),a.useNative=!b.register&&a.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule(function(a){function b(a,b){c(a,function(a){return!!b(a)||void d(a,b)}),d(a,b)}function c(a,b,d){var e=a.firstElementChild;if(!e)for(e=a.firstChild;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.nextSibling;for(;e;)b(e,d)!==!0&&c(e,b,d),e=e.nextElementSibling;return null}function d(a,c){for(var d=a.shadowRoot;d;)b(d,c),d=d.olderShadowRoot}function e(a,b){f(a,b,[])}function f(a,b,c){if(a=window.wrap(a),!(c.indexOf(a)>=0)){c.push(a);for(var d,e=a.querySelectorAll("link[rel="+g+"]"),h=0,i=e.length;i>h&&(d=e[h]);h++)d.import&&f(d.import,b,c);b(a)}}var g=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";a.forDocumentTree=e,a.forSubtree=b}),window.CustomElements.addModule(function(a){function b(a,b){return c(a,b)||d(a,b)}function c(b,c){return!!a.upgrade(b,c)||void(c&&g(b))}function d(a,b){t(a,function(a){return!!c(a,b)||void 0})}function e(a){x.push(a),w||(w=!0,setTimeout(f))}function f(){w=!1;for(var a,b=x,c=0,d=b.length;d>c&&(a=b[c]);c++)a();x=[]}function g(a){v?e(function(){h(a)}):h(a)}function h(a){a.__upgraded__&&!a.__attached&&(a.__attached=!0,a.attachedCallback&&a.attachedCallback())}function i(a){j(a),t(a,function(a){j(a)})}function j(a){v?e(function(){k(a)}):k(a)}function k(a){a.__upgraded__&&a.__attached&&(a.__attached=!1,a.detachedCallback&&a.detachedCallback())}function l(a){for(var b=a,c=window.wrap(document);b;){if(b==c)return!0;b=b.parentNode||b.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&b.host}}function m(a){if(a.shadowRoot&&!a.shadowRoot.__watched){s.dom&&console.log("watching shadow-root for: ",a.localName);for(var b=a.shadowRoot;b;)p(b),b=b.olderShadowRoot}}function n(a,c){if(s.dom){var d=c[0];if(d&&"childList"===d.type&&d.addedNodes&&d.addedNodes){for(var e=d.addedNodes[0];e&&e!==document&&!e.host;)e=e.parentNode;var f=e&&(e.URL||e._URL||e.host&&e.host.localName)||"";f=f.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",c.length,f||"")}var g=l(a);c.forEach(function(a){"childList"===a.type&&(y(a.addedNodes,function(a){a.localName&&b(a,g)}),y(a.removedNodes,function(a){a.localName&&i(a)}))}),s.dom&&console.groupEnd()}function o(a){for(a=window.wrap(a),a||(a=window.wrap(document));a.parentNode;)a=a.parentNode;var b=a.__observer;b&&(n(a,b.takeRecords()),f())}function p(a){if(!a.__observer){var b=new MutationObserver(n.bind(this,a));b.observe(a,{childList:!0,subtree:!0}),a.__observer=b}}function q(a){a=window.wrap(a),s.dom&&console.group("upgradeDocument: ",a.baseURI.split("/").pop());var c=a===window.wrap(document);b(a,c),p(a),s.dom&&console.groupEnd()}function r(a){u(a,q)}var s=a.flags,t=a.forSubtree,u=a.forDocumentTree,v=window.MutationObserver._isPolyfilled&&s["throttle-attached"];a.hasPolyfillMutations=v,a.hasThrottledAttached=v;var w=!1,x=[],y=Array.prototype.forEach.call.bind(Array.prototype.forEach),z=Element.prototype.createShadowRoot;z&&(Element.prototype.createShadowRoot=function(){var a=z.call(this);return window.CustomElements.watchShadow(this),a}),a.watchShadow=m,a.upgradeDocumentTree=r,a.upgradeDocument=q,a.upgradeSubtree=d,a.upgradeAll=b,a.attached=g,a.takeRecords=o}),window.CustomElements.addModule(function(a){function b(b,d){if("template"===b.localName&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(b),!b.__upgraded__&&b.nodeType===Node.ELEMENT_NODE){var e=b.getAttribute("is"),f=a.getRegisteredDefinition(b.localName)||a.getRegisteredDefinition(e);if(f&&(e&&f.tag==b.localName||!e&&!f.extends))return c(b,f,d)}}function c(b,c,e){return g.upgrade&&console.group("upgrade:",b.localName),c.is&&b.setAttribute("is",c.is),d(b,c),b.__upgraded__=!0,f(b),e&&a.attached(b),a.upgradeSubtree(b,e),g.upgrade&&console.groupEnd(),b}function d(a,b){Object.__proto__?a.__proto__=b.prototype:(e(a,b.prototype,b.native),a.__proto__=b.prototype)}function e(a,b,c){for(var d={},e=b;e!==c&&e!==HTMLElement.prototype;){for(var f,g=Object.getOwnPropertyNames(e),h=0;f=g[h];h++)d[f]||(Object.defineProperty(a,f,Object.getOwnPropertyDescriptor(e,f)),d[f]=1);e=Object.getPrototypeOf(e)}}function f(a){a.createdCallback&&a.createdCallback()}var g=a.flags;a.upgrade=b,a.upgradeWithDefinition=c,a.implementPrototype=d}),window.CustomElements.addModule(function(a){function b(b,d){var i=d||{};if(!b)throw new Error("document.registerElement: first argument `name` must not be empty");if(b.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(b)+"'.");if(e(b))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(b)+"'. The type name is invalid.");if(j(b))throw new Error("DuplicateDefinitionError: a type with name '"+String(b)+"' is already registered");return i.prototype||(i.prototype=Object.create(HTMLElement.prototype)),i.__name=b.toLowerCase(),i.extends&&(i.extends=i.extends.toLowerCase()),i.lifecycle=i.lifecycle||{},i.ancestry=f(i.extends),g(i),h(i),c(i.prototype),k(i.__name,i),i.ctor=l(i),i.ctor.prototype=i.prototype,i.prototype.constructor=i.ctor,a.ready&&q(document),i.ctor}function c(a){if(!a.setAttribute._polyfilled){var b=a.setAttribute;a.setAttribute=function(a,c){d.call(this,a,c,b)};var c=a.removeAttribute;a.removeAttribute=function(a){d.call(this,a,null,c)},a.setAttribute._polyfilled=!0}}function d(a,b,c){a=a.toLowerCase();var d=this.getAttribute(a);c.apply(this,arguments);var e=this.getAttribute(a);this.attributeChangedCallback&&e!==d&&this.attributeChangedCallback(a,d,e)}function e(a){for(var b=0;b<v.length;b++)if(a===v[b])return!0}function f(a){var b=j(a);return b?f(b.extends).concat([b]):[]}function g(a){for(var b,c=a.extends,d=0;b=a.ancestry[d];d++)c=b.is&&b.tag;a.tag=c||a.__name,c&&(a.is=a.__name)}function h(a){if(!Object.__proto__){var b=HTMLElement.prototype;if(a.is){var c=document.createElement(a.tag);b=Object.getPrototypeOf(c)}for(var d,e=a.prototype,f=!1;e;)e==b&&(f=!0),d=Object.getPrototypeOf(e),d&&(e.__proto__=d),e=d;f||console.warn(a.tag+" prototype not found in prototype chain for "+a.is),a.native=b}}function i(a){return s(y(a.tag),a)}function j(a){return a?w[a.toLowerCase()]:void 0}function k(a,b){w[a]=b}function l(a){return function(){return i(a)}}function m(a,b,c){return a===x?n(b,c):z(a,b)}function n(a,b){a&&(a=a.toLowerCase()),b&&(b=b.toLowerCase());var c=j(b||a);if(c){if(a==c.tag&&b==c.is)return new c.ctor;if(!b&&!c.is)return new c.ctor}var d;return b?(d=n(a),d.setAttribute("is",b),d):(d=y(a),a.indexOf("-")>=0&&t(d,HTMLElement),d)}function o(a,b){var c=a[b];a[b]=function(){var a=c.apply(this,arguments);return r(a),a}}var p,q=(a.isIE,a.upgradeDocumentTree),r=a.upgradeAll,s=a.upgradeWithDefinition,t=a.implementPrototype,u=a.useNative,v=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],w={},x="http://www.w3.org/1999/xhtml",y=document.createElement.bind(document),z=document.createElementNS.bind(document);p=Object.__proto__||u?function(a,b){return a instanceof b}:function(a,b){if(a instanceof b)return!0;for(var c=a;c;){if(c===b.prototype)return!0;c=c.__proto__}return!1},o(Node.prototype,"cloneNode"),o(document,"importNode"),document.registerElement=b,document.createElement=n,document.createElementNS=m,a.registry=w,a.instanceof=p,a.reservedTagList=v,a.getRegisteredDefinition=j,document.register=document.registerElement}),function(a){function b(){f(window.wrap(document)),window.CustomElements.ready=!0;var a=window.requestAnimationFrame||function(a){setTimeout(a,16)};a(function(){setTimeout(function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})})}var c=a.useNative,d=a.initializeModules;if(a.isIE,c){var e=function(){};a.watchShadow=e,a.upgrade=e,a.upgradeAll=e,a.upgradeDocumentTree=e,a.upgradeSubtree=e,a.takeRecords=e,a.instanceof=function(a,b){return a instanceof b}}else d();var f=a.upgradeDocumentTree,g=a.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(a){return a}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(a){a.import&&g(wrap(a.import))}),"complete"===document.readyState||a.flags.eager)b();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var h=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(h,b)}else b()}(window.CustomElements),function(){}.call(this),function(){this.Trix={VERSION:"0.9.7",ZERO_WIDTH_SPACE:"\ufeff",NON_BREAKING_SPACE:" ",OBJECT_REPLACEMENT_CHARACTER:"￼",config:{}}}.call(this),function(){Trix.BasicObject=function(){function a(){}var b,c,d;return a.proxyMethod=function(a){var d,e,f,g,h;return f=c(a),d=f.name,g=f.toMethod,h=f.toProperty,e=f.optional,this.prototype[d]=function(){var a,c;return a=null!=g?e?"function"==typeof this[g]?this[g]():void 0:this[g]():null!=h?this[h]:void 0,e?(c=null!=a?a[d]:void 0,null!=c?b.call(c,a,arguments):void 0):(c=a[d],b.call(c,a,arguments))}},c=function(a){var b,c;if(!(c=a.match(d)))throw new Error("can't parse @proxyMethod expression: "+a);return b={name:c[4]},null!=c[2]?b.toMethod=c[1]:b.toProperty=c[1],null!=c[3]&&(b.optional=!0),b},b=Function.prototype.apply,d=/^(.+?)(\(\))?(\?)?\.(.+?)$/,a}()}.call(this),function(){var a=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a},b={}.hasOwnProperty;Trix.Object=function(b){function c(){this.id=++d}var d;return a(c,b),d=0,c.fromJSONString=function(a){return this.fromJSON(JSON.parse(a))},c.prototype.hasSameConstructorAs=function(a){return this.constructor===(null!=a?a.constructor:void 0)},c.prototype.isEqualTo=function(a){return this===a},c.prototype.inspect=function(){var a,b,c;return a=function(){var a,d,e;d=null!=(a=this.contentsForInspection())?a:{},e=[];for(b in d)c=d[b],e.push(b+"="+c);return e}.call(this),"#<"+this.constructor.name+":"+this.id+(a.length?" "+a.join(", "):"")+">"},c.prototype.contentsForInspection=function(){},c.prototype.toJSONString=function(){return JSON.stringify(this)},c.prototype.toUTF16String=function(){return Trix.UTF16String.box(this)},c.prototype.getCacheKey=function(){return this.id.toString()},c}(Trix.BasicObject)}.call(this),function(){Trix.extend=function(a){var b,c;for(b in a)c=a[b],this[b]=c;return this}}.call(this),function(){var a,b;Trix.extend({defer:function(a){return setTimeout(a,1)},memoize:function(a){var c;return c=b++,function(){var b;return null==this.memos&&(this.memos={}),null!=(b=this.memos)[c]?b[c]:b[c]=a.apply(this,arguments)}}}),b=0,a=function(a){var b,c;return null!=(b=null!=(c=null!=a&&"function"==typeof a.inspect?a.inspect():void 0)?c:function(){try{return JSON.stringify(a)}catch(a){}}())?b:a}}.call(this),function(){var a,b;Trix.extend({normalizeSpaces:function(a){return a.replace(RegExp(""+Trix.ZERO_WIDTH_SPACE,"g"),"").replace(RegExp(""+Trix.NON_BREAKING_SPACE,"g")," ")},summarizeStringChange:function(a,c){var d,e,f,g;return a=Trix.UTF16String.box(a),c=Trix.UTF16String.box(c),c.length<a.length?(e=b(a,c),g=e[0],d=e[1]):(f=b(c,a),d=f[0],g=f[1]),{added:d,removed:g}}}),b=function(b,c){var d,e,f,g,h;return b.isEqualTo(c)?["",""]:(e=a(b,c),g=e.utf16String.length,f=g?(h=e.offset,d=b.codepoints.slice(0,h).concat(b.codepoints.slice(h+g)),a(c,Trix.UTF16String.fromCodepoints(d))):a(c,b),[e.utf16String.toString(),f.utf16String.toString()])},a=function(a,b){var c,d,e;for(c=0,d=a.length,e=b.length;d>c&&a.charAt(c).isEqualTo(b.charAt(c));)c++;for(;d>c+1&&a.charAt(d-1).isEqualTo(b.charAt(e-1));)d--,e--;return{utf16String:a.slice(c,d),offset:c}}}.call(this),function(){Trix.extend({copyObject:function(a){var b,c,d;null==a&&(a={}),c={};for(b in a)d=a[b],c[b]=d;return c},objectsAreEqual:function(a,b){var c,d;if(null==a&&(a={}),null==b&&(b={}),Object.keys(a).length!==Object.keys(b).length)return!1;for(c in a)if(d=a[c],d!==b[c])return!1;return!0}})}.call(this),function(){Trix.extend({arraysAreEqual:function(a,b){var c,d,e,f;if(null==a&&(a=[]),null==b&&(b=[]),a.length!==b.length)return!1;for(d=c=0,e=a.length;e>c;d=++c)if(f=a[d],f!==b[d])return!1;return!0},summarizeArrayChange:function(a,b){var c,d,e,f,g,h,i,j,k,l,m;for(null==a&&(a=[]),null==b&&(b=[]),c=[],l=[],e=new Set,f=0,i=a.length;i>f;f++)m=a[f],e.add(m);for(d=new Set,g=0,j=b.length;j>g;g++)m=b[g],d.add(m),e.has(m)||c.push(m);for(h=0,k=a.length;k>h;h++)m=a[h],d.has(m)||l.push(m);return{added:c,removed:l}}})}.call(this),function(){var a,b,c,d,e,f=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};a=document.documentElement,b=null!=(c=null!=(d=null!=(e=a.matchesSelector)?e:a.webkitMatchesSelector)?d:a.msMatchesSelector)?c:a.mozMatchesSelector,Trix.extend({handleEvent:function(b,c){var d,e,f,g,h,i,j,k,l,m,n,o;return k=null!=c?c:{},i=k.onElement,h=k.matchingSelector,o=k.withCallback,g=k.inPhase,j=k.preventDefault,m=k.times,e=null!=i?i:a,l=h,d=o,n="capturing"===g,f=function(a){var b;return null!=m&&0===--m&&f.destroy(),b=Trix.findClosestElementFromNode(a.target,{matchingSelector:l}),null!=b&&(null!=o&&o.call(b,a,b),j)?a.preventDefault():void 0},f.destroy=function(){return e.removeEventListener(b,f,n)},e.addEventListener(b,f,n),f},handleEventOnce:function(a,b){return null==b&&(b={}),b.times=1,Trix.handleEvent(a,b)},triggerEvent:function(b,c){var d,e,f,g,h,i,j;return j=null!=c?c:{},i=j.onElement,e=j.bubbles,f=j.cancelable,d=j.attributes,g=null!=i?i:a,e=e!==!1,f=f!==!1,h=document.createEvent("Events"),h.initEvent(b,e,f),null!=d&&Trix.extend.call(h,d),g.dispatchEvent(h)},elementMatchesSelector:function(a,c){return 1===(null!=a?a.nodeType:void 0)?b.call(a,c):void 0},findClosestElementFromNode:function(a,b){var c;for(c=(null!=b?b:{}).matchingSelector;null!=a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.parentNode;if(null!=a){if(null==c)return a;if(a.closest)return a.closest(c);for(;a;){if(Trix.elementMatchesSelector(a,c))return a;a=a.parentNode}}},findInnerElement:function(a){for(;null!=a?a.firstElementChild:void 0;)a=a.firstElementChild;return a},innerElementIsActive:function(a){return document.activeElement!==a&&Trix.elementContainsNode(a,document.activeElement)},elementContainsNode:function(a,b){if(a&&b)for(;b;){if(b===a)return!0;b=b.parentNode}},findNodeFromContainerAndOffset:function(a,b){var c;if(a)return a.nodeType===Node.TEXT_NODE?a:0===b?null!=(c=a.firstChild)?c:a:a.childNodes.item(b-1)},findElementFromContainerAndOffset:function(a,b){var c;return c=Trix.findNodeFromContainerAndOffset(a,b),Trix.findClosestElementFromNode(c)},findChildIndexOfNode:function(a){var b;if(null!=a?a.parentNode:void 0){for(b=0;a=a.previousSibling;)b++;return b}},measureElement:function(a){return{width:a.offsetWidth,height:a.offsetHeight}},walkTree:function(a,b){var c,d,e,f,g;return e=null!=b?b:{},d=e.onlyNodesOfType,f=e.usingFilter,c=e.expandEntityReferences,g=function(){switch(d){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}}(),document.createTreeWalker(a,g,null!=f?f:null,c===!0)},tagName:function(a){var b;return null!=a&&null!=(b=a.tagName)?b.toLowerCase():void 0},makeElement:function(a,b){var c,d,e,f,g,h,i,j,k,l;if(null==b&&(b={}),"object"==typeof a?(b=a,a=b.tagName):b={attributes:b},d=document.createElement(a),null!=b.editable&&(null==b.attributes&&(b.attributes={}),b.attributes.contenteditable=b.editable),b.attributes){h=b.attributes;for(f in h)l=h[f],d.setAttribute(f,l)}if(b.style){i=b.style;for(f in i)l=i[f],d.style[f]=l}if(b.data){j=b.data;for(f in j)l=j[f],d.dataset[f]=l}if(b.className)for(k=b.className.split(" "),e=0,g=k.length;g>e;e++)c=k[e],d.classList.add(c);return b.textContent&&(d.textContent=b.textContent),d},cloneFragment:function(a){var b,c,d,e,f;for(b=document.createDocumentFragment(),f=a.childNodes,c=0,d=f.length;d>c;c++)e=f[c],b.appendChild(e.cloneNode(!0));return b},makeFragment:function(a){var b,c,d;for(null==a&&(a=""),b=document.createElement("div"),b.innerHTML=a,c=document.createDocumentFragment();d=b.firstChild;)c.appendChild(d);return c},getBlockTagNames:function(){var a,b;return null!=Trix.blockTagNames?Trix.blockTagNames:Trix.blockTagNames=function(){var c,d;c=Trix.config.blockAttributes,d=[];for(a in c)b=c[a],d.push(b.tagName);return d}()},nodeIsBlockContainer:function(a){return Trix.nodeIsBlockStartComment(null!=a?a.firstChild:void 0)},nodeProbablyIsBlockContainer:function(a){var b,c;return b=Trix.tagName(a),f.call(Trix.getBlockTagNames(),b)>=0&&(c=Trix.tagName(a.firstChild),f.call(Trix.getBlockTagNames(),c)<0)},nodeIsBlockStart:function(a,b){var c;return c=(null!=b?b:{strict:!0}).strict,c?Trix.nodeIsBlockStartComment(a):Trix.nodeIsBlockStartComment(a)||!Trix.nodeIsBlockStartComment(a.firstChild)&&Trix.nodeProbablyIsBlockContainer(a)},nodeIsBlockStartComment:function(a){return Trix.nodeIsCommentNode(a)&&"block"===(null!=a?a.data:void 0)},nodeIsCommentNode:function(a){return(null!=a?a.nodeType:void 0)===Node.COMMENT_NODE},nodeIsCursorTarget:function(a){return a?Trix.nodeIsTextNode(a)?a.data===Trix.ZERO_WIDTH_SPACE:Trix.nodeIsCursorTarget(a.firstChild):void 0},nodeIsAttachmentElement:function(a){return Trix.elementMatchesSelector(a,Trix.AttachmentView.attachmentSelector)},nodeIsEmptyTextNode:function(a){return Trix.nodeIsTextNode(a)&&""===(null!=a?a.data:void 0)},nodeIsTextNode:function(a){return(null!=a?a.nodeType:void 0)===Node.TEXT_NODE}})}.call(this),function(){var a,b,c,d,e;a=Trix.copyObject,d=Trix.objectsAreEqual,Trix.extend({normalizeRange:c=function(a){var c;if(null!=a)return Array.isArray(a)||(a=[a,a]),[b(a[0]),b(null!=(c=a[1])?c:a[0])]},rangeIsCollapsed:function(a){var b,d,f;if(null!=a)return d=c(a),f=d[0],b=d[1],e(f,b)},rangesAreEqual:function(a,b){var d,f,g,h,i,j;if(null!=a&&null!=b)return g=c(a),f=g[0],d=g[1],h=c(b),j=h[0],i=h[1],e(f,j)&&e(d,i)}}),b=function(b){return"number"==typeof b?b:a(b)},e=function(a,b){return"number"==typeof a?a===b:d(a,b)}}.call(this),function(){var a,b,c,d;a={extendsTagName:"div",css:"%t { display: block; }"},Trix.registerElement=function(b,e){var f,g,h,i,j,k,l;return null==e&&(e={}),b=b.toLowerCase(),j=d(e),i=null!=(l=j.extendsTagName)?l:a.extendsTagName,delete j.extendsTagName,g=j.defaultCSS,delete j.defaultCSS,null!=g&&i===a.extendsTagName?g+="\n"+a.css:g=a.css,c(g,b),h=Object.getPrototypeOf(document.createElement(i)),h.__super__=h,k=Object.create(h,j),f=document.registerElement(b,{prototype:k}),Object.defineProperty(k,"constructor",{value:f}),f},c=function(a,c){var d;return d=b(c),d.textContent=a.replace(/%t/g,c)},b=function(a){var b;return b=document.createElement("style"),b.setAttribute("type","text/css"),b.setAttribute("data-tag-name",a.toLowerCase()),document.head.insertBefore(b,document.head.firstChild),b},d=function(a){var b,c,d;c={};for(b in a)d=a[b],c[b]="function"==typeof d?{value:d}:d;return c}}.call(this),function(){var a,b;Trix.extend({getDOMSelection:function(){var a;return a=window.getSelection(),a.rangeCount>0?a:void 0},getDOMRange:function(){var b,c;return(b=null!=(c=Trix.getDOMSelection())?c.getRangeAt(0):void 0)&&!a(b)?b:void 0},setDOMRange:function(a){var b;return b=window.getSelection(),b.removeAllRanges(),b.addRange(a),Trix.selectionChangeObserver.update()}}),a=function(a){return b(a.startContainer)||b(a.endContainer)},b=function(a){return!Object.getPrototypeOf(a)}}.call(this),function(){}.call(this),function(){var a,b=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},c={}.hasOwnProperty;a=Trix.arraysAreEqual,Trix.Hash=function(c){function d(a){null==a&&(a={}),this.values=f(a),d.__super__.constructor.apply(this,arguments)}var e,f,g,h,i;return b(d,c),d.fromCommonAttributesOfObjects=function(a){var b,c,d,f,g,h;if(null==a&&(a=[]),!a.length)return new this;for(b=e(a[0]),d=b.getKeys(),h=a.slice(1),c=0,f=h.length;f>c;c++)g=h[c],d=b.getKeysCommonToHash(e(g)),b=b.slice(d);return b},d.box=function(a){return e(a)},d.prototype.add=function(a,b){return this.merge(h(a,b))},d.prototype.remove=function(a){return new Trix.Hash(f(this.values,a))},d.prototype.get=function(a){return this.values[a]},d.prototype.has=function(a){return a in this.values},d.prototype.merge=function(a){return new Trix.Hash(g(this.values,i(a)))},d.prototype.slice=function(a){var b,c,d,e;for(e={},b=0,d=a.length;d>b;b++)c=a[b],this.has(c)&&(e[c]=this.values[c]);return new Trix.Hash(e)},d.prototype.getKeys=function(){return Object.keys(this.values)},d.prototype.getKeysCommonToHash=function(a){var b,c,d,f,g;for(a=e(a),f=this.getKeys(),g=[],b=0,d=f.length;d>b;b++)c=f[b],this.values[c]===a.values[c]&&g.push(c);return g},d.prototype.isEqualTo=function(b){return a(this.toArray(),e(b).toArray())},d.prototype.isEmpty=function(){return 0===this.getKeys().length},d.prototype.toArray=function(){var a,b,c;return(null!=this.array?this.array:this.array=function(){var d;b=[],d=this.values;for(a in d)c=d[a],b.push(a,c);return b}.call(this)).slice(0)},d.prototype.toObject=function(){return f(this.values)},d.prototype.toJSON=function(){return this.toObject()},d.prototype.contentsForInspection=function(){return{values:JSON.stringify(this.values)}},h=function(a,b){var c;return c={},c[a]=b,c},g=function(a,b){var c,d,e;d=f(a);for(c in b)e=b[c],d[c]=e;return d},f=function(a,b){var c,d,e,f,g;for(f={},g=Object.keys(a).sort(),c=0,e=g.length;e>c;c++)d=g[c],d!==b&&(f[d]=a[d]);return f},e=function(a){return a instanceof Trix.Hash?a:new Trix.Hash(a)},i=function(a){return a instanceof Trix.Hash?a.values:a},d}(Trix.Object)}.call(this),function(){Trix.ObjectGroup=function(){function a(a,b){var c,d;this.objects=null!=a?a:[],d=b.depth,c=b.asTree,c&&(this.depth=d,this.objects=this.constructor.groupObjects(this.objects,{asTree:c,depth:this.depth+1}))}return a.groupObjects=function(a,b){var c,d,e,f,g,h,i,j,k;for(null==a&&(a=[]),k=null!=b?b:{},e=k.depth,c=k.asTree,c&&null==e&&(e=0),j=[],g=0,h=a.length;h>g;g++){if(i=a[g],f){if(("function"==typeof i.canBeGrouped?i.canBeGrouped(e):void 0)&&("function"==typeof(d=f[f.length-1]).canBeGroupedWith?d.canBeGroupedWith(i,e):void 0)){f.push(i);continue}j.push(new this(f,{depth:e,asTree:c})),f=null}("function"==typeof i.canBeGrouped?i.canBeGrouped(e):void 0)?f=[i]:j.push(i)}return f&&j.push(new this(f,{depth:e,asTree:c})),j},a.prototype.getObjects=function(){return this.objects},a.prototype.getDepth=function(){return this.depth},a.prototype.getCacheKey=function(){var a,b,c,d,e;for(b=["objectGroup"],e=this.getObjects(),a=0,c=e.length;c>a;a++)d=e[a],b.push(d.getCacheKey());return b.join("/")},a}()}.call(this),function(){var a=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a},b={}.hasOwnProperty;Trix.ObjectMap=function(b){function c(a){var b,c,d,e,f;for(null==a&&(a=[]),this.objects={},d=0,e=a.length;e>d;d++)f=a[d],c=JSON.stringify(f),null==(b=this.objects)[c]&&(b[c]=f)}return a(c,b),c.prototype.find=function(a){var b;return b=JSON.stringify(a),this.objects[b]},c}(Trix.BasicObject)}.call(this),function(){Trix.ElementStore=function(){function a(a){this.reset(a)}var b;return a.prototype.add=function(a){var c;return c=b(a),this.elements[c]=a},a.prototype.remove=function(a){var c,d;return c=b(a),(d=this.elements[c])?(delete this.elements[c],d):void 0},a.prototype.reset=function(a){var b,c,d;for(null==a&&(a=[]),this.elements={},c=0,d=a.length;d>c;c++)b=a[c],this.add(b);return a},b=function(a){return a.dataset.trixStoreKey},a}()}.call(this),function(){}.call(this),function(){var a=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a},b={}.hasOwnProperty;Trix.Operation=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return a(c,b),c.prototype.isPerforming=function(){return this.performing===!0},c.prototype.hasPerformed=function(){return this.performed===!0},c.prototype.hasSucceeded=function(){return this.performed&&this.succeeded},c.prototype.hasFailed=function(){return this.performed&&!this.succeeded},c.prototype.getPromise=function(){return null!=this.promise?this.promise:this.promise=new Promise(function(a){return function(b,c){return a.performing=!0,a.perform(function(d,e){return a.succeeded=d,a.performing=!1,a.performed=!0,a.succeeded?b(e):c(e)})}}(this))},c.prototype.perform=function(a){return a(!1)},c.prototype.release=function(){var a;return null!=(a=this.promise)&&"function"==typeof a.cancel&&a.cancel(),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null},c.proxyMethod("getPromise().then"),c.proxyMethod("getPromise().catch"),c}(Trix.BasicObject)}.call(this),function(){var a,b,c,d,e,f=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},g={}.hasOwnProperty;Trix.UTF16String=function(a){function b(a,b){this.ucs2String=a,this.codepoints=b,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}return f(b,a),b.box=function(a){return null==a&&(a=""),a instanceof this?a:this.fromUCS2String(null!=a?a.toString():void 0)},b.fromUCS2String=function(a){return new this(a,d(a))},b.fromCodepoints=function(a){return new this(e(a),a)},b.prototype.offsetToUCS2Offset=function(a){return e(this.codepoints.slice(0,Math.max(0,a))).length},b.prototype.offsetFromUCS2Offset=function(a){return d(this.ucs2String.slice(0,Math.max(0,a))).length},b.prototype.slice=function(){var a;return this.constructor.fromCodepoints((a=this.codepoints).slice.apply(a,arguments))},b.prototype.charAt=function(a){return this.slice(a,a+1)},b.prototype.isEqualTo=function(a){return this.constructor.box(a).ucs2String===this.ucs2String},b.prototype.toJSON=function(){return this.ucs2String},b.prototype.getCacheKey=function(){return this.ucs2String},b.prototype.toString=function(){return this.ucs2String},b}(Trix.BasicObject),a=1===("function"==typeof Array.from?Array.from("👼").length:void 0),b=null!=("function"==typeof" ".codePointAt?" ".codePointAt(0):void 0),c=" 👼"===("function"==typeof String.fromCodePoint?String.fromCodePoint(32,128124):void 0),d=a&&b?function(a){return Array.from(a).map(function(a){return a.codePointAt(0)})}:function(a){var b,c,d,e,f;for(e=[],b=0,d=a.length;d>b;)f=a.charCodeAt(b++),f>=55296&&56319>=f&&d>b&&(c=a.charCodeAt(b++),56320===(64512&c)?f=((1023&f)<<10)+(1023&c)+65536:b--),e.push(f);return e},e=c?function(a){return String.fromCodePoint.apply(String,a)}:function(a){var b,c,d;return b=function(){var b,e,f;for(f=[],b=0,e=a.length;e>b;b++)d=a[b],c="",d>65535&&(d-=65536,c+=String.fromCharCode(d>>>10&1023|55296),d=56320|1023&d),f.push(c+String.fromCharCode(d));return f}(),b.join("")}}.call(this),function(){}.call(this),function(){}.call(this),function(){Trix.config.lang={bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Type a caption here…",captionPrompt:"Add a caption…",code:"Code",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",urlPlaceholder:"Enter a URL…",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"}}.call(this),function(){Trix.config.css={classNames:{attachment:{container:"attachment",typePrefix:"attachment-",caption:"caption",captionEdited:"caption-edited",captionEditor:"caption-editor",editingCaption:"caption-editing",progressBar:"progress",removeButton:"remove",size:"size"}}}}.call(this),function(){var a;Trix.config.blockAttributes=a={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},code:{tagName:"pre",text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",test:function(b){return Trix.tagName(b.parentNode)===a[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",test:function(b){return Trix.tagName(b.parentNode)===a[this.listAttribute].tagName}}}}.call(this),function(){var a,b;a=Trix.config.lang,b=[a.bytes,a.KB,a.MB,a.GB,a.TB,a.PB],Trix.config.fileSize={prefix:"IEC",precision:2,formatter:function(c){var d,e,f,g,h;switch(c){case 0:return"0 "+a.bytes;case 1:return"1 "+a.byte;default:return d=function(){switch(this.prefix){case"SI":return 1e3;case"IEC":return 1024}}.call(this),e=Math.floor(Math.log(c)/Math.log(d)),f=c/Math.pow(d,e),g=f.toFixed(this.precision),h=g.replace(/0*$/,"").replace(/\.$/,""),h+" "+b[e]}}}}.call(this),function(){Trix.config.textAttributes={bold:{tagName:"strong",inheritable:!0,parser:function(a){var b;return b=window.getComputedStyle(a),"bold"===b.fontWeight||b.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:function(a){var b;return b=window.getComputedStyle(a),"italic"===b.fontStyle}},href:{groupTagName:"a",parser:function(a){var b,c,d;return b=Trix.AttachmentView.attachmentSelector,d="a:not("+b+")",(c=Trix.findClosestElementFromNode(a,{matchingSelector:d}))?c.getAttribute("href"):void 0}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}}}.call(this),function(){var a,b,c,d,e;e="[data-trix-serialize=false]",d=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable"],
b="data-trix-serialized-attributes",c="["+b+"]",a=new RegExp("<!--block-->","g"),Trix.extend({serializers:{"application/json":function(a){var b;if(a instanceof Trix.Document)b=a;else{if(!(a instanceof HTMLElement))throw new Error("unserializable object");b=Trix.Document.fromHTML(a.innerHTML)}return b.toSerializableDocument().toJSONString()},"text/html":function(f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;if(f instanceof Trix.Document)j=Trix.DocumentView.render(f);else{if(!(f instanceof HTMLElement))throw new Error("unserializable object");j=f.cloneNode(!0)}for(t=j.querySelectorAll(e),k=0,o=t.length;o>k;k++)i=t[k],i.parentNode.removeChild(i);for(l=0,p=d.length;p>l;l++)for(g=d[l],u=j.querySelectorAll("["+g+"]"),m=0,q=u.length;q>m;m++)i=u[m],i.removeAttribute(g);for(v=j.querySelectorAll(c),n=0,r=v.length;r>n;n++){i=v[n];try{h=JSON.parse(i.getAttribute(b)),i.removeAttribute(b);for(s in h)w=h[s],i.setAttribute(s,w)}catch(a){}}return j.innerHTML.replace(a,"")}},deserializers:{"application/json":function(a){return Trix.Document.fromJSONString(a)},"text/html":function(a){return Trix.Document.fromHTML(a)}},serializeToContentType:function(a,b){var c;if(c=Trix.serializers[b])return c(a);throw new Error("unknown content type: "+b)},deserializeFromContentType:function(a,b){var c;if(c=Trix.deserializers[b])return c(a);throw new Error("unknown content type: "+b)}})}.call(this),function(){var a,b;b=Trix.makeFragment,a=Trix.config.lang,Trix.config.toolbar={content:b('<div class="button_groups">\n  <span class="button_group text_tools">\n    <button type="button" class="bold" data-trix-attribute="bold" data-trix-key="b" title="'+a.bold+'">'+a.bold+'</button>\n    <button type="button" class="italic" data-trix-attribute="italic" data-trix-key="i" title="'+a.italic+'">'+a.italic+'</button>\n    <button type="button" class="strike" data-trix-attribute="strike" title="'+a.strike+'">'+a.strike+'</button>\n    <button type="button" class="link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="'+a.link+'">'+a.link+'</button>\n  </span>\n\n  <span class="button_group block_tools">\n    <button type="button" class="quote" data-trix-attribute="quote" title="'+a.quote+'">'+a.quote+'</button>\n    <button type="button" class="code" data-trix-attribute="code" title="'+a.code+'">'+a.code+'</button>\n    <button type="button" class="list bullets" data-trix-attribute="bullet" title="'+a.bullets+'">'+a.bullets+'</button>\n    <button type="button" class="list numbers" data-trix-attribute="number" title="'+a.numbers+'">'+a.numbers+'</button>\n    <button type="button" class="block-level decrease" data-trix-action="decreaseBlockLevel" title="'+a.outdent+'">'+a.outdent+'</button>\n    <button type="button" class="block-level increase" data-trix-action="increaseBlockLevel" title="'+a.indent+'">'+a.indent+'</button>\n  </span>\n\n  <span class="button_group history_tools">\n    <button type="button" class="undo" data-trix-action="undo" data-trix-key="z" title="'+a.undo+'">'+a.undo+'</button>\n    <button type="button" class="redo" data-trix-action="redo" data-trix-key="shift+z" title="'+a.redo+'">'+a.redo+'</button>\n  </span>\n</div>\n\n<div class="dialogs">\n  <div class="dialog link_dialog" data-trix-attribute="href" data-trix-dialog="href">\n    <div class="link_url_fields">\n      <input type="url" required name="href" placeholder="'+a.urlPlaceholder+'">\n      <div class="button_group">\n        <input type="button" value="'+a.link+'" data-trix-method="setAttribute">\n        <input type="button" value="'+a.unlink+'" data-trix-method="removeAttribute">\n      </div>\n    </div>\n  </div>\n</div>')}}.call(this),function(){Trix.config.undoInterval=5e3}.call(this),function(){var a,b,c;b=Trix.makeElement,a=Trix.defer,c={cursorTarget:b({tagName:"span",textContent:Trix.ZERO_WIDTH_SPACE,data:{trixSelection:!0,trixCursorTarget:!0,trixSerialize:!1}})},Trix.extend({selectionElements:{selector:"[data-trix-selection]",cssText:"font-size: 0 !important;\npadding: 0 !important;\nmargin: 0 !important;\nborder: none !important;",create:function(a){return c[a].cloneNode(!0)}}})}.call(this),function(){}.call(this),function(){var a;a=Trix.cloneFragment,Trix.registerElement("trix-toolbar",{defaultCSS:"%t {\n  white-space: collapse;\n}\n\n%t .dialog {\n  display: none;\n}\n\n%t .dialog.active {\n  display: block;\n}\n\n%t .dialog input.validate:invalid {\n  background-color: #ffdddd;\n}\n\n%t[native] {\n  display: none;\n}",createdCallback:function(){return""===this.innerHTML?this.appendChild(a(Trix.config.toolbar.content)):void 0}})}.call(this),function(){var a=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a},b={}.hasOwnProperty,c=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};Trix.ObjectView=function(b){function d(a,b){this.object=a,this.options=null!=b?b:{},this.childViews=[],this.rootView=this}return a(d,b),d.prototype.getNodes=function(){var a,b,c,d,e;for(null==this.nodes&&(this.nodes=this.createNodes()),d=this.nodes,e=[],a=0,b=d.length;b>a;a++)c=d[a],e.push(c.cloneNode(!0));return e},d.prototype.invalidate=function(){var a;return this.nodes=null,null!=(a=this.parentView)?a.invalidate():void 0},d.prototype.invalidateViewForObject=function(a){var b;return null!=(b=this.findViewForObject(a))?b.invalidate():void 0},d.prototype.findOrCreateCachedChildView=function(a,b){var c;return(c=this.getCachedViewForObject(b))?this.recordChildView(c):(c=this.createChildView.apply(this,arguments),this.cacheViewForObject(c,b)),c},d.prototype.createChildView=function(a,b,c){var d;return null==c&&(c={}),b instanceof Trix.ObjectGroup&&(c.viewClass=a,a=Trix.ObjectGroupView),d=new a(b,c),this.recordChildView(d)},d.prototype.recordChildView=function(a){return a.parentView=this,a.rootView=this.rootView,this.childViews.push(a),a},d.prototype.getAllChildViews=function(){var a,b,c,d,e;for(e=[],d=this.childViews,b=0,c=d.length;c>b;b++)a=d[b],e.push(a),e=e.concat(a.getAllChildViews());return e},d.prototype.findElement=function(){return this.findElementForObject(this.object)},d.prototype.findElementForObject=function(a){var b;return(b=null!=a?a.id:void 0)?this.rootView.element.querySelector("[data-trix-id='"+b+"']"):void 0},d.prototype.findViewForObject=function(a){var b,c,d,e;for(d=this.getAllChildViews(),b=0,c=d.length;c>b;b++)if(e=d[b],e.object===a)return e},d.prototype.getViewCache=function(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?null!=this.viewCache?this.viewCache:this.viewCache={}:void 0},d.prototype.isViewCachingEnabled=function(){return this.shouldCacheViews!==!1},d.prototype.enableViewCaching=function(){return this.shouldCacheViews=!0},d.prototype.disableViewCaching=function(){return this.shouldCacheViews=!1},d.prototype.getCachedViewForObject=function(a){var b;return null!=(b=this.getViewCache())?b[a.getCacheKey()]:void 0},d.prototype.cacheViewForObject=function(a,b){var c;return null!=(c=this.getViewCache())?c[b.getCacheKey()]=a:void 0},d.prototype.garbageCollectCachedViews=function(){var a,b,d,e,f,g;if(a=this.getViewCache()){g=this.getAllChildViews().concat(this),d=function(){var a,b,c;for(c=[],a=0,b=g.length;b>a;a++)f=g[a],c.push(f.object.getCacheKey());return c}(),e=[];for(b in a)c.call(d,b)<0&&e.push(delete a[b]);return e}},d}(Trix.BasicObject)}.call(this),function(){var a=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a},b={}.hasOwnProperty;Trix.ObjectGroupView=function(b){function c(){c.__super__.constructor.apply(this,arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}return a(c,b),c.prototype.getChildViews=function(){var a,b,c,d;if(!this.childViews.length)for(d=this.objectGroup.getObjects(),a=0,b=d.length;b>a;a++)c=d[a],this.findOrCreateCachedChildView(this.viewClass,c,this.options);return this.childViews},c.prototype.createNodes=function(){var a,b,c,d,e,f,g,h,i;for(a=this.createContainerElement(),g=this.getChildViews(),b=0,d=g.length;d>b;b++)for(i=g[b],h=i.getNodes(),c=0,e=h.length;e>c;c++)f=h[c],a.appendChild(f);return[a]},c.prototype.createContainerElement=function(a){return null==a&&(a=this.objectGroup.getDepth()),this.getChildViews()[0].createContainerElement(a)},c}(Trix.ObjectView)}.call(this),function(){var a=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a},b={}.hasOwnProperty;Trix.Controller=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return a(c,b),c}(Trix.BasicObject)}.call(this),function(){var a,b,c,d,e,f,g=function(a,b){return function(){return a.apply(b,arguments)}},h=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},i={}.hasOwnProperty,j=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};a=Trix.defer,b=Trix.findClosestElementFromNode,c=Trix.nodeIsEmptyTextNode,d=Trix.normalizeSpaces,e=Trix.summarizeStringChange,f=Trix.tagName,Trix.MutationObserver=function(a){function i(a){this.element=a,this.didMutate=g(this.didMutate,this),this.observer=new window.MutationObserver(this.didMutate),this.start()}var k,l,m,n;return h(i,a),l="data-trix-mutable",m="["+l+"]",n={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},i.prototype.start=function(){return this.reset(),this.observer.observe(this.element,n)},i.prototype.stop=function(){return this.observer.disconnect()},i.prototype.didMutate=function(a){var b,c;return(b=this.mutations).push.apply(b,this.findSignificantMutations(a)),this.mutations.length?(null!=(c=this.delegate)&&"function"==typeof c.elementDidMutate&&c.elementDidMutate(this.getMutationSummary()),this.reset()):void 0},i.prototype.reset=function(){return this.mutations=[]},i.prototype.findSignificantMutations=function(a){var b,c,d,e;for(e=[],b=0,c=a.length;c>b;b++)d=a[b],this.mutationIsSignificant(d)&&e.push(d);return e},i.prototype.mutationIsSignificant=function(a){var b,c,d,e;for(e=this.nodesModifiedByMutation(a),b=0,c=e.length;c>b;b++)if(d=e[b],this.nodeIsSignificant(d))return!0;return!1},i.prototype.nodeIsSignificant=function(a){return a!==this.element&&!this.nodeIsMutable(a)&&!c(a)},i.prototype.nodeIsMutable=function(a){return b(a,{matchingSelector:m})},i.prototype.nodesModifiedByMutation=function(a){var b;switch(b=[],a.type){case"attributes":a.attributeName!==l&&b.push(a.target);break;case"characterData":b.push(a.target.parentNode),b.push(a.target);break;case"childList":b.push.apply(b,a.addedNodes),b.push.apply(b,a.removedNodes)}return b},i.prototype.getMutationSummary=function(){return this.getTextMutationSummary()},i.prototype.getTextMutationSummary=function(){var a,b,c,d,e,f,g,h,i,k,l;for(h=this.getTextChangesFromCharacterData(),c=h.additions,e=h.deletions,l=this.getTextChangesFromChildList(),i=l.additions,f=0,g=i.length;g>f;f++)b=i[f],j.call(c,b)<0&&c.push(b);return e.push.apply(e,l.deletions),k={},(a=c.join(""))&&(k.textAdded=a),(d=e.join(""))&&(k.textDeleted=d),k},i.prototype.getMutationsByType=function(a){var b,c,d,e,f;for(e=this.mutations,f=[],b=0,c=e.length;c>b;b++)d=e[b],d.type===a&&f.push(d);return f},i.prototype.getTextChangesFromChildList=function(){var a,b,c,e,f,g,h,i,j,l;for(j=[],l=[],f=this.getMutationsByType("childList"),b=0,e=f.length;e>b;b++)g=f[b],a=g.addedNodes,h=g.removedNodes,j.push.apply(j,k(a)),l.push.apply(l,k(h));return{additions:function(){var a,b,e;for(e=[],c=a=0,b=j.length;b>a;c=++a)i=j[c],i!==l[c]&&e.push(d(i));return e}(),deletions:function(){var a,b,e;for(e=[],c=a=0,b=l.length;b>a;c=++a)i=l[c],i!==j[c]&&e.push(d(i));return e}()}},i.prototype.getTextChangesFromCharacterData=function(){var a,b,c,f,g,h,i,j;return b=this.getMutationsByType("characterData"),b.length&&(j=b[0],c=b[b.length-1],g=d(j.oldValue),f=d(c.target.data),h=e(g,f),a=h.added,i=h.removed),{additions:a?[a]:[],deletions:i?[i]:[]}},k=function(a){var b,c,d,e;for(null==a&&(a=[]),e=[],b=0,c=a.length;c>b;b++)switch(d=a[b],d.nodeType){case Node.TEXT_NODE:e.push(d.data);break;case Node.ELEMENT_NODE:"br"===f(d)&&e.push("\n")}return e},i}(Trix.BasicObject)}.call(this),function(){var a=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a},b={}.hasOwnProperty;Trix.FileVerificationOperation=function(b){function c(a){this.file=a}return a(c,b),c.prototype.perform=function(a){var b;return b=new FileReader,b.onerror=function(){return a(!1)},b.onload=function(c){return function(){b.onerror=null;try{b.abort()}catch(a){}return a(!0,c.file)}}(this),b.readAsArrayBuffer(this.file)},c}(Trix.Operation)}.call(this),function(){var a=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a},b={}.hasOwnProperty;Trix.CompositionInputController=function(b){function c(a){var b;this.inputController=a,b=this.inputController,this.responder=b.responder,this.delegate=b.delegate,this.inputSummary=b.inputSummary,this.data={}}return a(c,b),c.prototype.start=function(a){var b,c;return this.data.start=a,"keypress"===this.inputSummary.eventName&&this.inputSummary.textAdded&&null!=(b=this.responder)&&b.deleteInDirection("left"),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=null!=(c=this.responder)?c.getSelectedRange():void 0},c.prototype.update=function(a){var b;return this.data.update=a,(b=this.selectPlaceholder())?(this.forgetPlaceholder(),this.range=b):void 0},c.prototype.end=function(a){var b,c,d;return this.data.end=a,this.forgetPlaceholder(),this.canApplyToDocument()?(null!=(b=this.delegate)&&b.inputControllerWillPerformTyping(),null!=(c=this.responder)&&c.setSelectedRange(this.range),null!=(d=this.responder)&&d.insertString(this.data.end),this.setInputSummary({preferDocument:!0}),this.setFinalSelection()):null!=this.data.start||null!=this.data.update?(this.requestReparse(),this.inputController.reset()):void 0},c.prototype.canApplyToDocument=function(){var a,b;return 0===(null!=(a=this.data.start)?a.length:void 0)&&(null!=(b=this.data.end)?b.length:void 0)>0&&null!=this.range},c.prototype.setFinalSelection=function(){return null!=this.data.end&&this.data.end===this.data.update?this.unlessMutationOccurs(function(a){return function(){var b;return a.selectionIsExpanded()?(null!=(b=a.responder)&&b.setSelection(a.range[0]+a.data.end.length),a.requestRender()):void 0}}(this)):void 0},c.proxyMethod("inputController.setInputSummary"),c.proxyMethod("inputController.requestRender"),c.proxyMethod("inputController.requestReparse"),c.proxyMethod("inputController.unlessMutationOccurs"),c.proxyMethod("responder?.selectionIsExpanded"),c.proxyMethod("responder?.insertPlaceholder"),c.proxyMethod("responder?.selectPlaceholder"),c.proxyMethod("responder?.forgetPlaceholder"),c}(Trix.BasicObject)}.call(this),function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p=function(a,b){function c(){this.constructor=a}for(var d in b)q.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},q={}.hasOwnProperty,r=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};f=Trix.handleEvent,d=Trix.findClosestElementFromNode,e=Trix.findElementFromContainerAndOffset,b=Trix.defer,k=Trix.makeElement,g=Trix.innerElementIsActive,n=Trix.summarizeStringChange,l=Trix.objectsAreEqual,Trix.InputController=function(d){function e(a){var b;this.element=a,this.resetInputSummary(),this.mutationCount=0,this.mutationObserver=new Trix.MutationObserver(this.element),this.mutationObserver.delegate=this;for(b in this.events)f(b,{onElement:this.element,withCallback:this.handlerFor(b),inPhase:"capturing"})}var n;return p(e,d),n=0,e.keyNames={8:"backspace",9:"tab",13:"return",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},e.prototype.handlerFor=function(a){return function(b){return function(c){return b.handleInput(function(){return g(this.element)?void 0:(this.eventName=a,this.events[a].call(this,c))})}}(this)},e.prototype.setInputSummary=function(a){var b,c;null==a&&(a={}),this.inputSummary.eventName=this.eventName;for(b in a)c=a[b],this.inputSummary[b]=c;return this.inputSummary},e.prototype.resetInputSummary=function(){return this.inputSummary={}},e.prototype.reset=function(){return this.resetInputSummary(),Trix.selectionChangeObserver.reset()},e.prototype.editorWillSyncDocumentView=function(){return this.mutationObserver.stop()},e.prototype.editorDidSyncDocumentView=function(){return this.mutationObserver.start()},e.prototype.requestRender=function(){var a;return null!=(a=this.delegate)&&"function"==typeof a.inputControllerDidRequestRender?a.inputControllerDidRequestRender():void 0},e.prototype.requestReparse=function(){var a;return null!=(a=this.delegate)&&"function"==typeof a.inputControllerDidRequestReparse&&a.inputControllerDidRequestReparse(),this.requestRender()},e.prototype.elementDidMutate=function(a){return this.mutationCount++,this.isComposing()?void 0:this.handleInput(function(){return this.mutationIsExpected(a)?this.requestRender():this.requestReparse(),this.reset()})},e.prototype.mutationIsExpected=function(a){var b,c;return this.inputSummary?null!=this.inputSummary.preferDocument?this.inputSummary.preferDocument:(b=a.textAdded!==this.inputSummary.textAdded,c=null!=a.textDeleted&&!this.inputSummary.didDelete,!(b||c)):void 0},e.prototype.unlessMutationOccurs=function(a){var c;return c=this.mutationCount,b(function(b){return function(){return c===b.mutationCount?a():void 0}}(this))},e.prototype.attachFiles=function(a){var b,c;return c=function(){var c,d,e;for(e=[],c=0,d=a.length;d>c;c++)b=a[c],e.push(new Trix.FileVerificationOperation(b));return e}(),Promise.all(c).then(function(a){return function(c){return a.handleInput(function(){var a,d,e,f;for(null!=(e=this.delegate)&&e.inputControllerWillAttachFiles(),a=0,d=c.length;d>a;a++)b=c[a],null!=(f=this.responder)&&f.insertFile(b);return this.requestRender()})}}(this))},e.prototype.events={keydown:function(a){var b,c,d,e,f,g,i,j,k;if(this.isComposing()||this.resetInputSummary(),e=this.constructor.keyNames[a.keyCode]){for(c=this.keys,j=["ctrl","alt","shift","meta"],d=0,g=j.length;g>d;d++)i=j[d],a[i+"Key"]&&("ctrl"===i&&(i="control"),c=null!=c?c[i]:void 0);null!=(null!=c?c[e]:void 0)&&(this.setInputSummary({keyName:e}),Trix.selectionChangeObserver.reset(),c[e].call(this,a))}return h(a)&&(b=String.fromCharCode(a.keyCode).toLowerCase())&&(f=function(){var b,c,d,e;for(d=["alt","shift"],e=[],b=0,c=d.length;c>b;b++)i=d[b],a[i+"Key"]&&e.push(i);return e}(),f.push(b),null!=(k=this.delegate)?k.inputControllerDidReceiveKeyboardCommand(f):void 0)?a.preventDefault():void 0},keypress:function(a){var b,c,d;if(null==this.inputSummary.eventName&&(!a.metaKey&&!a.ctrlKey||a.altKey)&&!j(a)&&!i(a))return null===a.which?b=String.fromCharCode(a.keyCode):0!==a.which&&0!==a.charCode&&(b=String.fromCharCode(a.charCode)),null!=b?(null!=(c=this.delegate)&&c.inputControllerWillPerformTyping(),null!=(d=this.responder)&&d.insertString(b),this.setInputSummary({textAdded:b,didDelete:this.selectionIsExpanded()})):void 0},dragenter:function(a){return a.preventDefault()},dragstart:function(a){var b,c,d;return d=a.target,this.serializeSelectionToDataTransfer(a.dataTransfer),this.draggedRange=null!=(b=this.responder)?b.getSelectedRange():void 0,null!=(c=this.delegate)&&"function"==typeof c.inputControllerDidStartDrag?c.inputControllerDidStartDrag():void 0},dragover:function(a){var b,c;return!this.draggedRange&&!this.canAcceptDataTransfer(a.dataTransfer)||(a.preventDefault(),b={x:a.clientX,y:a.clientY},l(b,this.draggingPoint))?void 0:(this.draggingPoint=b,null!=(c=this.delegate)&&"function"==typeof c.inputControllerDidReceiveDragOverPoint?c.inputControllerDidReceiveDragOverPoint(this.draggingPoint):void 0)},dragend:function(){var a;return null!=(a=this.delegate)&&"function"==typeof a.inputControllerDidCancelDrag&&a.inputControllerDidCancelDrag(),this.draggedRange=null,this.draggingPoint=null},drop:function(a){var b,c,d,e,f,g,h,i,j;return a.preventDefault(),d=null!=(f=a.dataTransfer)?f.files:void 0,e={x:a.clientX,y:a.clientY},null!=(g=this.responder)&&g.setLocationRangeFromPointRange(e),(null!=d?d.length:void 0)?this.attachFiles(d):this.draggedRange?(null!=(h=this.delegate)&&h.inputControllerWillMoveText(),null!=(i=this.responder)&&i.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()):(c=a.dataTransfer.getData("application/x-trix-document"))&&(b=Trix.Document.fromJSONString(c),null!=(j=this.responder)&&j.insertDocument(b),this.requestRender()),this.draggedRange=null,this.draggingPoint=null},cut:function(a){var b;return this.serializeSelectionToDataTransfer(a.clipboardData)&&a.preventDefault(),null!=(b=this.delegate)&&b.inputControllerWillCutText(),this.deleteInDirection("backward"),a.defaultPrevented?this.requestRender():void 0},copy:function(a){return this.serializeSelectionToDataTransfer(a.clipboardData)?a.preventDefault():void 0},paste:function(a){var b,d,e,f,g,h,i,j,k,l,o,p,q,s,t,u,v,w,x,y,z,A;return g=null!=(i=a.clipboardData)?i:a.testClipboardData,h={paste:g},null==g||m(a)?void this.getPastedHTMLUsingHiddenElement(function(a){return function(b){var c,d,e;return h.html=b,null!=(c=a.delegate)&&c.inputControllerWillPasteText(h),null!=(d=a.responder)&&d.insertHTML(b),a.requestRender(),null!=(e=a.delegate)?e.inputControllerDidPaste(h):void 0}}(this)):((f=g.getData("text/html"))?(h.html=f,null!=(j=this.delegate)&&j.inputControllerWillPasteText(h),null!=(s=this.responder)&&s.insertHTML(f),this.requestRender(),null!=(t=this.delegate)&&t.inputControllerDidPaste(h)):(e=g.getData("URL"))?(h.string=e,this.setInputSummary({textAdded:e,didDelete:this.selectionIsExpanded()}),null!=(u=this.delegate)&&u.inputControllerWillPasteText(h),null!=(v=this.responder)&&v.insertText(Trix.Text.textForStringWithAttributes(e,{href:e})),this.requestRender(),null!=(w=this.delegate)&&w.inputControllerDidPaste(h)):(A=g.getData("text/plain"))?(h.string=A,this.setInputSummary({textAdded:A,didDelete:this.selectionIsExpanded()}),null!=(x=this.delegate)&&x.inputControllerWillPasteText(h),null!=(y=this.responder)&&y.insertString(A),this.requestRender(),null!=(z=this.delegate)&&z.inputControllerDidPaste(h)):r.call(g.types,"Files")>=0&&(d=null!=(k=g.items)&&null!=(l=k[0])&&"function"==typeof l.getAsFile?l.getAsFile():void 0)&&(!d.name&&(b=c(d))&&(d.name="pasted-file-"+ ++n+"."+b),h.file=d,null!=(o=this.delegate)&&o.inputControllerWillAttachFiles(),null!=(p=this.responder)&&p.insertFile(d),this.requestRender(),null!=(q=this.delegate)&&q.inputControllerDidPaste(h)),a.preventDefault())},compositionstart:function(a){return this.compositionInputController=new Trix.CompositionInputController(this),this.compositionInputController.start(a.data)},compositionupdate:function(a){return null==this.compositionInputController&&(this.compositionInputController=new Trix.CompositionInputController(this)),this.compositionInputController.update(a.data)},compositionend:function(a){return null==this.compositionInputController&&(this.compositionInputController=new Trix.CompositionInputController(this)),this.compositionInputController.end(a.data),this.compositionInputController=null},input:function(a){return a.stopPropagation()}},e.prototype.keys={backspace:function(a){var b;return null!=(b=this.delegate)&&b.inputControllerWillPerformTyping(),this.deleteInDirection("backward",a)},delete:function(a){var b;return null!=(b=this.delegate)&&b.inputControllerWillPerformTyping(),this.deleteInDirection("forward",a)},return:function(){var a,b;return this.setInputSummary({preferDocument:!0}),null!=(a=this.delegate)&&a.inputControllerWillPerformTyping(),null!=(b=this.responder)?b.insertLineBreak():void 0},tab:function(a){var b,c;return(null!=(b=this.responder)?b.canIncreaseBlockAttributeLevel():void 0)?(null!=(c=this.responder)&&c.increaseBlockAttributeLevel(),this.requestRender(),a.preventDefault()):void 0},left:function(a){var b;return this.selectionIsInCursorTarget()?(a.preventDefault(),null!=(b=this.responder)?b.moveCursorInDirection("backward"):void 0):void 0},right:function(a){var b;return this.selectionIsInCursorTarget()?(a.preventDefault(),null!=(b=this.responder)?b.moveCursorInDirection("forward"):void 0):void 0},control:{d:function(a){var b;return null!=(b=this.delegate)&&b.inputControllerWillPerformTyping(),this.deleteInDirection("forward",a)},h:function(a){var b;return null!=(b=this.delegate)&&b.inputControllerWillPerformTyping(),this.deleteInDirection("backward",a)},o:function(a){var b,c;return a.preventDefault(),null!=(b=this.delegate)&&b.inputControllerWillPerformTyping(),null!=(c=this.responder)&&c.insertString("\n",{updatePosition:!1}),this.requestRender()}},shift:{return:function(){var a,b;return null!=(a=this.delegate)&&a.inputControllerWillPerformTyping(),null!=(b=this.responder)?b.insertString("\n"):void 0},tab:function(a){var b,c;return(null!=(b=this.responder)?b.canDecreaseBlockAttributeLevel():void 0)?(null!=(c=this.responder)&&c.decreaseBlockAttributeLevel(),this.requestRender(),a.preventDefault()):void 0},left:function(a){return this.selectionIsInCursorTarget()?(a.preventDefault(),this.expandSelectionInDirection("backward")):void 0},right:function(a){return this.selectionIsInCursorTarget()?(a.preventDefault(),this.expandSelectionInDirection("forward")):void 0}},alt:{backspace:function(){var a;return this.setInputSummary({preferDocument:!1}),null!=(a=this.delegate)?a.inputControllerWillPerformTyping():void 0}},meta:{backspace:function(){var a;return this.setInputSummary({preferDocument:!1}),null!=(a=this.delegate)?a.inputControllerWillPerformTyping():void 0}}},e.prototype.handleInput=function(a){var b,c;try{return null!=(b=this.delegate)&&b.inputControllerWillHandleInput(),a.call(this)}finally{null!=(c=this.delegate)&&c.inputControllerDidHandleInput()}},e.prototype.isComposing=function(){return null!=this.compositionInputController},e.prototype.deleteInDirection=function(a,b){var c;return(null!=(c=this.responder)?c.deleteInDirection(a):void 0)!==!1?this.setInputSummary({didDelete:!0}):b?(b.preventDefault(),this.requestRender()):void 0},e.prototype.serializeSelectionToDataTransfer=function(b){var c,d;if(a(b))return c=null!=(d=this.responder)?d.getSelectedDocument().toSerializableDocument():void 0,b.setData("application/x-trix-document",JSON.stringify(c)),b.setData("text/html",Trix.DocumentView.render(c).innerHTML),b.setData("text/plain",c.toString().replace(/\n$/,"")),!0},e.prototype.canAcceptDataTransfer=function(a){var b,c,d,e,f,g;for(g={},e=null!=(d=null!=a?a.types:void 0)?d:[],b=0,c=e.length;c>b;b++)f=e[b],g[f]=!0;return g.Files||g["application/x-trix-document"]||g["text/html"]||g["text/plain"]},e.prototype.getPastedHTMLUsingHiddenElement=function(a){var b,c,d,e;return d=null!=(c=this.responder)?c.getSelectedRange():void 0,e={position:"absolute",left:window.pageXOffset+"px",top:window.pageYOffset+"px",opacity:0},b=k({style:e,tagName:"div",editable:!0}),document.body.appendChild(b),b.focus(),requestAnimationFrame(function(c){return function(){var e,f;return e=b.innerHTML,document.body.removeChild(b),null!=(f=c.responder)&&f.setSelectedRange(d),a(e)}}(this))},e.proxyMethod("responder?.expandSelectionInDirection"),e.proxyMethod("responder?.selectionIsInCursorTarget"),e.proxyMethod("responder?.selectionIsExpanded"),e}(Trix.BasicObject),c=function(a){var b,c;return null!=(b=a.type)&&null!=(c=b.match(/\/(\w+)$/))?c[1]:void 0},j=function(a){return a.metaKey&&a.altKey&&!a.shiftKey&&94===a.keyCode},i=function(a){return a.metaKey&&a.altKey&&a.shiftKey&&9674===a.keyCode},h=function(a){return/Mac|^iP/.test(navigator.platform)?a.metaKey:a.ctrlKey},m=function(a){var b,c;return(c=null!=(b=a.clipboardData)?b.types:void 0)?r.call(c,"text/html")<0&&(r.call(c,"com.apple.webarchive")>=0||r.call(c,"com.apple.flat-rtfd")>=0):void 0},o={"application/x-trix-feature-detection":"test"},a=function(a){var b,c;if(null!=(null!=a?a.setData:void 0)){for(b in o)if(c=o[b],a.setData(b,c),a.getData(b)!==c)return;return!0}}}.call(this),function(){var a,b,c,d,e,f,g=function(a,b){return function(){return a.apply(b,arguments)}},h=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},i={}.hasOwnProperty;b=Trix.handleEvent,e=Trix.makeElement,f=Trix.tagName,c=Trix.InputController.keyNames,d=Trix.config.lang,a=Trix.config.css.classNames,Trix.AttachmentEditorController=function(i){function j(a,b,c){this.attachmentPiece=a,this.element=b,this.container=c,this.uninstall=g(this.uninstall,this),this.didKeyDownCaption=g(this.didKeyDownCaption,this),this.didChangeCaption=g(this.didChangeCaption,this),this.didClickCaption=g(this.didClickCaption,this),this.didClickRemoveButton=g(this.didClickRemoveButton,this),this.attachment=this.attachmentPiece.attachment,"a"===f(this.element)&&(this.element=this.element.firstChild),this.install()}var k;return h(j,i),k=function(a){return function(){var b;return b=a.apply(this,arguments),b.do(),null==this.undos&&(this.undos=[]),this.undos.push(b.undo)}},j.prototype.install=function(){return this.makeElementMutable(),this.attachment.isPreviewable()&&this.makeCaptionEditable(),this.addRemoveButton()},j.prototype.makeElementMutable=k(function(){return{do:function(a){return function(){return a.element.dataset.trixMutable=!0}}(this),undo:function(a){return function(){return delete a.element.dataset.trixMutable}}(this)}}),j.prototype.makeCaptionEditable=k(function(){var a,c;return a=this.element.querySelector("figcaption"),c=null,{do:function(d){return function(){return c=b("click",{onElement:a,withCallback:d.didClickCaption,inPhase:"capturing"})}}(this),undo:function(){return function(){return c.destroy()}}(this)}}),j.prototype.addRemoveButton=k(function(){var c;return c=e({tagName:"a",textContent:d.remove,className:a.attachment.removeButton,attributes:{href:"#",title:d.remove}}),b("click",{onElement:c,withCallback:this.didClickRemoveButton}),{do:function(a){return function(){return a.element.appendChild(c)}}(this),undo:function(a){return function(){return a.element.removeChild(c)}}(this)}}),j.prototype.editCaption=k(function(){var c,f,g,h,i;return h=e({tagName:"textarea",className:a.attachment.captionEditor,attributes:{placeholder:d.captionPlaceholder}}),h.value=this.attachmentPiece.getCaption(),i=h.cloneNode(),i.classList.add("trix-autoresize-clone"),c=function(){return i.value=h.value,h.style.height=i.scrollHeight+"px"},b("input",{onElement:h,withCallback:c}),b("keydown",{onElement:h,withCallback:this.didKeyDownCaption}),b("change",{onElement:h,withCallback:this.didChangeCaption}),b("blur",{onElement:h,withCallback:this.uninstall}),g=this.element.querySelector("figcaption"),f=g.cloneNode(),{do:function(){return g.style.display="none",f.appendChild(h),f.appendChild(i),f.classList.add(a.attachment.editingCaption),g.parentElement.insertBefore(f,g),c(),h.focus()},undo:function(){return f.parentNode.removeChild(f),g.style.display=null}}}),j.prototype.didClickRemoveButton=function(a){var b;return a.preventDefault(),a.stopPropagation(),null!=(b=this.delegate)?b.attachmentEditorDidRequestRemovalOfAttachment(this.attachment):void 0},j.prototype.didClickCaption=function(a){return a.preventDefault(),this.editCaption()},j.prototype.didChangeCaption=function(a){var b,c,d;return b=a.target.value.replace(/\s/g," ").trim(),b?null!=(c=this.delegate)&&"function"==typeof c.attachmentEditorDidRequestUpdatingAttributesForAttachment?c.attachmentEditorDidRequestUpdatingAttributesForAttachment({
caption:b},this.attachment):void 0:null!=(d=this.delegate)&&"function"==typeof d.attachmentEditorDidRequestRemovingAttributeForAttachment?d.attachmentEditorDidRequestRemovingAttributeForAttachment("caption",this.attachment):void 0},j.prototype.didKeyDownCaption=function(a){var b;return"return"===c[a.keyCode]?(a.preventDefault(),this.didChangeCaption(a),null!=(b=this.delegate)&&"function"==typeof b.attachmentEditorDidRequestDeselectingAttachment?b.attachmentEditorDidRequestDeselectingAttachment(this.attachment):void 0):void 0},j.prototype.uninstall=function(){for(var a,b;b=this.undos.pop();)b();return null!=(a=this.delegate)?a.didUninstallAttachmentEditor(this):void 0},j}(Trix.BasicObject)}.call(this),function(){var a,b,c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;c=Trix.makeElement,d=Trix.selectionElements,a=Trix.config.css.classNames,Trix.AttachmentView=function(f){function g(){g.__super__.constructor.apply(this,arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}return e(g,f),g.attachmentSelector="[data-trix-attachment]",g.prototype.createContentNodes=function(){return[]},g.prototype.createNodes=function(){var b,e,f,g,h,i,j,k,l,m,n;if(g=c({tagName:"figure",className:this.getClassName()}),this.attachment.hasContent())g.innerHTML=this.attachment.getContent();else for(m=this.createContentNodes(),i=0,k=m.length;k>i;i++)l=m[i],g.appendChild(l);g.appendChild(this.createCaptionElement()),e={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},b=this.attachmentPiece.getAttributesForAttachment(),b.isEmpty()||(e.trixAttributes=JSON.stringify(b)),this.attachment.isPending()&&(this.progressElement=c({tagName:"progress",attributes:{class:a.attachment.progressBar,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:this.attachment.getCacheKey("progressElement")}}),g.appendChild(this.progressElement),e.trixSerialize=!1),(h=this.getHref())?(f=c("a",{href:h}),f.appendChild(g)):f=g;for(j in e)n=e[j],f.dataset[j]=n;return f.setAttribute("contenteditable",!1),[d.create("cursorTarget"),f,d.create("cursorTarget")]},g.prototype.createCaptionElement=function(){var b,d,e,f,g;return d=c({tagName:"figcaption",className:a.attachment.caption}),(b=this.attachmentPiece.getCaption())?(d.classList.add(a.attachment.captionEdited),d.textContent=b):(e=this.attachment.getFilename())&&(d.textContent=e,(f=this.attachment.getFormattedFilesize())&&(d.appendChild(document.createTextNode(" ")),g=c({tagName:"span",className:a.attachment.size,textContent:f}),d.appendChild(g))),d},g.prototype.getClassName=function(){var b,c;return c=[a.attachment.container,""+a.attachment.typePrefix+this.attachment.getType()],(b=this.attachment.getExtension())&&c.push(b),c.join(" ")},g.prototype.getHref=function(){return b(this.attachment.getContent(),"a")?void 0:this.attachment.getHref()},g.prototype.findProgressElement=function(){var a;return null!=(a=this.findElement())?a.querySelector("progress"):void 0},g.prototype.attachmentDidChangeUploadProgress=function(){var a,b;return b=this.attachment.getUploadProgress(),null!=(a=this.findProgressElement())?a.value=b:void 0},g}(Trix.ObjectView),b=function(a,b){var d;return d=c("div"),d.innerHTML=null!=a?a:"",d.querySelector(b)}}.call(this),function(){var a,b,c,d=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},e={}.hasOwnProperty;a=Trix.defer,b=Trix.makeElement,c=Trix.measureElement,Trix.PreviewableAttachmentView=function(a){function c(){c.__super__.constructor.apply(this,arguments),this.attachment.previewDelegate=this}return d(c,a),c.prototype.createContentNodes=function(){return this.image=b({tagName:"img",attributes:{src:""},data:{trixMutable:!0,trixStoreKey:this.attachment.getCacheKey("imageElement")}}),this.refresh(this.image),[this.image]},c.prototype.refresh=function(a){var b;return null==a&&(a=null!=(b=this.findElement())?b.querySelector("img"):void 0),a?this.updateAttributesForImage(a):void 0},c.prototype.updateAttributesForImage=function(a){var b,c,d,e,f;return e=this.attachment.getURL(),c=this.attachment.getPreloadedURL(),a.src=c||e,c===e?a.removeAttribute("data-trix-serialized-attributes"):(d=JSON.stringify({src:e}),a.setAttribute("data-trix-serialized-attributes",d)),f=this.attachment.getWidth(),b=this.attachment.getHeight(),null!=f&&(a.width=f),null!=b?a.height=b:void 0},c.prototype.attachmentDidPreload=function(){return this.refresh(this.image),this.refresh()},c}(Trix.AttachmentView)}.call(this),function(){var a,b,c=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},d={}.hasOwnProperty;b=Trix.makeElement,a=Trix.findInnerElement,Trix.PieceView=function(d){function e(){var a;e.__super__.constructor.apply(this,arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),a=this.options,this.textConfig=a.textConfig,this.context=a.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}var f;return c(e,d),e.prototype.createNodes=function(){var b,c,d,e,f,g;if(g=this.attachment?this.createAttachmentNodes():this.createStringNodes(),b=this.createElement()){for(d=a(b),c=0,e=g.length;e>c;c++)f=g[c],d.appendChild(f);g=[b]}return g},e.prototype.createAttachmentNodes=function(){var a,b;return a=this.attachment.isPreviewable()?Trix.PreviewableAttachmentView:Trix.AttachmentView,b=this.createChildView(a,this.piece.attachment,{piece:this.piece}),b.getNodes()},e.prototype.createStringNodes=function(){var a,c,d,e,f,g,h,i,j,k;if(null!=(i=this.textConfig)?i.plaintext:void 0)return[document.createTextNode(this.string)];for(h=[],j=this.string.split("\n"),d=c=0,e=j.length;e>c;d=++c)k=j[d],d>0&&(a=b("br"),h.push(a)),(f=k.length)&&(g=document.createTextNode(this.preserveSpaces(k)),h.push(g));return h},e.prototype.createElement=function(){var a,c,d,e,f,g,h,i;for(e in this.attributes)if((a=Trix.config.textAttributes[e])&&(a.tagName&&(f=b(a.tagName),d?(d.appendChild(f),d=f):c=d=f),a.style))if(h){g=a.style;for(e in g)i=g[e],h[e]=i}else h=a.style;if(h){null==c&&(c=b("span"));for(e in h)i=h[e],c.style[e]=i}return c},e.prototype.createContainerElement=function(){var a,c,d,e,f;e=this.attributes;for(d in e)if(f=e[d],(c=Trix.config.textAttributes[d])&&c.groupTagName)return a={},a[d]=f,b(c.groupTagName,a)},f=Trix.NON_BREAKING_SPACE,e.prototype.preserveSpaces=function(a){return this.context.isLast&&(a=a.replace(/\ $/,f)),a=a.replace(/(\S)\ {3}(\S)/g,"$1 "+f+" $2").replace(/\ {2}/g,f+" ").replace(/\ {2}/g," "+f),(this.context.isFirst||this.context.followsWhitespace)&&(a=a.replace(/^\ /,f)),a},e}(Trix.ObjectView)}.call(this),function(){var a=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a},b={}.hasOwnProperty;Trix.TextView=function(b){function c(){c.__super__.constructor.apply(this,arguments),this.text=this.object,this.textConfig=this.options.textConfig}var d;return a(c,b),c.prototype.createNodes=function(){var a,b,c,e,f,g,h,i,j,k;for(g=[],i=Trix.ObjectGroup.groupObjects(this.getPieces()),e=i.length-1,c=b=0,f=i.length;f>b;c=++b)h=i[c],a={},0===c&&(a.isFirst=!0),c===e&&(a.isLast=!0),d(j)&&(a.followsWhitespace=!0),k=this.findOrCreateCachedChildView(Trix.PieceView,h,{textConfig:this.textConfig,context:a}),g.push.apply(g,k.getNodes()),j=h;return g},c.prototype.getPieces=function(){var a,b,c,d,e;for(d=this.text.getPieces(),e=[],a=0,b=d.length;b>a;a++)c=d[a],c.hasAttribute("blockBreak")||e.push(c);return e},d=function(a){return/\s$/.test(null!=a?a.toString():void 0)},c}(Trix.ObjectView)}.call(this),function(){var a,b=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},c={}.hasOwnProperty;a=Trix.makeElement,Trix.BlockView=function(c){function d(){d.__super__.constructor.apply(this,arguments),this.block=this.object,this.attributes=this.block.getAttributes()}return b(d,c),d.prototype.createNodes=function(){var b,c,d,e,f,g,h,i,j;if(b=document.createComment("block"),g=[b],this.block.isEmpty()?g.push(a("br")):(i=null!=(h=Trix.config.blockAttributes[this.block.getLastAttribute()])?h.text:void 0,j=this.findOrCreateCachedChildView(Trix.TextView,this.block.text,{textConfig:i}),g.push.apply(g,j.getNodes()),this.shouldAddExtraNewlineElement()&&g.push(a("br"))),this.attributes.length)return g;for(c=a(Trix.config.blockAttributes.default.tagName),d=0,e=g.length;e>d;d++)f=g[d],c.appendChild(f);return[c]},d.prototype.createContainerElement=function(b){var c,d;return c=this.attributes[b],d=Trix.config.blockAttributes[c],a(d.tagName)},d.prototype.shouldAddExtraNewlineElement=function(){return/\n\n$/.test(this.block.toString())},d}(Trix.ObjectView)}.call(this),function(){var a,b,c=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},d={}.hasOwnProperty;a=Trix.defer,b=Trix.makeElement,Trix.DocumentView=function(d){function e(){e.__super__.constructor.apply(this,arguments),this.element=this.options.element,this.elementStore=new Trix.ElementStore,this.setDocument(this.object)}var f,g,h;return c(e,d),e.render=function(a){var c,d;return c=b("div"),d=new this(a,{element:c}),d.render(),d.sync(),c},e.prototype.setDocument=function(a){return a.isEqualTo(this.document)?void 0:this.document=this.object=a},e.prototype.render=function(){var a,c,d,e,f,g,h;if(this.childViews=[],this.shadowElement=b("div"),!this.document.isEmpty()){for(f=Trix.ObjectGroup.groupObjects(this.document.getBlocks(),{asTree:!0}),g=[],a=0,c=f.length;c>a;a++)e=f[a],h=this.findOrCreateCachedChildView(Trix.BlockView,e),g.push(function(){var a,b,c,e;for(c=h.getNodes(),e=[],a=0,b=c.length;b>a;a++)d=c[a],e.push(this.shadowElement.appendChild(d));return e}.call(this));return g}},e.prototype.isSynced=function(){return f(this.shadowElement,this.element)},e.prototype.sync=function(){var a;for(a=this.createDocumentFragmentForSync();this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(a),this.didSync()},e.prototype.didSync=function(){return this.elementStore.reset(g(this.element)),a(function(a){return function(){return a.garbageCollectCachedViews()}}(this))},e.prototype.createDocumentFragmentForSync=function(){var a,b,c,d,e,f,h,i,j,k;for(b=document.createDocumentFragment(),i=this.shadowElement.childNodes,c=0,e=i.length;e>c;c++)h=i[c],b.appendChild(h.cloneNode(!0));for(j=g(b),d=0,f=j.length;f>d;d++)a=j[d],(k=this.elementStore.remove(a))&&a.parentNode.replaceChild(k,a);return b},g=function(a){return a.querySelectorAll("[data-trix-store-key]")},f=function(a,b){return h(a.innerHTML)===h(b.innerHTML)},h=function(a){return a.replace(/&nbsp;/g," ")},e}(Trix.ObjectView)}.call(this),function(){var a,b,c,d,e,f,g=function(a,b){return function(){return a.apply(b,arguments)}},h=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},i={}.hasOwnProperty;d=Trix.handleEvent,f=Trix.tagName,c=Trix.findClosestElementFromNode,e=Trix.innerElementIsActive,b=Trix.defer,a=Trix.AttachmentView.attachmentSelector,Trix.CompositionController=function(c){function f(b,c){this.element=b,this.composition=c,this.didClickAttachment=g(this.didClickAttachment,this),this.didBlur=g(this.didBlur,this),this.didFocus=g(this.didFocus,this),this.documentView=new Trix.DocumentView(this.composition.document,{element:this.element}),d("focus",{onElement:this.element,withCallback:this.didFocus}),d("blur",{onElement:this.element,withCallback:this.didBlur}),d("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),d("mousedown",{onElement:this.element,matchingSelector:a,withCallback:this.didClickAttachment}),d("click",{onElement:this.element,matchingSelector:"a"+a,preventDefault:!0})}return h(f,c),f.prototype.didFocus=function(){var a;return this.focused?void 0:(this.focused=!0,null!=(a=this.delegate)&&"function"==typeof a.compositionControllerDidFocus?a.compositionControllerDidFocus():void 0)},f.prototype.didBlur=function(){return b(function(a){return function(){var b;return e(a.element)?void 0:(a.focused=null,null!=(b=a.delegate)&&"function"==typeof b.compositionControllerDidBlur?b.compositionControllerDidBlur():void 0)}}(this))},f.prototype.didClickAttachment=function(a,b){var c,d;return c=this.findAttachmentForElement(b),null!=(d=this.delegate)&&"function"==typeof d.compositionControllerDidSelectAttachment?d.compositionControllerDidSelectAttachment(c):void 0},f.prototype.render=function(){var a,b,c;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.documentView.isSynced()||(null!=(a=this.delegate)&&"function"==typeof a.compositionControllerWillSyncDocumentView&&a.compositionControllerWillSyncDocumentView(),this.documentView.sync(),this.reinstallAttachmentEditor(),null!=(b=this.delegate)&&"function"==typeof b.compositionControllerDidSyncDocumentView&&b.compositionControllerDidSyncDocumentView()),null!=(c=this.delegate)&&"function"==typeof c.compositionControllerDidRender?c.compositionControllerDidRender():void 0},f.prototype.rerenderViewForObject=function(a){return this.documentView.invalidateViewForObject(a),this.render()},f.prototype.isViewCachingEnabled=function(){return this.documentView.isViewCachingEnabled()},f.prototype.enableViewCaching=function(){return this.documentView.enableViewCaching()},f.prototype.disableViewCaching=function(){return this.documentView.disableViewCaching()},f.prototype.refreshViewCache=function(){return this.documentView.garbageCollectCachedViews()},f.prototype.installAttachmentEditorForAttachment=function(a){var b,c,d;if((null!=(d=this.attachmentEditor)?d.attachment:void 0)!==a&&(c=this.documentView.findElementForObject(a)))return this.uninstallAttachmentEditor(),b=this.composition.document.getAttachmentPieceForAttachment(a),this.attachmentEditor=new Trix.AttachmentEditorController(b,c,this.element),this.attachmentEditor.delegate=this},f.prototype.uninstallAttachmentEditor=function(){var a;return null!=(a=this.attachmentEditor)?a.uninstall():void 0},f.prototype.reinstallAttachmentEditor=function(){var a;return this.attachmentEditor?(a=this.attachmentEditor.attachment,this.uninstallAttachmentEditor(),this.installAttachmentEditorForAttachment(a)):void 0},f.prototype.editAttachmentCaption=function(){var a;return null!=(a=this.attachmentEditor)?a.editCaption():void 0},f.prototype.didUninstallAttachmentEditor=function(){return this.attachmentEditor=null,this.render()},f.prototype.attachmentEditorDidRequestUpdatingAttributesForAttachment=function(a,b){var c;return null!=(c=this.delegate)&&"function"==typeof c.compositionControllerWillUpdateAttachment&&c.compositionControllerWillUpdateAttachment(b),this.composition.updateAttributesForAttachment(a,b)},f.prototype.attachmentEditorDidRequestRemovingAttributeForAttachment=function(a,b){var c;return null!=(c=this.delegate)&&"function"==typeof c.compositionControllerWillUpdateAttachment&&c.compositionControllerWillUpdateAttachment(b),this.composition.removeAttributeForAttachment(a,b)},f.prototype.attachmentEditorDidRequestRemovalOfAttachment=function(a){var b;return null!=(b=this.delegate)&&"function"==typeof b.compositionControllerDidRequestRemovalOfAttachment?b.compositionControllerDidRequestRemovalOfAttachment(a):void 0},f.prototype.attachmentEditorDidRequestDeselectingAttachment=function(a){var b;return null!=(b=this.delegate)&&"function"==typeof b.compositionControllerDidRequestDeselectingAttachment?b.compositionControllerDidRequestDeselectingAttachment(a):void 0},f.prototype.findAttachmentForElement=function(a){return this.composition.document.getAttachmentById(parseInt(a.dataset.trixId,10))},f}(Trix.BasicObject)}.call(this),function(){var a,b,c,d=function(a,b){return function(){return a.apply(b,arguments)}},e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;b=Trix.handleEvent,c=Trix.triggerEvent,a=Trix.findClosestElementFromNode,Trix.ToolbarController=function(f){function g(a){this.element=a,this.didKeyDownDialogInput=d(this.didKeyDownDialogInput,this),this.didClickDialogButton=d(this.didClickDialogButton,this),this.didClickAttributeButton=d(this.didClickAttributeButton,this),this.didClickActionButton=d(this.didClickActionButton,this),this.attributes={},this.actions={},this.resetDialogInputs(),b("mousedown",{onElement:this.element,matchingSelector:h,withCallback:this.didClickActionButton}),b("mousedown",{onElement:this.element,matchingSelector:j,withCallback:this.didClickAttributeButton}),b("click",{onElement:this.element,matchingSelector:r,preventDefault:!0}),b("click",{onElement:this.element,matchingSelector:k,withCallback:this.didClickDialogButton}),b("keydown",{onElement:this.element,matchingSelector:l,withCallback:this.didKeyDownDialogInput})}var h,i,j,k,l,m,n,o,p,q,r;return e(g,f),h="button[data-trix-action]",j="button[data-trix-attribute]",r=[h,j].join(", "),m=".dialog[data-trix-dialog]",i=m+".active",k=m+" input[data-trix-method]",l=m+" input[type=text], "+m+" input[type=url]",g.prototype.didClickActionButton=function(a,b){var c,d,e;return null!=(d=this.delegate)&&d.toolbarDidClickButton(),a.preventDefault(),c=n(b),this.getDialog(c)?this.toggleDialog(c):null!=(e=this.delegate)?e.toolbarDidInvokeAction(c):void 0},g.prototype.didClickAttributeButton=function(a,b){var c,d,e;return null!=(d=this.delegate)&&d.toolbarDidClickButton(),a.preventDefault(),c=o(b),this.getDialog(c)?this.toggleDialog(c):null!=(e=this.delegate)&&e.toolbarDidToggleAttribute(c),this.refreshAttributeButtons()},g.prototype.didClickDialogButton=function(b,c){var d,e;return d=a(c,{matchingSelector:m}),e=c.getAttribute("data-trix-method"),this[e].call(this,d)},g.prototype.didKeyDownDialogInput=function(a,b){var c,d;return 13===a.keyCode&&(a.preventDefault(),c=b.getAttribute("name"),d=this.getDialog(c),this.setAttribute(d)),27===a.keyCode?(a.preventDefault(),this.hideDialog()):void 0},g.prototype.updateActions=function(a){return this.actions=a,this.refreshActionButtons()},g.prototype.refreshActionButtons=function(){return this.eachActionButton(function(a){return function(b,c){return b.disabled=a.actions[c]===!1}}(this))},g.prototype.eachActionButton=function(a){var b,c,d,e,f;for(e=this.element.querySelectorAll(h),f=[],c=0,d=e.length;d>c;c++)b=e[c],f.push(a(b,n(b)));return f},g.prototype.updateAttributes=function(a){return this.attributes=a,this.refreshAttributeButtons()},g.prototype.refreshAttributeButtons=function(){return this.eachAttributeButton(function(a){return function(b,c){return a.attributes[c]||a.dialogIsVisible(c)?b.classList.add("active"):b.classList.remove("active")}}(this))},g.prototype.eachAttributeButton=function(a){var b,c,d,e,f;for(e=this.element.querySelectorAll(j),f=[],c=0,d=e.length;d>c;c++)b=e[c],f.push(a(b,o(b)));return f},g.prototype.applyKeyboardCommand=function(a){var b,d,e,f,g,h,i;for(g=JSON.stringify(a.sort()),i=this.element.querySelectorAll("[data-trix-key]"),f=0,h=i.length;h>f;f++)if(b=i[f],e=b.getAttribute("data-trix-key").split("+"),d=JSON.stringify(e.sort()),d===g)return c("mousedown",{onElement:b}),!0;return!1},g.prototype.dialogIsVisible=function(a){var b;return(b=this.getDialog(a))?b.classList.contains("active"):void 0},g.prototype.toggleDialog=function(a){return this.dialogIsVisible(a)?this.hideDialog():this.showDialog(a)},g.prototype.showDialog=function(a){var b,c,d,e,f,g,h,i,j,k;for(this.hideDialog(),null!=(h=this.delegate)&&h.toolbarWillShowDialog(),d=this.getDialog(a),d.classList.add("active"),i=d.querySelectorAll("input[disabled]"),e=0,g=i.length;g>e;e++)c=i[e],c.removeAttribute("disabled");return(b=o(d))&&(f=q(d,a))&&(f.value=null!=(j=this.attributes[b])?j:"",f.select()),null!=(k=this.delegate)?k.toolbarDidShowDialog(a):void 0},g.prototype.setAttribute=function(a){var b,c,d;return b=o(a),c=q(a,b),c.willValidate&&!c.checkValidity()?(c.classList.add("validate"),c.focus()):(null!=(d=this.delegate)&&d.toolbarDidUpdateAttribute(b,c.value),this.hideDialog())},g.prototype.removeAttribute=function(a){var b,c;return b=o(a),null!=(c=this.delegate)&&c.toolbarDidRemoveAttribute(b),this.hideDialog()},g.prototype.hideDialog=function(){var a,b;return(a=this.element.querySelector(i))?(a.classList.remove("active"),this.resetDialogInputs(),null!=(b=this.delegate)?b.toolbarDidHideDialog(p(a)):void 0):void 0},g.prototype.resetDialogInputs=function(){var a,b,c,d,e;for(d=this.element.querySelectorAll(l),e=[],a=0,c=d.length;c>a;a++)b=d[a],b.setAttribute("disabled","disabled"),e.push(b.classList.remove("validate"));return e},g.prototype.getDialog=function(a){return this.element.querySelector(".dialog[data-trix-dialog="+a+"]")},q=function(a,b){return null==b&&(b=o(a)),a.querySelector("input[name='"+b+"']")},n=function(a){return a.getAttribute("data-trix-action")},o=function(a){return a.getAttribute("data-trix-attribute")},p=function(a){return a.getAttribute("data-trix-dialog")},g}(Trix.BasicObject)}.call(this),function(){var a=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a},b={}.hasOwnProperty;Trix.ImagePreloadOperation=function(b){function c(a){this.url=a}return a(c,b),c.prototype.perform=function(a){var b;return b=new Image,b.onload=function(c){return function(){return b.width=c.width=b.naturalWidth,b.height=c.height=b.naturalHeight,a(!0,b)}}(this),b.onerror=function(){return a(!1)},b.src=this.url},c}(Trix.Operation)}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},c={}.hasOwnProperty;Trix.Attachment=function(c){function d(b){null==b&&(b={}),this.releaseFile=a(this.releaseFile,this),d.__super__.constructor.apply(this,arguments),this.attributes=Trix.Hash.box(b),this.didChangeAttributes()}return b(d,c),d.previewablePattern=/^image(\/(gif|png|jpe?g)|$)/,d.attachmentForFile=function(a){var b,c;return c=this.attributesForFile(a),b=new this(c),b.setFile(a),b},d.attributesForFile=function(a){return new Trix.Hash({filename:a.name,filesize:a.size,contentType:a.type})},d.fromJSON=function(a){return new this(a)},d.prototype.getAttribute=function(a){return this.attributes.get(a)},d.prototype.hasAttribute=function(a){return this.attributes.has(a)},d.prototype.getAttributes=function(){return this.attributes.toObject()},d.prototype.setAttributes=function(a){var b,c;return null==a&&(a={}),b=this.attributes.merge(a),this.attributes.isEqualTo(b)?void 0:(this.attributes=b,this.didChangeAttributes(),null!=(c=this.delegate)&&"function"==typeof c.attachmentDidChangeAttributes?c.attachmentDidChangeAttributes(this):void 0)},d.prototype.didChangeAttributes=function(){return this.isPreviewable()?this.preloadURL():void 0},d.prototype.isPending=function(){return null!=this.file&&!(this.getURL()||this.getHref())},d.prototype.isPreviewable=function(){return this.attributes.has("previewable")?this.attributes.get("previewable"):this.constructor.previewablePattern.test(this.getContentType())},d.prototype.getType=function(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"},d.prototype.getURL=function(){return this.attributes.get("url")},d.prototype.getHref=function(){return this.attributes.get("href")},d.prototype.getFilename=function(){var a;return null!=(a=this.attributes.get("filename"))?a:""},d.prototype.getFilesize=function(){return this.attributes.get("filesize")},d.prototype.getFormattedFilesize=function(){var a;return a=this.attributes.get("filesize"),"number"==typeof a?Trix.config.fileSize.formatter(a):""},d.prototype.getExtension=function(){var a;return null!=(a=this.getFilename().match(/\.(\w+)$/))?a[1].toLowerCase():void 0},d.prototype.getContentType=function(){return this.attributes.get("contentType")},d.prototype.hasContent=function(){return this.attributes.has("content")},d.prototype.getContent=function(){return this.attributes.get("content")},d.prototype.getWidth=function(){return this.attributes.get("width")},d.prototype.getHeight=function(){return this.attributes.get("height")},d.prototype.getFile=function(){return this.file},d.prototype.setFile=function(a){return this.file=a,this.isPreviewable()?this.preloadFile():void 0},d.prototype.releaseFile=function(){return this.releasePreloadedFile(),this.file=null},d.prototype.getUploadProgress=function(){var a;return null!=(a=this.uploadProgress)?a:0},d.prototype.setUploadProgress=function(a){var b;return this.uploadProgress!==a?(this.uploadProgress=a,null!=(b=this.uploadProgressDelegate)&&"function"==typeof b.attachmentDidChangeUploadProgress?b.attachmentDidChangeUploadProgress(this):void 0):void 0},d.prototype.toJSON=function(){return this.getAttributes()},d.prototype.getCacheKey=function(a){var b;return b=[d.__super__.getCacheKey.apply(this,arguments),this.attributes.getCacheKey(),this.getPreloadedURL()],a&&b.unshift(a),b.join("/")},d.prototype.getPreloadedURL=function(){return this.preloadedURL},d.prototype.preloadURL=function(){return this.preload(this.getURL(),this.releaseFile)},d.prototype.preloadFile=function(){return this.file?(this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)):void 0},d.prototype.releasePreloadedFile=function(){return this.fileObjectURL?(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null):void 0},d.prototype.preload=function(a,b){var c;return a&&a!==this.preloadedURL?(null==this.preloadedURL&&(this.preloadedURL=a),c=new Trix.ImagePreloadOperation(a),c.then(function(c){return function(d){var e,f,g;return g=d.width,e=d.height,c.preloadedURL=a,c.setAttributes({width:g,height:e}),null!=(f=c.previewDelegate)&&"function"==typeof f.attachmentDidPreload&&f.attachmentDidPreload(),"function"==typeof b?b():void 0}}(this))):void 0},d}(Trix.Object)}.call(this),function(){var a=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a},b={}.hasOwnProperty;Trix.Piece=function(b){function c(a,b){null==b&&(b={}),c.__super__.constructor.apply(this,arguments),this.attributes=Trix.Hash.box(b)}return a(c,b),c.types={},c.registerType=function(a,b){return b.type=a,this.types[a]=b},c.fromJSON=function(a){var b;return(b=this.types[a.type])?b.fromJSON(a):void 0},c.prototype.copyWithAttributes=function(a){return new this.constructor(this.getValue(),a)},c.prototype.copyWithAdditionalAttributes=function(a){return this.copyWithAttributes(this.attributes.merge(a))},c.prototype.copyWithoutAttribute=function(a){return this.copyWithAttributes(this.attributes.remove(a))},c.prototype.copy=function(){return this.copyWithAttributes(this.attributes)},c.prototype.getAttribute=function(a){return this.attributes.get(a)},c.prototype.getAttributesHash=function(){return this.attributes},c.prototype.getAttributes=function(){return this.attributes.toObject()},c.prototype.getCommonAttributes=function(){var a,b,c;return(c=pieceList.getPieceAtIndex(0))?(a=c.attributes,b=a.getKeys(),pieceList.eachPiece(function(c){return b=a.getKeysCommonToHash(c.attributes),a=a.slice(b)}),a.toObject()):{}},c.prototype.hasAttribute=function(a){return this.attributes.has(a)},c.prototype.hasSameStringValueAsPiece=function(a){return null!=a&&this.toString()===a.toString()},c.prototype.hasSameAttributesAsPiece=function(a){return null!=a&&(this.attributes===a.attributes||this.attributes.isEqualTo(a.attributes))},c.prototype.isBlockBreak=function(){return!1},c.prototype.isEqualTo=function(a){return c.__super__.isEqualTo.apply(this,arguments)||this.hasSameConstructorAs(a)&&this.hasSameStringValueAsPiece(a)&&this.hasSameAttributesAsPiece(a)},c.prototype.isEmpty=function(){return 0===this.length},c.prototype.isSerializable=function(){return!0},c.prototype.toJSON=function(){return{type:this.constructor.type,attributes:this.getAttributes()}},c.prototype.contentsForInspection=function(){return{type:this.constructor.type,attributes:this.attributes.inspect()}},c.prototype.canBeGrouped=function(){return this.hasAttribute("href")},c.prototype.canBeGroupedWith=function(a){return this.getAttribute("href")===a.getAttribute("href")},c.prototype.getLength=function(){return this.length},c.prototype.canBeConsolidatedWith=function(){return!1},c}(Trix.Object)}.call(this),function(){var a=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a},b={}.hasOwnProperty;Trix.Piece.registerType("attachment",Trix.AttachmentPiece=function(b){function c(a){this.attachment=a,c.__super__.constructor.apply(this,arguments),this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href")}return a(c,b),c.fromJSON=function(a){return new this(Trix.Attachment.fromJSON(a.attachment),a.attributes)},c.prototype.ensureAttachmentExclusivelyHasAttribute=function(a){return this.hasAttribute(a)&&this.attachment.hasAttribute(a)?this.attributes=this.attributes.remove(a):void 0},c.prototype.getValue=function(){return this.attachment},c.prototype.isSerializable=function(){return!this.attachment.isPending()},c.prototype.getCaption=function(){var a;return null!=(a=this.attributes.get("caption"))?a:""},c.prototype.getAttributesForAttachment=function(){return this.attributes.slice(["caption"])},c.prototype.canBeGrouped=function(){return c.__super__.canBeGrouped.apply(this,arguments)&&!this.attachment.hasAttribute("href")},c.prototype.isEqualTo=function(a){var b;return c.__super__.isEqualTo.apply(this,arguments)&&this.attachment.id===(null!=a&&null!=(b=a.attachment)?b.id:void 0)},c.prototype.toString=function(){return Trix.OBJECT_REPLACEMENT_CHARACTER},c.prototype.toJSON=function(){var a;return a=c.__super__.toJSON.apply(this,arguments),a.attachment=this.attachment,a},c.prototype.getCacheKey=function(){return[c.__super__.getCacheKey.apply(this,arguments),this.attachment.getCacheKey()].join("/")},c.prototype.toConsole=function(){return JSON.stringify(this.toString())},c}(Trix.Piece))}.call(this),function(){var a=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a},b={}.hasOwnProperty;Trix.Piece.registerType("string",Trix.StringPiece=function(b){function c(a){c.__super__.constructor.apply(this,arguments),this.string=a,this.length=this.string.length}return a(c,b),c.fromJSON=function(a){return new this(a.string,a.attributes)},c.prototype.getValue=function(){return this.string},c.prototype.toString=function(){return this.string.toString()},c.prototype.isBlockBreak=function(){return"\n"===this.toString()&&this.getAttribute("blockBreak")===!0},c.prototype.toJSON=function(){var a;return a=c.__super__.toJSON.apply(this,arguments),a.string=this.string,a},c.prototype.canBeConsolidatedWith=function(a){return null!=a&&this.hasSameConstructorAs(a)&&this.hasSameAttributesAsPiece(a)},c.prototype.consolidateWith=function(a){return new this.constructor(this.toString()+a.toString(),this.attributes)},c.prototype.splitAtOffset=function(a){var b,c;return 0===a?(b=null,c=this):a===this.length?(b=this,c=null):(b=new this.constructor(this.string.slice(0,a),this.attributes),
c=new this.constructor(this.string.slice(a),this.attributes)),[b,c]},c.prototype.toConsole=function(){var a;return a=this.string,a.length>15&&(a=a.slice(0,14)+"…"),JSON.stringify(a.toString())},c}(Trix.Piece))}.call(this),function(){var a=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a},b={}.hasOwnProperty,c=[].slice;Trix.SplittableList=function(b){function d(a){null==a&&(a=[]),d.__super__.constructor.apply(this,arguments),this.objects=a.slice(0),this.length=this.objects.length}var e,f,g;return a(d,b),d.box=function(a){return a instanceof this?a:new this(a)},d.prototype.eachObject=function(a){var b,c,d,e,f,g;for(f=this.objects,g=[],c=b=0,d=f.length;d>b;c=++b)e=f[c],g.push(a(e,c));return g},d.prototype.insertObjectAtIndex=function(a,b){var c;return c=this.objects.slice(0),c.splice(b,0,a),new this.constructor(c)},d.prototype.insertSplittableListAtIndex=function(a,b){var d;return d=this.objects.slice(0),d.splice.apply(d,[b,0].concat(c.call(a.objects))),new this.constructor(d)},d.prototype.insertSplittableListAtPosition=function(a,b){var c,d,e;return e=this.splitObjectAtPosition(b),d=e[0],c=e[1],new this.constructor(d).insertSplittableListAtIndex(a,c)},d.prototype.editObjectAtIndex=function(a,b){return this.replaceObjectAtIndex(b(this.objects[a]),a)},d.prototype.replaceObjectAtIndex=function(a,b){var c;return c=this.objects.slice(0),c.splice(b,1,a),new this.constructor(c)},d.prototype.removeObjectAtIndex=function(a){var b;return b=this.objects.slice(0),b.splice(a,1),new this.constructor(b)},d.prototype.getObjectAtIndex=function(a){return this.objects[a]},d.prototype.getSplittableListInRange=function(a){var b,c,d,e;return d=this.splitObjectsAtRange(a),c=d[0],b=d[1],e=d[2],new this.constructor(c.slice(b,e+1))},d.prototype.selectSplittableList=function(a){var b,c;return c=function(){var c,d,e,f;for(e=this.objects,f=[],c=0,d=e.length;d>c;c++)b=e[c],a(b)&&f.push(b);return f}.call(this),new this.constructor(c)},d.prototype.removeObjectsInRange=function(a){var b,c,d,e;return d=this.splitObjectsAtRange(a),c=d[0],b=d[1],e=d[2],c.splice(b,e-b+1),new this.constructor(c)},d.prototype.transformObjectsInRange=function(a,b){var c,d,e,f,g,h,i;return g=this.splitObjectsAtRange(a),f=g[0],d=g[1],h=g[2],i=function(){var a,g,i;for(i=[],c=a=0,g=f.length;g>a;c=++a)e=f[c],i.push(c>=d&&h>=c?b(e):e);return i}(),new this.constructor(i)},d.prototype.splitObjectsAtRange=function(a){var b,c,d,f,h,i;return f=this.splitObjectAtPosition(g(a)),c=f[0],b=f[1],d=f[2],h=new this.constructor(c).splitObjectAtPosition(e(a)+d),c=h[0],i=h[1],[c,b,i-1]},d.prototype.getObjectAtPosition=function(a){var b,c,d;return d=this.findIndexAndOffsetAtPosition(a),b=d.index,c=d.offset,this.objects[b]},d.prototype.splitObjectAtPosition=function(a){var b,c,d,e,f,g,h,i,j,k;return g=this.findIndexAndOffsetAtPosition(a),b=g.index,f=g.offset,e=this.objects.slice(0),null!=b?0===f?(j=b,k=0):(d=this.getObjectAtIndex(b),h=d.splitAtOffset(f),c=h[0],i=h[1],e.splice(b,1,c,i),j=b+1,k=c.getLength()-f):(j=e.length,k=0),[e,j,k]},d.prototype.consolidate=function(){var a,b,c,d,e,f;for(d=[],e=this.objects[0],f=this.objects.slice(1),a=0,b=f.length;b>a;a++)c=f[a],("function"==typeof e.canBeConsolidatedWith?e.canBeConsolidatedWith(c):void 0)?e=e.consolidateWith(c):(d.push(e),e=c);return null!=e&&d.push(e),new this.constructor(d)},d.prototype.consolidateFromIndexToIndex=function(a,b){var d,e,f;return e=this.objects.slice(0),f=e.slice(a,b+1),d=new this.constructor(f).consolidate().toArray(),e.splice.apply(e,[a,f.length].concat(c.call(d))),new this.constructor(e)},d.prototype.findIndexAndOffsetAtPosition=function(a){var b,c,d,e,f,g,h;for(b=0,h=this.objects,d=c=0,e=h.length;e>c;d=++c){if(g=h[d],f=b+g.getLength(),a>=b&&f>a)return{index:d,offset:a-b};b=f}return{index:null,offset:null}},d.prototype.findPositionAtIndexAndOffset=function(a,b){var c,d,e,f,g,h;for(g=0,h=this.objects,c=d=0,e=h.length;e>d;c=++d)if(f=h[c],a>c)g+=f.getLength();else if(c===a){g+=b;break}return g},d.prototype.getEndPosition=function(){var a,b;return null!=this.endPosition?this.endPosition:this.endPosition=function(){var c,d,e;for(b=0,e=this.objects,c=0,d=e.length;d>c;c++)a=e[c],b+=a.getLength();return b}.call(this)},d.prototype.toString=function(){return this.objects.join("")},d.prototype.toArray=function(){return this.objects.slice(0)},d.prototype.toJSON=function(){return this.toArray()},d.prototype.isEqualTo=function(a){return d.__super__.isEqualTo.apply(this,arguments)||f(this.objects,null!=a?a.objects:void 0)},f=function(a,b){var c,d,e,f,g;if(null==b&&(b=[]),a.length!==b.length)return!1;for(g=!0,d=c=0,e=a.length;e>c;d=++c)f=a[d],g&&!f.isEqualTo(b[d])&&(g=!1);return g},d.prototype.contentsForInspection=function(){var a;return{objects:"["+function(){var b,c,d,e;for(d=this.objects,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.inspect());return e}.call(this).join(", ")+"]"}},g=function(a){return a[0]},e=function(a){return a[1]},d}(Trix.Object)}.call(this),function(){var a=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a},b={}.hasOwnProperty;Trix.Text=function(b){function c(a){var b;null==a&&(a=[]),c.__super__.constructor.apply(this,arguments),this.pieceList=new Trix.SplittableList(function(){var c,d,e;for(e=[],c=0,d=a.length;d>c;c++)b=a[c],b.isEmpty()||e.push(b);return e}())}return a(c,b),c.textForAttachmentWithAttributes=function(a,b){var c;return c=new Trix.AttachmentPiece(a,b),new this([c])},c.textForStringWithAttributes=function(a,b){var c;return c=new Trix.StringPiece(a,b),new this([c])},c.fromJSON=function(a){var b,c;return c=function(){var c,d,e;for(e=[],c=0,d=a.length;d>c;c++)b=a[c],e.push(Trix.Piece.fromJSON(b));return e}(),new this(c)},c.prototype.copy=function(){return this.copyWithPieceList(this.pieceList)},c.prototype.copyWithPieceList=function(a){return new this.constructor(a.consolidate().toArray())},c.prototype.copyUsingObjectMap=function(a){var b,c;return c=function(){var c,d,e,f,g;for(e=this.getPieces(),g=[],c=0,d=e.length;d>c;c++)b=e[c],g.push(null!=(f=a.find(b))?f:b);return g}.call(this),new this.constructor(c)},c.prototype.appendText=function(a){return this.insertTextAtPosition(a,this.getLength())},c.prototype.insertTextAtPosition=function(a,b){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(a.pieceList,b))},c.prototype.removeTextAtRange=function(a){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(a))},c.prototype.replaceTextAtRange=function(a,b){return this.removeTextAtRange(b).insertTextAtPosition(a,b[0])},c.prototype.moveTextFromRangeToPosition=function(a,b){var c,d;if(!(a[0]<=b&&b<=a[1]))return d=this.getTextAtRange(a),c=d.getLength(),a[0]<b&&(b-=c),this.removeTextAtRange(a).insertTextAtPosition(d,b)},c.prototype.addAttributeAtRange=function(a,b,c){var d;return d={},d[a]=b,this.addAttributesAtRange(d,c)},c.prototype.addAttributesAtRange=function(a,b){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(b,function(b){return b.copyWithAdditionalAttributes(a)}))},c.prototype.removeAttributeAtRange=function(a,b){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(b,function(b){return b.copyWithoutAttribute(a)}))},c.prototype.setAttributesAtRange=function(a,b){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(b,function(b){return b.copyWithAttributes(a)}))},c.prototype.getAttributesAtPosition=function(a){var b,c;return null!=(b=null!=(c=this.pieceList.getObjectAtPosition(a))?c.getAttributes():void 0)?b:{}},c.prototype.getCommonAttributes=function(){var a,b;return a=function(){var a,c,d,e;for(d=this.pieceList.toArray(),e=[],a=0,c=d.length;c>a;a++)b=d[a],e.push(b.getAttributes());return e}.call(this),Trix.Hash.fromCommonAttributesOfObjects(a).toObject()},c.prototype.getCommonAttributesAtRange=function(a){var b;return null!=(b=this.getTextAtRange(a).getCommonAttributes())?b:{}},c.prototype.getExpandedRangeForAttributeAtOffset=function(a,b){var c,d,e;for(c=e=b,d=this.getLength();c>0&&this.getCommonAttributesAtRange([c-1,e])[a];)c--;for(;d>e&&this.getCommonAttributesAtRange([b,e+1])[a];)e++;return[c,e]},c.prototype.getTextAtRange=function(a){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(a))},c.prototype.getStringAtRange=function(a){return this.pieceList.getSplittableListInRange(a).toString()},c.prototype.startsWithString=function(a){return this.getStringAtRange([0,a.length])===a},c.prototype.endsWithString=function(a){var b;return b=this.getLength(),this.getStringAtRange([b-a.length,b])===a},c.prototype.getAttachmentPieces=function(){var a,b,c,d,e;for(d=this.pieceList.toArray(),e=[],a=0,b=d.length;b>a;a++)c=d[a],null!=c.attachment&&e.push(c);return e},c.prototype.getAttachments=function(){var a,b,c,d,e;for(d=this.getAttachmentPieces(),e=[],a=0,b=d.length;b>a;a++)c=d[a],e.push(c.attachment);return e},c.prototype.getAttachmentAndPositionById=function(a){var b,c,d,e,f,g;for(e=0,f=this.pieceList.toArray(),b=0,c=f.length;c>b;b++){if(d=f[b],(null!=(g=d.attachment)?g.id:void 0)===a)return{attachment:d.attachment,position:e};e+=d.length}return{attachment:null,position:null}},c.prototype.getAttachmentById=function(a){var b,c,d;return d=this.getAttachmentAndPositionById(a),b=d.attachment,c=d.position,b},c.prototype.getRangeOfAttachment=function(a){var b,c;return c=this.getAttachmentAndPositionById(a.id),a=c.attachment,b=c.position,null!=a?[b,b+1]:void 0},c.prototype.updateAttributesForAttachment=function(a,b){var c;return(c=this.getRangeOfAttachment(b))?this.addAttributesAtRange(a,c):this},c.prototype.getLength=function(){return this.pieceList.getEndPosition()},c.prototype.isEmpty=function(){return 0===this.getLength()},c.prototype.isEqualTo=function(a){var b;return c.__super__.isEqualTo.apply(this,arguments)||(null!=a&&null!=(b=a.pieceList)?b.isEqualTo(this.pieceList):void 0)},c.prototype.isBlockBreak=function(){return 1===this.getLength()&&this.pieceList.getObjectAtIndex(0).isBlockBreak()},c.prototype.eachPiece=function(a){return this.pieceList.eachObject(a)},c.prototype.getPieces=function(){return this.pieceList.toArray()},c.prototype.getPieceAtPosition=function(a){return this.pieceList.getObjectAtPosition(a)},c.prototype.contentsForInspection=function(){return{pieceList:this.pieceList.inspect()}},c.prototype.toSerializableText=function(){var a;return a=this.pieceList.selectSplittableList(function(a){return a.isSerializable()}),this.copyWithPieceList(a)},c.prototype.toString=function(){return this.pieceList.toString()},c.prototype.toJSON=function(){return this.pieceList.toJSON()},c.prototype.toConsole=function(){var a;return JSON.stringify(function(){var b,c,d,e;for(d=this.pieceList.toArray(),e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(JSON.parse(a.toConsole()));return e}.call(this))},c}(Trix.Object)}.call(this),function(){var a,b=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},c={}.hasOwnProperty,d=[].slice;a=Trix.arraysAreEqual,Trix.Block=function(c){function e(a,b){null==a&&(a=new Trix.Text),null==b&&(b=[]),e.__super__.constructor.apply(this,arguments),this.text=g(a),this.attributes=b}var f,g,h,i,j,k,l,m;return b(e,c),e.fromJSON=function(a){var b;return b=Trix.Text.fromJSON(a.text),new this(b,a.attributes)},e.prototype.isEmpty=function(){return this.text.isBlockBreak()},e.prototype.isEqualTo=function(b){return e.__super__.isEqualTo.apply(this,arguments)||this.text.isEqualTo(null!=b?b.text:void 0)&&a(this.attributes,null!=b?b.attributes:void 0)},e.prototype.copyWithText=function(a){return new this.constructor(a,this.attributes)},e.prototype.copyWithoutText=function(){return this.copyWithText(null)},e.prototype.copyWithAttributes=function(a){return new this.constructor(this.text,a)},e.prototype.copyUsingObjectMap=function(a){var b;return this.copyWithText((b=a.find(this.text))?b:this.text.copyUsingObjectMap(a))},e.prototype.addAttribute=function(a){var b,c;return c=Trix.config.blockAttributes[a].listAttribute,b=this.attributes.concat(c?[c,a]:[a]),this.copyWithAttributes(b)},e.prototype.removeAttribute=function(a){var b,c;return c=Trix.config.blockAttributes[a].listAttribute,b=j(this.attributes,a),null!=c&&(b=j(b,c)),this.copyWithAttributes(b)},e.prototype.removeLastAttribute=function(){return this.removeAttribute(this.getLastAttribute())},e.prototype.getLastAttribute=function(){return i(this.attributes)},e.prototype.getAttributes=function(){return this.attributes.slice(0)},e.prototype.getAttributeLevel=function(){return this.attributes.length},e.prototype.getAttributeAtLevel=function(a){return this.attributes[a-1]},e.prototype.hasAttributes=function(){return this.getAttributeLevel()>0},e.prototype.getConfig=function(a){var b,c;if((b=this.getLastAttribute())&&(c=Trix.config.blockAttributes[b]))return a?c[a]:c},e.prototype.isListItem=function(){return null!=this.getConfig("listAttribute")},e.prototype.findLineBreakInDirectionFromPosition=function(a,b){var c,d;return d=this.toString(),c=function(){switch(a){case"forward":return d.indexOf("\n",b);case"backward":return d.slice(0,b).lastIndexOf("\n")}}(),-1!==c?c:void 0},e.prototype.contentsForInspection=function(){return{text:this.text.inspect(),attributes:this.attributes}},e.prototype.toString=function(){return this.text.toString()},e.prototype.toJSON=function(){return{text:this.text,attributes:this.attributes}},e.prototype.getLength=function(){return this.text.getLength()},e.prototype.canBeConsolidatedWith=function(a){return!this.hasAttributes()&&!a.hasAttributes()},e.prototype.consolidateWith=function(a){var b,c;return b=Trix.Text.textForStringWithAttributes("\n"),c=this.getTextWithoutBlockBreak().appendText(b),this.copyWithText(c.appendText(a.text))},e.prototype.splitAtOffset=function(a){var b,c;return 0===a?(b=null,c=this):a===this.getLength()?(b=this,c=null):(b=this.copyWithText(this.text.getTextAtRange([0,a])),c=this.copyWithText(this.text.getTextAtRange([a,this.getLength()]))),[b,c]},e.prototype.getBlockBreakPosition=function(){return this.text.getLength()-1},e.prototype.getTextWithoutBlockBreak=function(){return k(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()},e.prototype.canBeGrouped=function(a){return this.attributes[a]},e.prototype.canBeGroupedWith=function(a,b){var c,d,e,f;return c=this.attributes,d=a.getAttributes(),c[b]===d[b]?"bullet"!==(e=c[b])&&"number"!==e||"bulletList"===(f=d[b+1])||"numberList"===f:void 0},g=function(a){return a=m(a),a=f(a)},m=function(a){var b,c,e,f,g,h;return f=!1,h=a.getPieces(),c=2<=h.length?d.call(h,0,b=h.length-1):(b=0,[]),e=h[b++],null==e?a:(c=function(){var a,b,d;for(d=[],a=0,b=c.length;b>a;a++)g=c[a],g.isBlockBreak()?(f=!0,d.push(l(g))):d.push(g);return d}(),f?new Trix.Text(d.call(c).concat([e])):a)},h=Trix.Text.textForStringWithAttributes("\n",{blockBreak:!0}),f=function(a){return k(a)?a:a.appendText(h)},k=function(a){var b,c;return c=a.getLength(),0!==c&&(b=a.getTextAtRange([c-1,c]),b.isBlockBreak())},l=function(a){return a.copyWithoutAttribute("blockBreak")},j=function(a,b){return i(a)===b?a.slice(0,-1):a},i=function(a){return a.slice(-1)[0]},e}(Trix.Object)}.call(this),function(){var a,b,c,d,e,f,g,h,i,j=function(a,b){function c(){this.constructor=a}for(var d in b)k.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},k={}.hasOwnProperty,l=[].slice,m=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};a=Trix.arraysAreEqual,g=Trix.normalizeSpaces,e=Trix.makeElement,h=Trix.tagName,d=Trix.getBlockTagNames,i=Trix.walkTree,c=Trix.findClosestElementFromNode,b=Trix.elementContainsNode,f=Trix.nodeIsAttachmentElement,Trix.HTMLParser=function(k){function n(a,b){this.html=a,this.referenceElement=(null!=b?b:{}).referenceElement,this.blocks=[],this.blockElements=[],this.processedElements=[]}var o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G;return j(n,k),o="style href src width height class".split(" "),n.parse=function(a,b){var c;return c=new this(a,b),c.parse(),c},n.prototype.getDocument=function(){return Trix.Document.fromJSON(this.blocks)},n.prototype.parse=function(){var a,b;try{for(this.createHiddenContainer(),a=D(this.html),this.containerElement.innerHTML=a,b=i(this.containerElement,{usingFilter:A});b.nextNode();)this.processNode(b.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}},n.prototype.createHiddenContainer=function(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=e({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))},n.prototype.removeHiddenContainer=function(){return this.containerElement.parentNode.removeChild(this.containerElement)},D=function(a){var b,c,d,e,f,g,h,j,k,n,p,q,r,t,u,v;for(c=document.implementation.createHTMLDocument(""),c.documentElement.innerHTML=a,b=c.body,d=c.head,r=d.querySelectorAll("style"),e=0,h=r.length;h>e;e++)u=r[e],b.appendChild(u);for(q=[],v=i(b);v.nextNode();)switch(p=v.currentNode,p.nodeType){case Node.ELEMENT_NODE:if(s(p))q.push(p);else for(t=l.call(p.attributes),f=0,j=t.length;j>f;f++)n=t[f].name,m.call(o,n)>=0||0===n.indexOf("data-trix")||p.removeAttribute(n);break;case Node.COMMENT_NODE:q.push(p)}for(g=0,k=q.length;k>g;g++)p=q[g],p.parentNode.removeChild(p);return b.innerHTML},s=function(a){return(null!=a?a.nodeType:void 0)===Node.ELEMENT_NODE?"script"===h(a)||"false"===a.getAttribute("data-trix-serialize"):void 0},A=function(a){return"style"===h(a)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},n.prototype.processNode=function(a){switch(a.nodeType){case Node.TEXT_NODE:return this.processTextNode(a);case Node.ELEMENT_NODE:return this.appendBlockForElement(a),this.processElement(a)}},n.prototype.appendBlockForElement=function(c){var d,e,f,g;if(f=w(c),e=b(this.currentBlockElement,c),f&&!w(c.firstChild)){if(!(y(c.firstChild)&&w(c.firstElementChild)||(d=this.getBlockAttributes(c),e&&a(d,this.currentBlock.attributes))))return this.currentBlock=this.appendBlockForAttributesWithElement(d,c),this.currentBlockElement=c}else if(this.currentBlockElement&&!e&&!f)return(g=this.findParentBlockElement(c))?this.appendBlockForElement(g):(this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null)},n.prototype.findParentBlockElement=function(a){var b;for(b=a.parentElement;b&&b!==this.containerElement;){if(w(b)&&m.call(this.blockElements,b)>=0)return b;b=b.parentElement}return null},n.prototype.processTextNode=function(a){var b,c;return y(a)?void 0:(c=a.data,r(a.parentNode)||(c=E(c),F(null!=(b=a.previousSibling)?b.textContent:void 0)&&(c=z(c))),this.appendStringWithAttributes(c,this.getTextAttributes(a.parentNode)))},n.prototype.processElement=function(a){var b,c,d,e,g;if(f(a))return b=t(a),Object.keys(b).length&&(e=this.getTextAttributes(a),this.appendAttachmentWithAttributes(b,e),a.innerHTML=""),this.processedElements.push(a);switch(h(a)){case"br":return x(a)||w(a.nextSibling)||this.appendStringWithAttributes("\n",this.getTextAttributes(a)),this.processedElements.push(a);case"img":b={url:a.getAttribute("src"),contentType:"image"},d=v(a);for(c in d)g=d[c],b[c]=g;return this.appendAttachmentWithAttributes(b,this.getTextAttributes(a)),this.processedElements.push(a);case"tr":if(a.parentNode.firstChild!==a)return this.appendStringWithAttributes("\n");break;case"td":if(a.parentNode.firstChild!==a)return this.appendStringWithAttributes(" | ")}},n.prototype.appendBlockForAttributesWithElement=function(a,b){var c;return this.blockElements.push(b),c=p(a),this.blocks.push(c),c},n.prototype.appendEmptyBlock=function(){return this.appendBlockForAttributesWithElement([],null)},n.prototype.appendStringWithAttributes=function(a,b){return this.appendPiece(C(a,b))},n.prototype.appendAttachmentWithAttributes=function(a,b){return this.appendPiece(B(a,b))},n.prototype.appendPiece=function(a){return 0===this.blocks.length&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(a)},n.prototype.appendStringToTextAtIndex=function(a,b){var c,d;return d=this.blocks[b].text,c=d[d.length-1],"string"===(null!=c?c.type:void 0)?c.string+=a:d.push(C(a))},n.prototype.prependStringToTextAtIndex=function(a,b){var c,d;return d=this.blocks[b].text,c=d[0],"string"===(null!=c?c.type:void 0)?c.string=a+c.string:d.unshift(C(a))},C=function(a,b){var c;return null==b&&(b={}),c="string",a=g(a),{string:a,attributes:b,type:c}},B=function(a,b){var c;return null==b&&(b={}),c="attachment",{attachment:a,attributes:b,type:c}},p=function(a){var b;return null==a&&(a={}),b=[],{text:b,attributes:a}},n.prototype.getTextAttributes=function(a){var b,d,e,g,h,i,j,k,l,m,n,o,p;e={},m=Trix.config.textAttributes;for(b in m)if(h=m[b],h.tagName&&c(a,{matchingSelector:h.tagName}))e[b]=!0;else if(h.parser&&(p=h.parser(a))){for(d=!1,n=this.findBlockElementAncestors(a.firstChild),i=0,l=n.length;l>i;i++)if(g=n[i],h.parser(g)===p){d=!0;break}d||(e[b]=p)}if(f(a)&&(j=a.dataset.trixAttributes)){o=JSON.parse(j);for(k in o)p=o[k],e[k]=p}return e},n.prototype.getBlockAttributes=function(a){var b,c,d,e;for(c=[];a&&a!==this.containerElement;){e=Trix.config.blockAttributes;for(b in e)d=e[b],d.parse!==!1&&h(a)===d.tagName&&(("function"==typeof d.test?d.test(a):void 0)||!d.test)&&(c.push(b),d.listAttribute&&c.push(d.listAttribute));a=a.parentNode}return c.reverse()},n.prototype.findBlockElementAncestors=function(a){var b,c;for(b=[];a&&a!==this.containerElement;)c=h(a),m.call(d(),c)>=0&&b.push(a),a=a.parentNode;return b},t=function(a){return JSON.parse(a.dataset.trixAttachment)},v=function(a){var b,c,d;return d=a.getAttribute("width"),c=a.getAttribute("height"),b={},d&&(b.width=parseInt(d,10)),c&&(b.height=parseInt(c,10)),b},w=function(a){var b;if((null!=a?a.nodeType:void 0)===Node.ELEMENT_NODE&&!c(a,{matchingSelector:"td"}))return b=h(a),m.call(d(),b)>=0||"block"===window.getComputedStyle(a).display},y=function(a){return(null!=a?a.nodeType:void 0)===Node.TEXT_NODE&&G(a.data)&&!r(a.parentNode)?!a.previousSibling||w(a.previousSibling)||!a.nextSibling||w(a.nextSibling):void 0},x=function(a){return"br"===h(a)&&w(a.parentNode)&&a.parentNode.lastChild===a},r=function(a){var b;return b=window.getComputedStyle(a).whiteSpace,"pre"===b||"pre-wrap"===b||"pre-line"===b},n.prototype.translateBlockElementMarginsToNewlines=function(){var a,b,c,d,e,f,g,h;for(b=this.getMarginOfDefaultBlockElement(),g=this.blocks,h=[],d=c=0,e=g.length;e>c;d=++c)a=g[d],(f=this.getMarginOfBlockElementAtIndex(d))&&(f.top>2*b.top&&this.prependStringToTextAtIndex("\n",d),h.push(f.bottom>2*b.bottom?this.appendStringToTextAtIndex("\n",d):void 0));return h},n.prototype.getMarginOfBlockElementAtIndex=function(a){var b,c;return!(b=this.blockElements[a])||(c=h(b),m.call(d(),c)>=0||m.call(this.processedElements,b)>=0)?void 0:u(b)},n.prototype.getMarginOfDefaultBlockElement=function(){var a;return a=e(Trix.config.blockAttributes.default.tagName),this.containerElement.appendChild(a),u(a)},u=function(a){var b;return b=window.getComputedStyle(a),"block"===b.display?{top:parseInt(b.marginTop),bottom:parseInt(b.marginBottom)}:void 0},q=RegExp("[^\\S"+Trix.NON_BREAKING_SPACE+"]"),E=function(a){return a.replace(RegExp(""+q.source,"g")," ").replace(/\ {2,}/g," ")},z=function(a){return a.replace(RegExp("^"+q.source+"+"),"")},G=function(a){return RegExp("^"+q.source+"*$").test(a)},F=function(a){return/\s$/.test(a)},n}(Trix.BasicObject)}.call(this),function(){var a,b,c,d=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},e={}.hasOwnProperty,f=[].slice,g=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};a=Trix.arraysAreEqual,b=Trix.normalizeRange,c=Trix.rangeIsCollapsed,Trix.Document=function(e){function h(a){null==a&&(a=[]),h.__super__.constructor.apply(this,arguments),0===a.length&&(a=[new Trix.Block]),this.blockList=Trix.SplittableList.box(a)}var i;return d(h,e),h.fromJSON=function(a){var b,c;return c=function(){var c,d,e;for(e=[],c=0,d=a.length;d>c;c++)b=a[c],e.push(Trix.Block.fromJSON(b));return e}(),new this(c)},h.fromHTML=function(a,b){return Trix.HTMLParser.parse(a,b).getDocument()},h.fromString=function(a,b){var c;return c=Trix.Text.textForStringWithAttributes(a,b),new this([new Trix.Block(c)])},h.prototype.isEmpty=function(){var a;return 1===this.blockList.length&&(a=this.getBlockAtIndex(0),a.isEmpty()&&!a.hasAttributes())},h.prototype.copy=function(a){var b;return null==a&&(a={}),b=a.consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray(),new this.constructor(b)},h.prototype.copyUsingObjectsFromDocument=function(a){var b;return b=new Trix.ObjectMap(a.getObjects()),this.copyUsingObjectMap(b)},h.prototype.copyUsingObjectMap=function(a){var b,c,d;return c=function(){var c,e,f,g;for(f=this.getBlocks(),g=[],c=0,e=f.length;e>c;c++)b=f[c],g.push((d=a.find(b))?d:b.copyUsingObjectMap(a));return g}.call(this),new this.constructor(c)},h.prototype.copyWithBaseBlockAttributes=function(a){var b,c,d;return null==a&&(a=[]),d=function(){var d,e,f,g;for(f=this.getBlocks(),g=[],d=0,e=f.length;e>d;d++)c=f[d],b=a.concat(c.getAttributes()),g.push(c.copyWithAttributes(b));return g}.call(this),new this.constructor(d)},h.prototype.insertDocumentAtRange=function(a,d){var e,f,g,h,i,j,k;return f=a.blockList,i=(d=b(d))[0],j=this.locationFromPosition(i),g=j.index,h=j.offset,k=this,e=this.getBlockAtPosition(i),c(d)&&e.isEmpty()&&!e.hasAttributes()?k=new this.constructor(k.blockList.removeObjectAtIndex(g)):e.getBlockBreakPosition()===h&&i++,k=k.removeTextAtRange(d),new this.constructor(k.blockList.insertSplittableListAtPosition(f,i))},h.prototype.mergeDocumentAtRange=function(c,d){var e,f,g,h,i,j,k,l,m,n,o,p;return o=(d=b(d))[0],n=this.locationFromPosition(o),f=this.getBlockAtIndex(n.index).getAttributes(),e=c.getBaseBlockAttributes(),p=f.slice(-e.length),a(e,p)?(k=f.slice(0,-e.length),j=c.copyWithBaseBlockAttributes(k)):j=c.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(f),g=j.getBlockCount(),h=j.getBlockAtIndex(0),a(f,h.getAttributes())?(i=h.getTextWithoutBlockBreak(),m=this.insertTextAtRange(i,d),g>1&&(j=new this.constructor(j.getBlocks().slice(1)),l=o+i.getLength(),m=m.insertDocumentAtRange(j,l))):m=this.insertDocumentAtRange(j,d),m},h.prototype.insertTextAtRange=function(a,c){var d,e,f,g,h;return h=(c=b(c))[0],g=this.locationFromPosition(h),e=g.index,f=g.offset,d=this.removeTextAtRange(c),new this.constructor(d.blockList.editObjectAtIndex(e,function(b){return b.copyWithText(b.text.insertTextAtPosition(a,f))}))},h.prototype.removeTextAtRange=function(a){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;return l=a=b(a),r=l[0],g=l[1],c(a)?this:(j=this.locationFromPosition(r),i=j.index,h=this.getBlockAtIndex(i),k=h.text.getTextAtRange([0,j.offset]),p=this.locationFromPosition(g),o=p.index,n=this.getBlockAtIndex(o),q=n.text.getTextAtRange([p.offset,n.getLength()]),s=k.appendText(q),m=i!==o&&0===j.offset,t=m&&h.getAttributeLevel()>=n.getAttributeLevel(),e=t?n.copyWithText(s):h.copyWithText(s),f=this.blockList.toArray(),d=o+1-i,f.splice(i,d,e),new this.constructor(f))},h.prototype.moveTextFromRangeToPosition=function(a,c){var d,e,g,h,i,j,k,l,m,n;if(j=a=b(a),m=j[0],g=j[1],c>=m&&g>=c)return this;if(e=this.getDocumentAtRange(a),l=this.removeTextAtRange(a),i=c>m,i&&(c-=e.getLength()),!l.firstBlockInRangeIsEntirelySelected(a)){if(k=e.getBlocks(),h=k[0],d=2<=k.length?f.call(k,1):[],0===d.length?(n=h.getTextWithoutBlockBreak(),i&&(c+=1)):n=h.text,l=l.insertTextAtRange(n,c),0===d.length)return l;e=new this.constructor(d),c+=n.getLength()}return l.insertDocumentAtRange(e,c)},h.prototype.addAttributeAtRange=function(a,b,c){var d;return d=this.blockList,this.eachBlockAtRange(c,function(c,e,f){return d=d.editObjectAtIndex(f,function(){return Trix.config.blockAttributes[a]?c.addAttribute(a,b):e[0]===e[1]?c:c.copyWithText(c.text.addAttributeAtRange(a,b,e))})}),new this.constructor(d)},h.prototype.addAttribute=function(a,b){var c;return c=this.blockList,this.eachBlock(function(d,e){return c=c.editObjectAtIndex(e,function(){return d.addAttribute(a,b)})}),new this.constructor(c)},h.prototype.removeAttributeAtRange=function(a,b){var c;return c=this.blockList,this.eachBlockAtRange(b,function(b,d,e){return Trix.config.blockAttributes[a]?c=c.editObjectAtIndex(e,function(){return b.removeAttribute(a)}):d[0]!==d[1]?c=c.editObjectAtIndex(e,function(){return b.copyWithText(b.text.removeAttributeAtRange(a,d))}):void 0}),new this.constructor(c)},h.prototype.updateAttributesForAttachment=function(a,b){var c,d,e,f;return e=(d=this.getRangeOfAttachment(b))[0],c=this.locationFromPosition(e).index,f=this.getTextAtIndex(c),new this.constructor(this.blockList.editObjectAtIndex(c,function(c){return c.copyWithText(f.updateAttributesForAttachment(a,b))}))},h.prototype.removeAttributeForAttachment=function(a,b){var c;return c=this.getRangeOfAttachment(b),this.removeAttributeAtRange(a,c)},h.prototype.insertBlockBreakAtRange=function(a){var c,d,e,f;return f=(a=b(a))[0],e=this.locationFromPosition(f).offset,d=this.removeTextAtRange(a),0===e&&(c=[new Trix.Block]),new this.constructor(d.blockList.insertSplittableListAtPosition(new Trix.SplittableList(c),f))},h.prototype.applyBlockAttributeAtRange=function(a,b,c){var d,e,f;return e=this.expandRangeToLineBreaksAndSplitBlocks(c),d=e.document,c=e.range,Trix.config.blockAttributes[a].listAttribute?(d=d.removeLastListAttributeAtRange(c,{exceptAttributeName:a}),f=d.convertLineBreaksToBlockBreaksInRange(c),d=f.document,c=f.range):d=d.consolidateBlocksAtRange(c),d.addAttributeAtRange(a,b,c)},h.prototype.removeLastListAttributeAtRange=function(a,b){var c;return null==b&&(b={}),c=this.blockList,this.eachBlockAtRange(a,function(a,d,e){var f;if((f=a.getLastAttribute())&&Trix.config.blockAttributes[f].listAttribute&&f!==b.exceptAttributeName)return c=c.editObjectAtIndex(e,function(){return a.removeAttribute(f)})}),new this.constructor(c)},h.prototype.firstBlockInRangeIsEntirelySelected=function(a){var c,d,e,f,g,h;return f=a=b(a),h=f[0],c=f[1],d=this.locationFromPosition(h),g=this.locationFromPosition(c),0===d.offset&&d.index<g.index||d.index===g.index&&(e=this.getBlockAtIndex(d.index).getLength(),0===d.offset&&g.offset===e)},h.prototype.expandRangeToLineBreaksAndSplitBlocks=function(a){var c,d,e,f,g,h,i,j,k;return h=a=b(a),k=h[0],f=h[1],j=this.locationFromPosition(k),e=this.locationFromPosition(f),c=this,i=c.getBlockAtIndex(j.index),null!=(j.offset=i.findLineBreakInDirectionFromPosition("backward",j.offset))&&(g=c.positionFromLocation(j),c=c.insertBlockBreakAtRange([g,g+1]),e.index+=1,e.offset-=c.getBlockAtIndex(j.index).getLength(),j.index+=1),j.offset=0,0===e.offset&&e.index>j.index?(e.index-=1,e.offset=c.getBlockAtIndex(e.index).getBlockBreakPosition()):(d=c.getBlockAtIndex(e.index),"\n"===d.text.getStringAtRange([e.offset-1,e.offset])?e.offset-=1:e.offset=d.findLineBreakInDirectionFromPosition("forward",e.offset),e.offset!==d.getBlockBreakPosition()&&(g=c.positionFromLocation(e),c=c.insertBlockBreakAtRange([g,g+1]))),k=c.positionFromLocation(j),f=c.positionFromLocation(e),a=b([k,f]),{document:c,range:a}},h.prototype.convertLineBreaksToBlockBreaksInRange=function(a){var c,d,e;return d=(a=b(a))[0],e=this.getStringAtRange(a).slice(0,-1),c=this,e.replace(/.*?\n/g,function(a){return d+=a.length,c=c.insertBlockBreakAtRange([d-1,d])}),{document:c,range:a}},h.prototype.consolidateBlocksAtRange=function(a){var c,d,e,f,g;return e=a=b(a),g=e[0],d=e[1],f=this.locationFromPosition(g).index,
c=this.locationFromPosition(d).index,new this.constructor(this.blockList.consolidateFromIndexToIndex(f,c))},h.prototype.getDocumentAtRange=function(a){var c;return a=b(a),c=this.blockList.getSplittableListInRange(a).toArray(),new this.constructor(c)},h.prototype.getStringAtRange=function(a){return this.getDocumentAtRange(a).toString()},h.prototype.getBlockAtIndex=function(a){return this.blockList.getObjectAtIndex(a)},h.prototype.getBlockAtPosition=function(a){var b;return b=this.locationFromPosition(a).index,this.getBlockAtIndex(b)},h.prototype.getTextAtIndex=function(a){var b;return null!=(b=this.getBlockAtIndex(a))?b.text:void 0},h.prototype.getTextAtPosition=function(a){var b;return b=this.locationFromPosition(a).index,this.getTextAtIndex(b)},h.prototype.getPieceAtPosition=function(a){var b,c,d;return d=this.locationFromPosition(a),b=d.index,c=d.offset,this.getTextAtIndex(b).getPieceAtPosition(a)},h.prototype.getCharacterAtPosition=function(a){var b,c,d;return d=this.locationFromPosition(a),b=d.index,c=d.offset,this.getTextAtIndex(b).getStringAtRange([c,c+1])},h.prototype.getLength=function(){return this.blockList.getEndPosition()},h.prototype.getBlocks=function(){return this.blockList.toArray()},h.prototype.getBlockCount=function(){return this.blockList.length},h.prototype.getEditCount=function(){return this.editCount},h.prototype.eachBlock=function(a){return this.blockList.eachObject(a)},h.prototype.eachBlockAtRange=function(a,c){var d,e,f,g,h,i,j,k,l,m,n,o;if(i=a=b(a),n=i[0],f=i[1],m=this.locationFromPosition(n),e=this.locationFromPosition(f),m.index===e.index)return d=this.getBlockAtIndex(m.index),o=[m.offset,e.offset],c(d,o,m.index);for(l=[],h=g=j=m.index,k=e.index;k>=j?k>=g:g>=k;h=k>=j?++g:--g)(d=this.getBlockAtIndex(h))?(o=function(){switch(h){case m.index:return[m.offset,d.text.getLength()];case e.index:return[0,e.offset];default:return[0,d.text.getLength()]}}(),l.push(c(d,o,h))):l.push(void 0);return l},h.prototype.getCommonAttributesAtRange=function(a){var d,e,f;return e=(a=b(a))[0],c(a)?this.getCommonAttributesAtPosition(e):(f=[],d=[],this.eachBlockAtRange(a,function(a,b){return b[0]!==b[1]?(f.push(a.text.getCommonAttributesAtRange(b)),d.push(i(a))):void 0}),Trix.Hash.fromCommonAttributesOfObjects(f).merge(Trix.Hash.fromCommonAttributesOfObjects(d)).toObject())},h.prototype.getCommonAttributesAtPosition=function(a){var b,c,d,e,f,h,j,k,l,m;if(l=this.locationFromPosition(a),f=l.index,k=l.offset,d=this.getBlockAtIndex(f),!d)return{};e=i(d),b=d.text.getAttributesAtPosition(k),c=d.text.getAttributesAtPosition(k-1),h=function(){var a,b;a=Trix.config.textAttributes,b=[];for(j in a)m=a[j],m.inheritable&&b.push(j);return b}();for(j in c)m=c[j],(m===b[j]||g.call(h,j)>=0)&&(e[j]=m);return e},h.prototype.getRangeOfCommonAttributeAtPosition=function(a,c){var d,e,f,g,h,i,j,k,l;return h=this.locationFromPosition(c),f=h.index,g=h.offset,l=this.getTextAtIndex(f),i=l.getExpandedRangeForAttributeAtOffset(a,g),k=i[0],e=i[1],j=this.positionFromLocation({index:f,offset:k}),d=this.positionFromLocation({index:f,offset:e}),b([j,d])},h.prototype.getBaseBlockAttributes=function(){var a,b,c,d,e,f,g;for(a=this.getBlockAtIndex(0).getAttributes(),c=d=1,g=this.getBlockCount();g>=1?g>d:d>g;c=g>=1?++d:--d)b=this.getBlockAtIndex(c).getAttributes(),f=Math.min(a.length,b.length),a=function(){var c,d,g;for(g=[],e=c=0,d=f;(d>=0?d>c:c>d)&&b[e]===a[e];e=d>=0?++c:--c)g.push(b[e]);return g}();return a},i=function(a){var b,c;return c={},(b=a.getLastAttribute())&&(c[b]=!0),c},h.prototype.getAttachmentById=function(a){var b,c,d,e;for(e=this.getAttachments(),c=0,d=e.length;d>c;c++)if(b=e[c],b.id===a)return b},h.prototype.getAttachmentPieces=function(){var a;return a=[],this.blockList.eachObject(function(b){var c;return c=b.text,a=a.concat(c.getAttachmentPieces())}),a},h.prototype.getAttachments=function(){var a,b,c,d,e;for(d=this.getAttachmentPieces(),e=[],a=0,b=d.length;b>a;a++)c=d[a],e.push(c.attachment);return e},h.prototype.getRangeOfAttachment=function(a){var c,d,e,f,g,h,i;for(f=0,g=this.blockList.toArray(),d=c=0,e=g.length;e>c;d=++c){if(h=g[d].text,i=h.getRangeOfAttachment(a))return b([f+i[0],f+i[1]]);f+=h.getLength()}},h.prototype.getAttachmentPieceForAttachment=function(a){var b,c,d,e;for(e=this.getAttachmentPieces(),b=0,c=e.length;c>b;b++)if(d=e[b],d.attachment===a)return d},h.prototype.locationFromPosition=function(a){var b,c;return c=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,a)),null!=c.index?c:(b=this.getBlocks(),{index:b.length-1,offset:b[b.length-1].getLength()})},h.prototype.positionFromLocation=function(a){return this.blockList.findPositionAtIndexAndOffset(a.index,a.offset)},h.prototype.locationRangeFromPosition=function(a){return b(this.locationFromPosition(a))},h.prototype.locationRangeFromRange=function(a){var c,d,e,f;if(a=b(a))return f=a[0],d=a[1],e=this.locationFromPosition(f),c=this.locationFromPosition(d),b([e,c])},h.prototype.rangeFromLocationRange=function(a){var d,e;return a=b(a),d=this.positionFromLocation(a[0]),c(a)||(e=this.positionFromLocation(a[1])),b([d,e])},h.prototype.isEqualTo=function(a){return this.blockList.isEqualTo(null!=a?a.blockList:void 0)},h.prototype.getTexts=function(){var a,b,c,d,e;for(d=this.getBlocks(),e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.text);return e},h.prototype.getPieces=function(){var a,b,c,d,e;for(c=[],d=this.getTexts(),a=0,b=d.length;b>a;a++)e=d[a],c.push.apply(c,e.getPieces());return c},h.prototype.getObjects=function(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())},h.prototype.toSerializableDocument=function(){var a;return a=[],this.blockList.eachObject(function(b){return a.push(b.copyWithText(b.text.toSerializableText()))}),new this.constructor(a)},h.prototype.toString=function(){return this.blockList.toString()},h.prototype.toJSON=function(){return this.blockList.toJSON()},h.prototype.toConsole=function(){var a;return JSON.stringify(function(){var b,c,d,e;for(d=this.blockList.toArray(),e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(JSON.parse(a.text.toConsole()));return e}.call(this))},h}(Trix.Object)}.call(this),function(){var a,b,c,d,e,f=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},g={}.hasOwnProperty;b=Trix.normalizeRange,d=Trix.rangesAreEqual,c=Trix.objectsAreEqual,e=Trix.summarizeArrayChange,a=Trix.extend,Trix.Composition=function(g){function h(){this.document=new Trix.Document,this.attachments=[],this.currentAttributes={},this.revision=0}var i;return f(h,g),h.prototype.setDocument=function(a){var b;return a.isEqualTo(this.document)?void 0:(this.document=a,this.refreshAttachments(),this.revision++,null!=(b=this.delegate)&&"function"==typeof b.compositionDidChangeDocument?b.compositionDidChangeDocument(a):void 0)},h.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.getSelectedRange()}},h.prototype.loadSnapshot=function(a){var b,c,d,e;return b=a.document,e=a.selectedRange,null!=(c=this.delegate)&&"function"==typeof c.compositionWillLoadSnapshot&&c.compositionWillLoadSnapshot(),this.setDocument(null!=b?b:new Trix.Document),this.setSelection(null!=e?e:[0,0]),null!=(d=this.delegate)&&"function"==typeof d.compositionDidLoadSnapshot?d.compositionDidLoadSnapshot():void 0},h.prototype.insertText=function(a,b){var c,d,e,f;return f=(null!=b?b:{updatePosition:!0}).updatePosition,d=this.getSelectedRange(),this.setDocument(this.document.insertTextAtRange(a,d)),e=d[0],c=e+a.getLength(),f&&this.setSelection(c),this.notifyDelegateOfInsertionAtRange([e,c])},h.prototype.insertBlock=function(a){var b;return null==a&&(a=new Trix.Block),b=new Trix.Document([a]),this.insertDocument(b)},h.prototype.insertDocument=function(a){var b,c,d;return null==a&&(a=new Trix.Document),c=this.getSelectedRange(),this.setDocument(this.document.insertDocumentAtRange(a,c)),d=c[0],b=d+a.getLength(),this.setSelection(b),this.notifyDelegateOfInsertionAtRange([d,b])},h.prototype.insertString=function(a,b){var c,d;return c=this.getCurrentTextAttributes(),d=Trix.Text.textForStringWithAttributes(a,c),this.insertText(d,b)},h.prototype.insertBlockBreak=function(){var a,b,c;return b=this.getSelectedRange(),this.setDocument(this.document.insertBlockBreakAtRange(b)),c=b[0],a=c+1,this.setSelection(a),this.notifyDelegateOfInsertionAtRange([c,a])},h.prototype.breakFormattedBlock=function(){var a,b,c,d,e,f,g,h;return f=this.getPosition(),g=[f-1,f],b=this.document,h=b.locationFromPosition(f),c=h.index,e=h.offset,a=b.getBlockAtIndex(c),a.getBlockBreakPosition()===e?(b=b.removeTextAtRange(g),g=[f,f]):"\n"===a.text.getStringAtRange([e,e+1])?g=[f-1,f+1]:e-1!==0&&(f+=1),d=new Trix.Document([a.removeLastAttribute().copyWithoutText()]),this.setDocument(b.insertDocumentAtRange(d,g)),this.setSelection(f)},h.prototype.insertLineBreak=function(){var a,b,c,d,e,f,g;return e=this.getSelectedRange(),g=e[0],d=e[1],f=this.document.locationFromPosition(g),c=this.document.locationFromPosition(d),a=this.document.getBlockAtIndex(c.index),a.hasAttributes()?a.isListItem()?a.isEmpty()?(this.decreaseListLevel(),this.setSelection(g)):0===f.offset?(b=new Trix.Document([a.copyWithoutText()]),this.insertDocument(b)):this.insertBlockBreak():a.isEmpty()?this.removeLastBlockAttribute():"\n"===a.text.getStringAtRange([c.offset-1,c.offset])?this.breakFormattedBlock():this.insertString("\n"):this.insertString("\n")},h.prototype.insertHTML=function(a){var b,c,d,e,f;return f=this.getPosition(),e=this.document.getLength(),b=Trix.Document.fromHTML(a),this.setDocument(this.document.mergeDocumentAtRange(b,this.getSelectedRange())),c=this.document.getLength(),d=f+(c-e),this.setSelection(d),this.notifyDelegateOfInsertionAtRange([d,d])},h.prototype.replaceHTML=function(a){var b,c,d;return b=Trix.Document.fromHTML(a).copyUsingObjectsFromDocument(this.document),c=this.getLocationRange({strict:!1}),d=this.document.rangeFromLocationRange(c),this.setDocument(b),this.setSelection(d)},h.prototype.insertFile=function(a){var b,c;return(null!=(c=this.delegate)?c.compositionShouldAcceptFile(a):void 0)?(b=Trix.Attachment.attachmentForFile(a),this.insertAttachment(b)):void 0},h.prototype.insertAttachment=function(a){var b;return b=Trix.Text.textForAttachmentWithAttributes(a,this.currentAttributes),this.insertText(b)},h.prototype.deleteInDirection=function(a){var b,c,d,e,f,g,h;if(f=this.getSelectedRange(),h=f[0],d=f[1],e=f,c=this.getBlock(),h===d){if(g=this.document.locationFromPosition(h),"backward"===a&&0===g.offset&&this.canDecreaseBlockAttributeLevel()&&(c.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(h),c.isEmpty()))return;e=this.getExpandedRangeInDirection(a),"backward"===a&&(b=this.getAttachmentAtRange(e))}return b?(this.editAttachment(b),!1):(this.setDocument(this.document.removeTextAtRange(e)),this.setSelection(e[0]),!c.isListItem()&&void 0)},h.prototype.moveTextFromRange=function(a){var b;return b=this.getSelectedRange()[0],this.setDocument(this.document.moveTextFromRangeToPosition(a,b)),this.setSelection(b)},h.prototype.removeAttachment=function(a){var b;return(b=this.document.getRangeOfAttachment(a))?(this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(b)),this.setSelection(b[0])):void 0},h.prototype.removeLastBlockAttribute=function(){var a,b,c,d;return c=this.getSelectedRange(),d=c[0],b=c[1],a=this.document.getBlockAtPosition(b),this.removeCurrentAttribute(a.getLastAttribute()),this.setSelection(d)},i=" ",h.prototype.insertPlaceholder=function(){return this.placeholderPosition=this.getPosition(),this.insertString(i)},h.prototype.selectPlaceholder=function(){return null!=this.placeholderPosition?(this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+i.length]),this.getSelectedRange()):void 0},h.prototype.forgetPlaceholder=function(){return this.placeholderPosition=null},h.prototype.hasCurrentAttribute=function(a){return null!=this.currentAttributes[a]},h.prototype.toggleCurrentAttribute=function(a){var b;return(b=!this.currentAttributes[a])?this.setCurrentAttribute(a,b):this.removeCurrentAttribute(a)},h.prototype.canSetCurrentAttribute=function(a){switch(a){case"href":return!this.selectionContainsAttachmentWithAttribute(a);default:return!0}},h.prototype.setCurrentAttribute=function(a,b){return Trix.config.blockAttributes[a]?this.setBlockAttribute(a,b):(this.setTextAttribute(a,b),this.currentAttributes[a]=b,this.notifyDelegateOfCurrentAttributesChange())},h.prototype.setTextAttribute=function(a,b){var c,d,e,f;if(d=this.getSelectedRange())return e=d[0],c=d[1],e!==c?this.setDocument(this.document.addAttributeAtRange(a,b,d)):"href"===a?(f=Trix.Text.textForStringWithAttributes(b,{href:b}),this.insertText(f)):void 0},h.prototype.setBlockAttribute=function(a,b){var c;if(c=this.getSelectedRange())return this.setDocument(this.document.applyBlockAttributeAtRange(a,b,c)),this.setSelection(c)},h.prototype.removeCurrentAttribute=function(a){return Trix.config.blockAttributes[a]?(this.removeBlockAttribute(a),this.updateCurrentAttributes()):(this.removeTextAttribute(a),delete this.currentAttributes[a],this.notifyDelegateOfCurrentAttributesChange())},h.prototype.removeTextAttribute=function(a){var b;if(b=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(a,b))},h.prototype.removeBlockAttribute=function(a){var b;if(b=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(a,b))},h.prototype.increaseBlockAttributeLevel=function(){var a,b;return(a=null!=(b=this.getBlock())?b.getLastAttribute():void 0)?this.setCurrentAttribute(a):void 0},h.prototype.decreaseBlockAttributeLevel=function(){var a,b;return(a=null!=(b=this.getBlock())?b.getLastAttribute():void 0)?this.removeCurrentAttribute(a):void 0},h.prototype.decreaseListLevel=function(){var a,b,c,d,e,f;for(f=this.getSelectedRange()[0],e=this.document.locationFromPosition(f).index,c=e,a=this.getBlock().getAttributeLevel();(b=this.document.getBlockAtIndex(c+1))&&b.isListItem()&&b.getAttributeLevel()>a;)c++;return f=this.document.positionFromLocation({index:e,offset:0}),d=this.document.positionFromLocation({index:c,offset:0}),this.setDocument(this.document.removeLastListAttributeAtRange([f,d]))},h.prototype.canIncreaseBlockAttributeLevel=function(){var a,b,c,d;if(a=this.getBlock())return c=a.getConfig("nestable"),null!=c?c:a.isListItem()&&(d=this.getPreviousBlock())?(b=a.getAttributeLevel(),d.getAttributeAtLevel(b)===a.getAttributeAtLevel(b)):void 0},h.prototype.canDecreaseBlockAttributeLevel=function(){var a;return(null!=(a=this.getBlock())?a.getAttributeLevel():void 0)>0},h.prototype.updateCurrentAttributes=function(){var a,b;return(b=this.getSelectedRange({ignoreLock:!0}))&&(a=this.document.getCommonAttributesAtRange(b),!c(a,this.currentAttributes))?(this.currentAttributes=a,this.notifyDelegateOfCurrentAttributesChange()):void 0},h.prototype.getCurrentAttributes=function(){return a.call({},this.currentAttributes)},h.prototype.getCurrentTextAttributes=function(){var a,b,c,d;a={},c=this.currentAttributes;for(b in c)d=c[b],Trix.config.textAttributes[b]&&(a[b]=d);return a},h.prototype.freezeSelection=function(){return this.setCurrentAttribute("frozen",!0)},h.prototype.thawSelection=function(){return this.removeCurrentAttribute("frozen")},h.prototype.hasFrozenSelection=function(){return this.hasCurrentAttribute("frozen")},h.proxyMethod("getSelectionManager().getPointRange"),h.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),h.proxyMethod("getSelectionManager().locationIsCursorTarget"),h.proxyMethod("getSelectionManager().selectionIsExpanded"),h.proxyMethod("delegate?.getSelectionManager"),h.prototype.setSelection=function(a){var b,c;return b=this.document.locationRangeFromRange(a),null!=(c=this.delegate)?c.compositionDidRequestChangingSelectionToLocationRange(b):void 0},h.prototype.getSelectedRange=function(){var a;return(a=this.getLocationRange())?this.document.rangeFromLocationRange(a):void 0},h.prototype.setSelectedRange=function(a){var b;return b=this.document.locationRangeFromRange(a),this.getSelectionManager().setLocationRange(b)},h.prototype.getPosition=function(){var a;return(a=this.getLocationRange())?this.document.positionFromLocation(a[0]):void 0},h.prototype.getLocationRange=function(a){var c;return null!=(c=this.getSelectionManager().getLocationRange(a))?c:b({index:0,offset:0})},h.prototype.getExpandedRangeInDirection=function(a){var c,d,e;return d=this.getSelectedRange(),e=d[0],c=d[1],"backward"===a?e=this.translateUTF16PositionFromOffset(e,-1):c=this.translateUTF16PositionFromOffset(c,1),b([e,c])},h.prototype.moveCursorInDirection=function(a){var b,c,e,f;return this.editingAttachment?e=this.document.getRangeOfAttachment(this.editingAttachment):(f=this.getSelectedRange(),e=this.getExpandedRangeInDirection(a),c=!d(f,e)),this.setSelectedRange("backward"===a?e[0]:e[1]),c&&(b=this.getAttachmentAtRange(e))?this.editAttachment(b):void 0},h.prototype.expandSelectionInDirection=function(a){var b;return b=this.getExpandedRangeInDirection(a),this.setSelectedRange(b)},h.prototype.expandSelectionForEditing=function(){return this.hasCurrentAttribute("href")?this.expandSelectionAroundCommonAttribute("href"):void 0},h.prototype.expandSelectionAroundCommonAttribute=function(a){var b,c;return b=this.getPosition(),c=this.document.getRangeOfCommonAttributeAtPosition(a,b),this.setSelectedRange(c)},h.prototype.selectionContainsAttachmentWithAttribute=function(a){var b,c,d,e,f;if(f=this.getSelectedRange()){for(e=this.document.getDocumentAtRange(f).getAttachments(),c=0,d=e.length;d>c;c++)if(b=e[c],b.hasAttribute(a))return!0;return!1}},h.prototype.selectionIsInCursorTarget=function(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())},h.prototype.positionIsCursorTarget=function(a){var b;return(b=this.document.locationFromPosition(a))?this.locationIsCursorTarget(b):void 0},h.prototype.getSelectedDocument=function(){var a;return(a=this.getSelectedRange())?this.document.getDocumentAtRange(a):void 0},h.prototype.getAttachments=function(){return this.attachments.slice(0)},h.prototype.refreshAttachments=function(){var a,b,c,d,f,g,h,i,j,k,l;for(c=this.document.getAttachments(),i=e(this.attachments,c),a=i.added,l=i.removed,d=0,g=l.length;g>d;d++)b=l[d],b.delegate=null,null!=(j=this.delegate)&&"function"==typeof j.compositionDidRemoveAttachment&&j.compositionDidRemoveAttachment(b);for(f=0,h=a.length;h>f;f++)b=a[f],b.delegate=this,null!=(k=this.delegate)&&"function"==typeof k.compositionDidAddAttachment&&k.compositionDidAddAttachment(b);return this.attachments=c},h.prototype.attachmentDidChangeAttributes=function(a){var b;return this.revision++,null!=(b=this.delegate)&&"function"==typeof b.compositionDidEditAttachment?b.compositionDidEditAttachment(a):void 0},h.prototype.editAttachment=function(a){var b;if(a!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=a,null!=(b=this.delegate)&&"function"==typeof b.compositionDidStartEditingAttachment?b.compositionDidStartEditingAttachment(this.editingAttachment):void 0},h.prototype.stopEditingAttachment=function(){var a;if(this.editingAttachment)return null!=(a=this.delegate)&&"function"==typeof a.compositionDidStopEditingAttachment&&a.compositionDidStopEditingAttachment(this.editingAttachment),this.editingAttachment=null},h.prototype.canEditAttachmentCaption=function(){var a;return null!=(a=this.editingAttachment)?a.isPreviewable():void 0},h.prototype.updateAttributesForAttachment=function(a,b){return this.setDocument(this.document.updateAttributesForAttachment(a,b))},h.prototype.removeAttributeForAttachment=function(a,b){return this.setDocument(this.document.removeAttributeForAttachment(a,b))},h.prototype.getPreviousBlock=function(){var a,b;return(b=this.getLocationRange())&&(a=b[0].index,a>0)?this.document.getBlockAtIndex(a-1):void 0},h.prototype.getBlock=function(){var a;return(a=this.getLocationRange())?this.document.getBlockAtIndex(a[0].index):void 0},h.prototype.getAttachmentAtRange=function(a){var b;return b=this.document.getDocumentAtRange(a),b.toString()===Trix.OBJECT_REPLACEMENT_CHARACTER+"\n"?b.getAttachments()[0]:void 0},h.prototype.notifyDelegateOfCurrentAttributesChange=function(){var a;return null!=(a=this.delegate)&&"function"==typeof a.compositionDidChangeCurrentAttributes?a.compositionDidChangeCurrentAttributes(this.currentAttributes):void 0},h.prototype.notifyDelegateOfInsertionAtRange=function(a){var b;return null!=(b=this.delegate)&&"function"==typeof b.compositionDidPerformInsertionAtRange?b.compositionDidPerformInsertionAtRange(a):void 0},h.prototype.translateUTF16PositionFromOffset=function(a,b){var c,d;return d=this.document.toUTF16String(),c=d.offsetFromUCS2Offset(a),d.offsetToUCS2Offset(c+b)},h}(Trix.BasicObject)}.call(this),function(){var a=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a},b={}.hasOwnProperty;Trix.UndoManager=function(b){function c(a){this.composition=a,this.undoEntries=[],this.redoEntries=[]}var d;return a(c,b),c.prototype.recordUndoEntry=function(a,b){var c,e,f,g,h;return g=null!=b?b:{},e=g.context,c=g.consolidatable,f=this.undoEntries.slice(-1)[0],c&&d(f,a,e)?void 0:(h=this.createEntry({description:a,context:e}),this.undoEntries.push(h),this.redoEntries=[])},c.prototype.undo=function(){var a,b;return(b=this.undoEntries.pop())?(a=this.createEntry(b),this.redoEntries.push(a),this.composition.loadSnapshot(b.snapshot)):void 0},c.prototype.redo=function(){var a,b;return(a=this.redoEntries.pop())?(b=this.createEntry(a),this.undoEntries.push(b),this.composition.loadSnapshot(a.snapshot)):void 0},c.prototype.canUndo=function(){return this.undoEntries.length>0},c.prototype.canRedo=function(){return this.redoEntries.length>0},c.prototype.createEntry=function(a){var b,c,d;return d=null!=a?a:{},c=d.description,b=d.context,{description:null!=c?c.toString():void 0,context:JSON.stringify(b),snapshot:this.composition.getSnapshot()}},d=function(a,b,c){return(null!=a?a.description:void 0)===(null!=b?b.toString():void 0)&&(null!=a?a.context:void 0)===JSON.stringify(c)},c}(Trix.BasicObject)}.call(this),function(){Trix.Editor=function(){function a(a,b,c){this.composition=a,this.selectionManager=b,this.element=c,this.undoManager=new Trix.UndoManager(this.composition)}return a.prototype.loadDocument=function(a){return this.loadSnapshot({document:a,selectedRange:[0,0]})},a.prototype.loadHTML=function(a){return null==a&&(a=""),this.loadDocument(Trix.Document.fromHTML(a,{referenceElement:this.element}))},a.prototype.loadJSON=function(a){var b,c;return b=a.document,c=a.selectedRange,b=Trix.Document.fromJSON(b),this.loadSnapshot({document:b,selectedRange:c})},a.prototype.loadSnapshot=function(a){return this.undoManager=new Trix.UndoManager(this.composition),this.composition.loadSnapshot(a)},a.prototype.getDocument=function(){return this.composition.document},a.prototype.getSelectedDocument=function(){return this.composition.getSelectedDocument()},a.prototype.getSnapshot=function(){return this.composition.getSnapshot()},a.prototype.toJSON=function(){return this.getSnapshot()},a.prototype.deleteInDirection=function(a){return this.composition.deleteInDirection(a)},a.prototype.insertAttachment=function(a){return this.composition.insertAttachment(a)},a.prototype.insertDocument=function(a){return this.composition.insertDocument(a)},a.prototype.insertFile=function(a){return this.composition.insertFile(a)},a.prototype.insertHTML=function(a){return this.composition.insertHTML(a)},a.prototype.insertString=function(a){return this.composition.insertString(a)},a.prototype.insertText=function(a){return this.composition.insertText(a)},a.prototype.insertLineBreak=function(){return this.composition.insertLineBreak()},a.prototype.getSelectedRange=function(){return this.composition.getSelectedRange()},a.prototype.getPosition=function(){return this.composition.getPosition()},a.prototype.getClientRectAtPosition=function(a){var b;return b=this.getDocument().locationRangeFromRange([a,a+1]),this.selectionManager.getClientRectAtLocationRange(b)},a.prototype.expandSelectionInDirection=function(a){return this.composition.expandSelectionInDirection(a)},a.prototype.moveCursorInDirection=function(a){return this.composition.moveCursorInDirection(a)},a.prototype.setSelectedRange=function(a){return this.composition.setSelectedRange(a)},a.prototype.activateAttribute=function(a,b){return null==b&&(b=!0),this.composition.setCurrentAttribute(a,b)},a.prototype.attributeIsActive=function(a){return this.composition.hasCurrentAttribute(a)},a.prototype.canActivateAttribute=function(a){return this.composition.canSetCurrentAttribute(a)},a.prototype.deactivateAttribute=function(a){return this.composition.removeCurrentAttribute(a)},a.prototype.canDecreaseIndentationLevel=function(){return this.composition.canDecreaseBlockAttributeLevel()},a.prototype.canIncreaseIndentationLevel=function(){return this.composition.canIncreaseBlockAttributeLevel()},a.prototype.decreaseIndentationLevel=function(){return this.canDecreaseIndentationLevel()?this.composition.decreaseBlockAttributeLevel():void 0},a.prototype.increaseIndentationLevel=function(){return this.canIncreaseIndentationLevel()?this.composition.increaseBlockAttributeLevel():void 0},a.prototype.canRedo=function(){return this.undoManager.canRedo()},a.prototype.canUndo=function(){return this.undoManager.canUndo()},a.prototype.recordUndoEntry=function(a,b){var c,d,e;return e=null!=b?b:{},d=e.context,c=e.consolidatable,this.undoManager.recordUndoEntry(a,{context:d,consolidatable:c})},a.prototype.redo=function(){return this.canRedo()?this.undoManager.redo():void 0},a.prototype.undo=function(){return this.canUndo()?this.undoManager.undo():void 0},a}()}.call(this),function(){var a=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a},b={}.hasOwnProperty;Trix.ManagedAttachment=function(b){function c(a,b){var c;this.attachmentManager=a,this.attachment=b,c=this.attachment,this.id=c.id,this.file=c.file}return a(c,b),c.prototype.remove=function(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)},c.proxyMethod("attachment.getAttribute"),c.proxyMethod("attachment.hasAttribute"),c.proxyMethod("attachment.setAttribute"),c.proxyMethod("attachment.getAttributes"),c.proxyMethod("attachment.setAttributes"),c.proxyMethod("attachment.isPending"),c.proxyMethod("attachment.isPreviewable"),c.proxyMethod("attachment.getURL"),c.proxyMethod("attachment.getHref"),c.proxyMethod("attachment.getFilename"),c.proxyMethod("attachment.getFilesize"),c.proxyMethod("attachment.getFormattedFilesize"),c.proxyMethod("attachment.getExtension"),c.proxyMethod("attachment.getContentType"),c.proxyMethod("attachment.getFile"),c.proxyMethod("attachment.setFile"),c.proxyMethod("attachment.releaseFile"),c.proxyMethod("attachment.getUploadProgress"),c.proxyMethod("attachment.setUploadProgress"),c}(Trix.BasicObject)}.call(this),function(){var a=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a},b={}.hasOwnProperty;Trix.AttachmentManager=function(b){function c(a){var b,c,d;for(null==a&&(a=[]),this.managedAttachments={},c=0,d=a.length;d>c;c++)b=a[c],this.manageAttachment(b)}return a(c,b),c.prototype.getAttachments=function(){var a,b,c,d;c=this.managedAttachments,d=[];for(b in c)a=c[b],d.push(a);return d},c.prototype.manageAttachment=function(a){var b,c;return null!=(b=this.managedAttachments)[c=a.id]?b[c]:b[c]=new Trix.ManagedAttachment(this,a)},c.prototype.attachmentIsManaged=function(a){return a.id in this.managedAttachments},c.prototype.requestRemovalOfAttachment=function(a){var b;return this.attachmentIsManaged(a)&&null!=(b=this.delegate)&&"function"==typeof b.attachmentManagerDidRequestRemovalOfAttachment?b.attachmentManagerDidRequestRemovalOfAttachment(a):void 0},c.prototype.unmanageAttachment=function(a){var b;return b=this.managedAttachments[a.id],delete this.managedAttachments[a.id],b},c}(Trix.BasicObject)}.call(this),function(){var a,b,c,d,e,f,g,h,i,j,k,l,m;a=Trix.elementContainsNode,b=Trix.findChildIndexOfNode,c=Trix.findClosestElementFromNode,d=Trix.findNodeFromContainerAndOffset,g=Trix.nodeIsBlockStart,h=Trix.nodeIsBlockStartComment,f=Trix.nodeIsBlockContainer,i=Trix.nodeIsCursorTarget,j=Trix.nodeIsEmptyTextNode,k=Trix.nodeIsTextNode,e=Trix.nodeIsAttachmentElement,l=Trix.tagName,m=Trix.walkTree,Trix.LocationMapper=function(){function c(a){this.element=a}var d,n,o,p;return c.prototype.findLocationFromContainerAndOffset=function(c,d,e){var f,h,j,l,p,q,r;for(q=(null!=e?e:{strict:!0}).strict,h=0,j=!1,l={index:0,offset:0},(f=this.findAttachmentElementParentForNode(c))&&(c=f.parentNode,d=b(f)),r=m(this.element,{usingFilter:o});r.nextNode();){if(p=r.currentNode,p===c&&k(c)){i(p)||(l.offset+=d);break}if(p.parentNode===c){if(h++===d)break}else if(!a(c,p)&&h>0)break;g(p,{strict:q})?(j&&l.index++,l.offset=0,j=!0):l.offset+=n(p)}return l},c.prototype.findContainerAndOffsetFromLocation=function(a){var c,d,e,g,h,i;if(0===a.index&&0===a.offset){for(c=this.element,g=0;c.firstChild;)if(c=c.firstChild,f(c)){g=1;break}return[c,g]}if(h=this.findNodeAndOffsetFromLocation(a),d=h[0],e=h[1],d){if(k(d))c=d,i=d.textContent,g=a.offset-e;else{if(c=d.parentNode,!f(c))for(;d===c.lastChild&&(d=c,c=c.parentNode,!f(c)););g=b(d),0!==a.offset&&g++}return[c,g]}},c.prototype.findNodeAndOffsetFromLocation=function(a){var b,c,d,e,f,g,h,j;for(h=0,j=this.getSignificantNodesForIndex(a.index),c=0,d=j.length;d>c;c++){if(b=j[c],e=n(b),a.offset<=h+e)if(k(b)){if(f=b,g=h,a.offset===g&&i(f))break}else f||(f=b,g=h);if(h+=e,h>a.offset)break}return[f,g]},c.prototype.findAttachmentElementParentForNode=function(a){for(;a&&a!==this.element;){if(e(a))return a;a=a.parentNode}},c.prototype.getSignificantNodesForIndex=function(a){var b,c,e,f,g;for(e=[],g=m(this.element,{usingFilter:d}),f=!1;g.nextNode();)if(c=g.currentNode,h(c)){if("undefined"!=typeof b&&null!==b?b++:b=0,b===a)f=!0;else if(f)break}else f&&e.push(c);return e},n=function(a){var b;return a.nodeType===Node.TEXT_NODE?i(a)?0:(b=a.textContent,b.length):"br"===l(a)||e(a)?1:0},d=function(a){return p(a)===NodeFilter.FILTER_ACCEPT?o(a):NodeFilter.FILTER_REJECT},p=function(a){return j(a)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},o=function(a){return e(a.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},c}()}.call(this),function(){var a,b,c=[].slice;a=Trix.getDOMRange,b=Trix.setDOMRange,Trix.PointMapper=function(){function d(){}return d.prototype.createDOMRangeFromPoint=function(c){var d,e,f,g,h,i,j,k;if(j=c.x,k=c.y,document.caretPositionFromPoint)return h=document.caretPositionFromPoint(j,k),f=h.offsetNode,e=h.offset,d=document.createRange(),d.setStart(f,e),d;if(document.caretRangeFromPoint)return document.caretRangeFromPoint(j,k);if(document.body.createTextRange){g=a();try{i=document.body.createTextRange(),i.moveToPoint(j,k),i.select()}catch(a){}return d=a(),b(g),d}},d.prototype.getClientRectsForDOMRange=function(a){var b,d,e;return d=c.call(a.getClientRects()),e=d[0],b=d[d.length-1],[e,b]},d}()}.call(this),function(){var a,b=function(a,b){return function(){return a.apply(b,arguments)}},c=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},d={}.hasOwnProperty,e=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};a=Trix.getDOMRange,Trix.SelectionChangeObserver=function(d){function f(){this.run=b(this.run,this),this.update=b(this.update,this),this.selectionManagers=[]}var g;return c(f,d),f.prototype.start=function(){return this.started?void 0:(this.started=!0,"onselectionchange"in document?document.addEventListener("selectionchange",this.update,!0):this.run());
},f.prototype.stop=function(){return this.started?(this.started=!1,document.removeEventListener("selectionchange",this.update,!0)):void 0},f.prototype.registerSelectionManager=function(a){return e.call(this.selectionManagers,a)<0?(this.selectionManagers.push(a),this.start()):void 0},f.prototype.unregisterSelectionManager=function(a){var b;return this.selectionManagers=function(){var c,d,e,f;for(e=this.selectionManagers,f=[],c=0,d=e.length;d>c;c++)b=e[c],b!==a&&f.push(b);return f}.call(this),0===this.selectionManagers.length?this.stop():void 0},f.prototype.notifySelectionManagersOfSelectionChange=function(){var a,b,c,d,e;for(c=this.selectionManagers,d=[],a=0,b=c.length;b>a;a++)e=c[a],d.push(e.selectionDidChange());return d},f.prototype.update=function(){var b;return b=a(),g(b,this.domRange)?void 0:(this.domRange=b,this.notifySelectionManagersOfSelectionChange())},f.prototype.reset=function(){return this.domRange=null,this.update()},f.prototype.run=function(){return this.started?(this.update(),requestAnimationFrame(this.run)):void 0},g=function(a,b){return(null!=a?a.startContainer:void 0)===(null!=b?b.startContainer:void 0)&&(null!=a?a.startOffset:void 0)===(null!=b?b.startOffset:void 0)&&(null!=a?a.endContainer:void 0)===(null!=b?b.endContainer:void 0)&&(null!=a?a.endOffset:void 0)===(null!=b?b.endOffset:void 0)},f}(Trix.BasicObject),null==Trix.selectionChangeObserver&&(Trix.selectionChangeObserver=new Trix.SelectionChangeObserver)}.call(this),function(){var a,b,c,d,e,f,g,h,i,j,k,l,m=function(a,b){return function(){return a.apply(b,arguments)}},n=function(a,b){function c(){this.constructor=a}for(var d in b)o.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},o={}.hasOwnProperty;d=Trix.getDOMSelection,c=Trix.getDOMRange,l=Trix.setDOMRange,a=Trix.defer,b=Trix.elementContainsNode,h=Trix.nodeIsCursorTarget,g=Trix.innerElementIsActive,e=Trix.handleEvent,f=Trix.handleEventOnce,i=Trix.normalizeRange,j=Trix.rangeIsCollapsed,k=Trix.rangesAreEqual,Trix.SelectionManager=function(a){function f(a){this.element=a,this.selectionDidChange=m(this.selectionDidChange,this),this.didMouseDown=m(this.didMouseDown,this),this.locationMapper=new Trix.LocationMapper(this.element),this.pointMapper=new Trix.PointMapper,this.lockCount=0,e("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}return n(f,a),f.prototype.getLocationRange=function(a){var b,d;return null==a&&(a={}),b=a.strict===!1?this.createLocationRangeFromDOMRange(c(),{strict:!1}):a.ignoreLock?this.currentLocationRange:null!=(d=this.lockedLocationRange)?d:this.currentLocationRange},f.prototype.setLocationRange=function(a){var b;if(!this.lockedLocationRange)return a=i(a),(b=this.createDOMRangeFromLocationRange(a))?(l(b),this.updateCurrentLocationRange(a)):void 0},f.prototype.setLocationRangeFromPointRange=function(a){var b,c;return a=i(a),c=this.getLocationAtPoint(a[0]),b=this.getLocationAtPoint(a[1]),this.setLocationRange([c,b])},f.prototype.getClientRectAtLocationRange=function(a){var b;return(b=this.createDOMRangeFromLocationRange(a))?this.getClientRectsForDOMRange(b)[1]:void 0},f.prototype.locationIsCursorTarget=function(a){var b,c,d;return d=this.findNodeAndOffsetFromLocation(a),b=d[0],c=d[1],h(b)},f.prototype.lock=function(){return 0===this.lockCount++?(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange()):void 0},f.prototype.unlock=function(){var a;return 0===--this.lockCount&&(a=this.lockedLocationRange,this.lockedLocationRange=null,null!=a)?this.setLocationRange(a):void 0},f.prototype.clearSelection=function(){var a;return null!=(a=d())?a.removeAllRanges():void 0},f.prototype.selectionIsCollapsed=function(){var a;return(null!=(a=c())?a.collapsed:void 0)===!0},f.prototype.selectionIsExpanded=function(){return!this.selectionIsCollapsed()},f.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),f.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),f.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),f.proxyMethod("pointMapper.createDOMRangeFromPoint"),f.proxyMethod("pointMapper.getClientRectsForDOMRange"),f.prototype.didMouseDown=function(){return this.pauseTemporarily()},f.prototype.pauseTemporarily=function(){var a,c,d,f;return this.paused=!0,c=function(a){return function(){var c,e,g;for(a.paused=!1,clearTimeout(f),e=0,g=d.length;g>e;e++)c=d[e],c.destroy();return b(document,a.element)?a.selectionDidChange():void 0}}(this),f=setTimeout(c,200),d=function(){var b,d,f,g;for(f=["mousemove","keydown"],g=[],b=0,d=f.length;d>b;b++)a=f[b],g.push(e(a,{onElement:document,withCallback:c}));return g}()},f.prototype.selectionDidChange=function(){return this.paused||g(this.element)?void 0:this.updateCurrentLocationRange()},f.prototype.updateCurrentLocationRange=function(a){var b;return(null!=a?a:a=this.createLocationRangeFromDOMRange(c()))&&!k(a,this.currentLocationRange)?(this.currentLocationRange=a,null!=(b=this.delegate)&&"function"==typeof b.locationRangeDidChange?b.locationRangeDidChange(this.currentLocationRange.slice(0)):void 0):void 0},f.prototype.createDOMRangeFromLocationRange=function(a){var b,c,d,e;return d=this.findContainerAndOffsetFromLocation(a[0]),c=j(a)?d:null!=(e=this.findContainerAndOffsetFromLocation(a[1]))?e:d,null!=d&&null!=c?(b=document.createRange(),b.setStart.apply(b,d),b.setEnd.apply(b,c),b):void 0},f.prototype.createLocationRangeFromDOMRange=function(a,b){var c,d;if(null!=a&&this.domRangeWithinElement(a)&&(d=this.findLocationFromContainerAndOffset(a.startContainer,a.startOffset,b)))return a.collapsed||(c=this.findLocationFromContainerAndOffset(a.endContainer,a.endOffset,b)),i([d,c])},f.prototype.getLocationAtPoint=function(a){var b,c;return(b=this.createDOMRangeFromPoint(a))&&null!=(c=this.createLocationRangeFromDOMRange(b))?c[0]:void 0},f.prototype.domRangeWithinElement=function(a){return a.collapsed?b(this.element,a.startContainer):b(this.element,a.startContainer)&&b(this.element,a.endContainer)},f}(Trix.BasicObject)}.call(this),function(){var a,b,c,d=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},e={}.hasOwnProperty,f=[].slice;b=Trix.rangeIsCollapsed,c=Trix.rangesAreEqual,a=Trix.objectsAreEqual,Trix.EditorController=function(e){function g(a){var b,c;this.editorElement=a.editorElement,b=a.document,c=a.html,this.selectionManager=new Trix.SelectionManager(this.editorElement),this.selectionManager.delegate=this,this.composition=new Trix.Composition,this.composition.delegate=this,this.attachmentManager=new Trix.AttachmentManager(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=new Trix.InputController(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new Trix.CompositionController(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new Trix.ToolbarController(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new Trix.Editor(this.composition,this.selectionManager,this.editorElement),null!=b?this.editor.loadDocument(b):this.editor.loadHTML(c)}return d(g,e),g.prototype.registerSelectionManager=function(){return Trix.selectionChangeObserver.registerSelectionManager(this.selectionManager)},g.prototype.unregisterSelectionManager=function(){return Trix.selectionChangeObserver.unregisterSelectionManager(this.selectionManager)},g.prototype.compositionDidChangeDocument=function(){return this.editorElement.notify("document-change"),this.handlingInput?void 0:this.render()},g.prototype.compositionDidChangeCurrentAttributes=function(a){return this.currentAttributes=a,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.editorElement.notify("attributes-change",{attributes:this.currentAttributes})},g.prototype.compositionDidPerformInsertionAtRange=function(a){return this.pasting?this.pastedRange=a:void 0},g.prototype.compositionShouldAcceptFile=function(a){return this.editorElement.notify("file-accept",{file:a})},g.prototype.compositionDidAddAttachment=function(a){var b;return b=this.attachmentManager.manageAttachment(a),this.editorElement.notify("attachment-add",{attachment:b})},g.prototype.compositionDidEditAttachment=function(a){var b;return this.compositionController.rerenderViewForObject(a),b=this.attachmentManager.manageAttachment(a),this.editorElement.notify("attachment-edit",{attachment:b}),this.editorElement.notify("change")},g.prototype.compositionDidRemoveAttachment=function(a){var b;return b=this.attachmentManager.unmanageAttachment(a),this.editorElement.notify("attachment-remove",{attachment:b})},g.prototype.compositionDidStartEditingAttachment=function(a){var b,c;return c=this.composition.document,b=c.getRangeOfAttachment(a),this.attachmentLocationRange=c.locationRangeFromRange(b),this.compositionController.installAttachmentEditorForAttachment(a),this.selectionManager.setLocationRange(this.attachmentLocationRange)},g.prototype.compositionDidStopEditingAttachment=function(){return this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null},g.prototype.compositionDidRequestChangingSelectionToLocationRange=function(a){return!this.loadingSnapshot||this.isFocused()?(this.requestedLocationRange=a,this.documentWhenLocationRangeRequested=this.composition.document,this.handlingInput?void 0:this.render()):void 0},g.prototype.compositionWillLoadSnapshot=function(){return this.loadingSnapshot=!0},g.prototype.compositionDidLoadSnapshot=function(){return this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1},g.prototype.getSelectionManager=function(){return this.selectionManager},g.proxyMethod("getSelectionManager().setLocationRange"),g.proxyMethod("getSelectionManager().getLocationRange"),g.prototype.attachmentManagerDidRequestRemovalOfAttachment=function(a){return this.removeAttachment(a)},g.prototype.compositionControllerWillSyncDocumentView=function(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()},g.prototype.compositionControllerDidSyncDocumentView=function(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.editorElement.notify("sync")},g.prototype.compositionControllerDidRender=function(){return null!=this.requestedLocationRange&&(this.documentWhenLocationRangeRequested.isEqualTo(this.composition.document)&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.composition.updateCurrentAttributes(),this.requestedLocationRange=null,this.documentWhenLocationRangeRequested=null),this.editorElement.notify("render")},g.prototype.compositionControllerDidFocus=function(){return this.toolbarController.hideDialog(),this.editorElement.notify("focus")},g.prototype.compositionControllerDidBlur=function(){return this.editorElement.notify("blur")},g.prototype.compositionControllerDidSelectAttachment=function(a){return this.composition.editAttachment(a)},g.prototype.compositionControllerDidRequestDeselectingAttachment=function(){return this.attachmentLocationRange?this.selectionManager.setLocationRange(this.attachmentLocationRange[1]):void 0},g.prototype.compositionControllerWillUpdateAttachment=function(a){return this.editor.recordUndoEntry("Edit Attachment",{context:a.id,consolidatable:!0})},g.prototype.compositionControllerDidRequestRemovalOfAttachment=function(a){return this.removeAttachment(a)},g.prototype.inputControllerWillHandleInput=function(){return this.handlingInput=!0,this.requestedRender=!1},g.prototype.inputControllerDidRequestRender=function(){return this.requestedRender=!0},g.prototype.inputControllerDidHandleInput=function(){return this.handlingInput=!1,this.requestedRender?(this.requestedRender=!1,this.render()):void 0},g.prototype.inputControllerDidRequestReparse=function(){return this.reparse()},g.prototype.inputControllerWillPerformTyping=function(){return this.recordTypingUndoEntry()},g.prototype.inputControllerWillCutText=function(){return this.editor.recordUndoEntry("Cut")},g.prototype.inputControllerWillPasteText=function(){return this.editor.recordUndoEntry("Paste"),this.pasting=!0},g.prototype.inputControllerDidPaste=function(a){var b;return b=this.pastedRange,this.pastedRange=null,this.pasting=null,this.editorElement.notify("paste",{pasteData:a,range:b}),this.render()},g.prototype.inputControllerWillMoveText=function(){return this.editor.recordUndoEntry("Move")},g.prototype.inputControllerWillAttachFiles=function(){return this.editor.recordUndoEntry("Drop Files")},g.prototype.inputControllerDidReceiveKeyboardCommand=function(a){return this.toolbarController.applyKeyboardCommand(a)},g.prototype.inputControllerDidStartDrag=function(){return this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()},g.prototype.inputControllerDidReceiveDragOverPoint=function(a){return this.selectionManager.setLocationRangeFromPointRange(a)},g.prototype.inputControllerDidCancelDrag=function(){return this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null},g.prototype.locationRangeDidChange=function(a){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!c(this.attachmentLocationRange,a)&&this.composition.stopEditingAttachment(),this.editorElement.notify("selection-change")},g.prototype.toolbarDidClickButton=function(){return this.getLocationRange()?void 0:this.setLocationRange({index:0,offset:0})},g.prototype.toolbarDidInvokeAction=function(a){return this.invokeAction(a)},g.prototype.toolbarDidToggleAttribute=function(a){return this.recordFormattingUndoEntry(),this.composition.toggleCurrentAttribute(a),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},g.prototype.toolbarDidUpdateAttribute=function(a,b){return this.recordFormattingUndoEntry(),this.composition.setCurrentAttribute(a,b),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},g.prototype.toolbarDidRemoveAttribute=function(a){return this.recordFormattingUndoEntry(),this.composition.removeCurrentAttribute(a),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},g.prototype.toolbarWillShowDialog=function(){return this.composition.expandSelectionForEditing(),this.freezeSelection()},g.prototype.toolbarDidShowDialog=function(a){return this.editorElement.notify("toolbar-dialog-show",{dialogName:a})},g.prototype.toolbarDidHideDialog=function(a){return this.thawSelection(),this.editorElement.focus(),this.editorElement.notify("toolbar-dialog-hide",{dialogName:a})},g.prototype.freezeSelection=function(){return this.selectionFrozen?void 0:(this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render())},g.prototype.thawSelection=function(){return this.selectionFrozen?(this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()):void 0},g.prototype.actions={undo:{test:function(){return this.editor.canUndo()},perform:function(){return this.editor.undo()}},redo:{test:function(){return this.editor.canRedo()},perform:function(){return this.editor.redo()}},link:{test:function(){return this.editor.canActivateAttribute("href")}},increaseBlockLevel:{test:function(){return this.editor.canIncreaseIndentationLevel()},perform:function(){return this.editor.increaseIndentationLevel()&&this.render()}},decreaseBlockLevel:{test:function(){return this.editor.canDecreaseIndentationLevel()},perform:function(){return this.editor.decreaseIndentationLevel()&&this.render()}}},g.prototype.canInvokeAction=function(a){var b,c;return!!this.actionIsExternal(a)||!!(null!=(b=this.actions[a])&&null!=(c=b.test)?c.call(this):void 0)},g.prototype.invokeAction=function(a){var b,c;return this.actionIsExternal(a)?this.editorElement.notify("action-invoke",{actionName:a}):null!=(b=this.actions[a])&&null!=(c=b.perform)?c.call(this):void 0},g.prototype.actionIsExternal=function(a){return/^x-./.test(a)},g.prototype.getCurrentActions=function(){var a,b;b={};for(a in this.actions)b[a]=this.canInvokeAction(a);return b},g.prototype.updateCurrentActions=function(){var b;return b=this.getCurrentActions(),a(b,this.currentActions)?void 0:(this.currentActions=b,this.toolbarController.updateActions(this.currentActions),this.editorElement.notify("actions-change",{actions:this.currentActions}))},g.prototype.reparse=function(){return this.composition.replaceHTML(this.editorElement.innerHTML)},g.prototype.render=function(){return this.compositionController.render()},g.prototype.removeAttachment=function(a){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(a),this.render()},g.prototype.recordFormattingUndoEntry=function(){var a;return a=this.selectionManager.getLocationRange(),b(a)?void 0:this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})},g.prototype.recordTypingUndoEntry=function(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})},g.prototype.getUndoContext=function(){var a;return a=1<=arguments.length?f.call(arguments,0):[],[this.getLocationContext(),this.getTimeContext()].concat(f.call(a))},g.prototype.getLocationContext=function(){var a;return a=this.selectionManager.getLocationRange(),b(a)?a[0].index:a},g.prototype.getTimeContext=function(){return Trix.config.undoInterval>0?Math.floor((new Date).getTime()/Trix.config.undoInterval):0},g.prototype.isFocused=function(){var a;return this.editorElement===(null!=(a=this.editorElement.ownerDocument)?a.activeElement:void 0)},g}(Trix.Controller)}.call(this),function(){var a,b,c,d,e,f,g;e=Trix.makeElement,f=Trix.selectionElements,g=Trix.triggerEvent,c=Trix.handleEvent,d=Trix.handleEventOnce,b=Trix.defer,a=Trix.AttachmentView.attachmentSelector,Trix.registerElement("trix-editor",function(){var b,h,i,j,k,l;return j=0,b=function(a){return!document.querySelector(":focus")&&a.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===a?a.focus():void 0},k=function(a){return a.hasAttribute("contenteditable")?void 0:(a.setAttribute("contenteditable",""),d("focus",{onElement:a,withCallback:function(){return h(a)}}))},h=function(a){return i(a),l(a)},i=function(a){return("function"==typeof document.queryCommandSupported?document.queryCommandSupported("enableObjectResizing"):void 0)?(document.execCommand("enableObjectResizing",!1,!1),c("mscontrolselect",{onElement:a,preventDefault:!0})):void 0},l=function(){var a;return("function"==typeof document.queryCommandSupported?document.queryCommandSupported("DefaultParagraphSeparator"):void 0)&&(a=Trix.config.blockAttributes.default.tagName,"div"===a||"p"===a)?document.execCommand("DefaultParagraphSeparator",!1,a):void 0},{defaultCSS:"%t:empty:not(:focus)::before {\n  content: attr(placeholder);\n  color: graytext;\n}\n\n%t a[contenteditable=false] {\n  cursor: text;\n}\n\n%t img {\n  max-width: 100%;\n  height: auto;\n}\n\n%t "+a+" figcaption textarea {\n  resize: none;\n}\n\n%t "+a+" figcaption textarea.trix-autoresize-clone {\n  position: absolute;\n  left: -9999px;\n  max-height: 0px;\n}\n\n%t "+a+'[data-trix-mutable] figcaption:empty::before {\n  content: "'+Trix.config.lang.captionPrompt+'";\n  color: graytext;\n}\n\n%t '+f.selector+" { "+f.cssText+" }",trixId:{get:function(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++j),this.trixId)}},toolbarElement:{get:function(){var a,b,c;return this.hasAttribute("toolbar")?null!=(b=this.ownerDocument)?b.getElementById(this.getAttribute("toolbar")):void 0:this.parentElement?(c="trix-toolbar-"+this.trixId,this.setAttribute("toolbar",c),a=e("trix-toolbar",{id:c}),this.parentElement.insertBefore(a,this),a):void 0}},inputElement:{get:function(){var a,b,c;return this.hasAttribute("input")?null!=(c=this.ownerDocument)?c.getElementById(this.getAttribute("input")):void 0:this.parentElement?(b="trix-input-"+this.trixId,this.setAttribute("input",b),a=e("input",{type:"hidden",id:b}),this.parentElement.insertBefore(a,this.nextElementSibling),a):void 0}},editor:{get:function(){var a;return null!=(a=this.editorController)?a.editor:void 0}},name:{get:function(){var a;return null!=(a=this.inputElement)?a.name:void 0}},value:{get:function(){var a;return null!=(a=this.inputElement)?a.value:void 0},set:function(a){var b;return this.defaultValue=a,null!=(b=this.editor)?b.loadHTML(this.defaultValue):void 0}},notify:function(a,b){var c;switch(a){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notify("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":null!=(c=this.inputElement)&&(c.value=Trix.serializeToContentType(this,"text/html"))}return this.editorController?g("trix-"+a,{onElement:this,attributes:b}):void 0},createdCallback:function(){return k(this)},attachedCallback:function(){return this.hasAttribute("data-trix-internal")?void 0:(b(this),null==this.editorController&&(this.editorController=new Trix.EditorController({editorElement:this,html:this.defaultValue=this.value})),this.editorController.registerSelectionManager(),this.registerResetListener(),requestAnimationFrame(function(a){return function(){return a.notify("initialize")}}(this)))},detachedCallback:function(){var a;return null!=(a=this.editorController)&&a.unregisterSelectionManager(),this.unregisterResetListener()},registerResetListener:function(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener("reset",this.resetListener,!1)},unregisterResetListener:function(){return window.removeEventListener("reset",this.resetListener,!1)},resetBubbled:function(a){var b;return a.target!==(null!=(b=this.inputElement)?b.form:void 0)||a.defaultPrevented?void 0:this.reset()},reset:function(){return this.value=this.defaultValue}}}())}.call(this);